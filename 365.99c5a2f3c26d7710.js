(self.webpackChunkpreview_ui=self.webpackChunkpreview_ui||[]).push([[365],{4707:(u,y,t)=>{t.d(y,{t:()=>a});var s=t(7579),i=t(6063);class a extends s.x{constructor(d=1/0,v=1/0,h=i.l){super(),this._bufferSize=d,this._windowTime=v,this._timestampProvider=h,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=v===1/0,this._bufferSize=Math.max(1,d),this._windowTime=Math.max(1,v)}next(d){const{isStopped:v,_buffer:h,_infiniteTimeWindow:E,_timestampProvider:g,_windowTime:S}=this;v||(h.push(d),!E&&h.push(g.now()+S)),this._trimBuffer(),super.next(d)}_subscribe(d){this._throwIfClosed(),this._trimBuffer();const v=this._innerSubscribe(d),{_infiniteTimeWindow:h,_buffer:E}=this,g=E.slice();for(let S=0;S<g.length&&!d.closed;S+=h?1:2)d.next(g[S]);return this._checkFinalizedStatuses(d),v}_trimBuffer(){const{_bufferSize:d,_timestampProvider:v,_buffer:h,_infiniteTimeWindow:E}=this,g=(E?1:2)*d;if(d<1/0&&g<h.length&&h.splice(0,h.length-g),!E){const S=v.now();let P=0;for(let O=1;O<h.length&&h[O]<=S;O+=2)P=O;P&&h.splice(0,P+1)}}}},7579:(u,y,t)=>{t.d(y,{u:()=>E,x:()=>h});var s=t(9751),i=t(727);const l=(0,t(3888).d)(g=>function(){g(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var d=t(8737),v=t(2806);let h=(()=>{class g extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(P){const O=new E(this,this);return O.operator=P,O}_throwIfClosed(){if(this.closed)throw new l}next(P){(0,v.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const O of this.currentObservers)O.next(P)}})}error(P){(0,v.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=P;const{observers:O}=this;for(;O.length;)O.shift().error(P)}})}complete(){(0,v.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:P}=this;for(;P.length;)P.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var P;return(null===(P=this.observers)||void 0===P?void 0:P.length)>0}_trySubscribe(P){return this._throwIfClosed(),super._trySubscribe(P)}_subscribe(P){return this._throwIfClosed(),this._checkFinalizedStatuses(P),this._innerSubscribe(P)}_innerSubscribe(P){const{hasError:O,isStopped:A,observers:I}=this;return O||A?i.Lc:(this.currentObservers=null,I.push(P),new i.w0(()=>{this.currentObservers=null,(0,d.P)(I,P)}))}_checkFinalizedStatuses(P){const{hasError:O,thrownError:A,isStopped:I}=this;O?P.error(A):I&&P.complete()}asObservable(){const P=new s.y;return P.source=this,P}}return g.create=(S,P)=>new E(S,P),g})();class E extends h{constructor(S,P){super(),this.destination=S,this.source=P}next(S){var P,O;null===(O=null===(P=this.destination)||void 0===P?void 0:P.next)||void 0===O||O.call(P,S)}error(S){var P,O;null===(O=null===(P=this.destination)||void 0===P?void 0:P.error)||void 0===O||O.call(P,S)}complete(){var S,P;null===(P=null===(S=this.destination)||void 0===S?void 0:S.complete)||void 0===P||P.call(S)}_subscribe(S){var P,O;return null!==(O=null===(P=this.source)||void 0===P?void 0:P.subscribe(S))&&void 0!==O?O:i.Lc}}},3905:(u,y,t)=>{t.d(y,{z:()=>a});var s=t(6805),i=t(2961);function a(l,d){const v="object"==typeof d;return new Promise((h,E)=>{const g=new i.Hp({next:S=>{h(S),g.unsubscribe()},error:E,complete:()=>{v?h(d.defaultValue):E(new s.K)}});l.subscribe(g)})}},515:(u,y,t)=>{t.d(y,{E:()=>i});const i=new(t(9751).y)(d=>d.complete())},2843:(u,y,t)=>{t.d(y,{_:()=>a});var s=t(9751),i=t(576);function a(l,d){const v=(0,i.m)(l)?l:()=>l,h=E=>E.error(v());return new s.y(d?E=>d.schedule(h,0,E):h)}},9300:(u,y,t)=>{t.d(y,{h:()=>a});var s=t(4482),i=t(5403);function a(l,d){return(0,s.e)((v,h)=>{let E=0;v.subscribe((0,i.x)(h,g=>l.call(d,g,E++)&&h.next(g)))})}},5698:(u,y,t)=>{t.d(y,{q:()=>l});var s=t(515),i=t(4482),a=t(5403);function l(d){return d<=0?()=>s.E:(0,i.e)((v,h)=>{let E=0;v.subscribe((0,a.x)(h,g=>{++E<=d&&(h.next(g),d<=E&&h.complete())}))})}},6063:(u,y,t)=>{t.d(y,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},6805:(u,y,t)=>{t.d(y,{K:()=>i});const i=(0,t(3888).d)(a=>function(){a(this),this.name="EmptyError",this.message="no elements in sequence"})},9662:(u,y,t)=>{var s=t(614),i=t(6330),a=TypeError;u.exports=function(l){if(s(l))return l;throw a(i(l)+" is not a function")}},9483:(u,y,t)=>{var s=t(4411),i=t(6330),a=TypeError;u.exports=function(l){if(s(l))return l;throw a(i(l)+" is not a constructor")}},6077:(u,y,t)=>{var s=t(614),i=String,a=TypeError;u.exports=function(l){if("object"==typeof l||s(l))return l;throw a("Can't set "+i(l)+" as a prototype")}},1223:(u,y,t)=>{var s=t(5112),i=t(30),a=t(3070).f,l=s("unscopables"),d=Array.prototype;null==d[l]&&a(d,l,{configurable:!0,value:i(null)}),u.exports=function(v){d[l][v]=!0}},1530:(u,y,t)=>{var s=t(8710).charAt;u.exports=function(i,a,l){return a+(l?s(i,a).length:1)}},5787:(u,y,t)=>{var s=t(7976),i=TypeError;u.exports=function(a,l){if(s(l,a))return a;throw i("Incorrect invocation")}},9670:(u,y,t)=>{var s=t(111),i=String,a=TypeError;u.exports=function(l){if(s(l))return l;throw a(i(l)+" is not an object")}},1318:(u,y,t)=>{var s=t(5656),i=t(1400),a=t(6244),l=function(d){return function(v,h,E){var O,g=s(v),S=a(g),P=i(E,S);if(d&&h!=h){for(;S>P;)if((O=g[P++])!=O)return!0}else for(;S>P;P++)if((d||P in g)&&g[P]===h)return d||P||0;return!d&&-1}};u.exports={includes:l(!0),indexOf:l(!1)}},9341:(u,y,t)=>{var s=t(7293);u.exports=function(i,a){var l=[][i];return!!l&&s(function(){l.call(null,a||function(){return 1},1)})}},1589:(u,y,t)=>{var s=t(1400),i=t(6244),a=t(6135),l=Array,d=Math.max;u.exports=function(v,h,E){for(var g=i(v),S=s(h,g),P=s(void 0===E?g:E,g),O=l(d(P-S,0)),A=0;S<P;S++,A++)a(O,A,v[S]);return O.length=A,O}},206:(u,y,t)=>{var s=t(1702);u.exports=s([].slice)},4362:(u,y,t)=>{var s=t(1589),i=Math.floor,a=function(v,h){var E=v.length,g=i(E/2);return E<8?l(v,h):d(v,a(s(v,0,g),h),a(s(v,g),h),h)},l=function(v,h){for(var S,P,E=v.length,g=1;g<E;){for(P=g,S=v[g];P&&h(v[P-1],S)>0;)v[P]=v[--P];P!==g++&&(v[P]=S)}return v},d=function(v,h,E,g){for(var S=h.length,P=E.length,O=0,A=0;O<S||A<P;)v[O+A]=O<S&&A<P?g(h[O],E[A])<=0?h[O++]:E[A++]:O<S?h[O++]:E[A++];return v};u.exports=a},7072:(u,y,t)=>{var i=t(5112)("iterator"),a=!1;try{var l=0,d={next:function(){return{done:!!l++}},return:function(){a=!0}};d[i]=function(){return this},Array.from(d,function(){throw 2})}catch{}u.exports=function(v,h){if(!h&&!a)return!1;var E=!1;try{var g={};g[i]=function(){return{next:function(){return{done:E=!0}}}},v(g)}catch{}return E}},4326:(u,y,t)=>{var s=t(1702),i=s({}.toString),a=s("".slice);u.exports=function(l){return a(i(l),8,-1)}},648:(u,y,t)=>{var s=t(1694),i=t(614),a=t(4326),d=t(5112)("toStringTag"),v=Object,h="Arguments"==a(function(){return arguments}());u.exports=s?a:function(g){var S,P,O;return void 0===g?"Undefined":null===g?"Null":"string"==typeof(P=function(g,S){try{return g[S]}catch{}}(S=v(g),d))?P:h?a(S):"Object"==(O=a(S))&&i(S.callee)?"Arguments":O}},9920:(u,y,t)=>{var s=t(2597),i=t(3887),a=t(1236),l=t(3070);u.exports=function(d,v,h){for(var E=i(v),g=l.f,S=a.f,P=0;P<E.length;P++){var O=E[P];!s(d,O)&&(!h||!s(h,O))&&g(d,O,S(v,O))}}},4964:(u,y,t)=>{var i=t(5112)("match");u.exports=function(a){var l=/./;try{"/./"[a](l)}catch{try{return l[i]=!1,"/./"[a](l)}catch{}}return!1}},8544:(u,y,t)=>{var s=t(7293);u.exports=!s(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},6178:u=>{u.exports=function(y,t){return{value:y,done:t}}},8880:(u,y,t)=>{var s=t(9781),i=t(3070),a=t(9114);u.exports=s?function(l,d,v){return i.f(l,d,a(1,v))}:function(l,d,v){return l[d]=v,l}},9114:u=>{u.exports=function(y,t){return{enumerable:!(1&y),configurable:!(2&y),writable:!(4&y),value:t}}},6135:(u,y,t)=>{var s=t(4948),i=t(3070),a=t(9114);u.exports=function(l,d,v){var h=s(d);h in l?i.f(l,h,a(0,v)):l[h]=v}},8052:(u,y,t)=>{var s=t(614),i=t(3070),a=t(6339),l=t(3072);u.exports=function(d,v,h,E){E||(E={});var g=E.enumerable,S=void 0!==E.name?E.name:v;if(s(h)&&a(h,S,E),E.global)g?d[v]=h:l(v,h);else{try{E.unsafe?d[v]&&(g=!0):delete d[v]}catch{}g?d[v]=h:i.f(d,v,{value:h,enumerable:!1,configurable:!E.nonConfigurable,writable:!E.nonWritable})}return d}},3072:(u,y,t)=>{var s=t(7854),i=Object.defineProperty;u.exports=function(a,l){try{i(s,a,{value:l,configurable:!0,writable:!0})}catch{s[a]=l}return l}},5117:(u,y,t)=>{var s=t(6330),i=TypeError;u.exports=function(a,l){if(!delete a[l])throw i("Cannot delete property "+s(l)+" of "+s(a))}},9781:(u,y,t)=>{var s=t(7293);u.exports=!s(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},4154:u=>{var y="object"==typeof document&&document.all;u.exports={all:y,IS_HTMLDDA:typeof y>"u"&&void 0!==y}},317:(u,y,t)=>{var s=t(7854),i=t(111),a=s.document,l=i(a)&&i(a.createElement);u.exports=function(d){return l?a.createElement(d):{}}},8324:u=>{u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(u,y,t)=>{var i=t(317)("span").classList,a=i&&i.constructor&&i.constructor.prototype;u.exports=a===Object.prototype?void 0:a},8886:(u,y,t)=>{var i=t(8113).match(/firefox\/(\d+)/i);u.exports=!!i&&+i[1]},7871:(u,y,t)=>{var s=t(3823),i=t(5268);u.exports=!s&&!i&&"object"==typeof window&&"object"==typeof document},3823:u=>{u.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},256:(u,y,t)=>{var s=t(8113);u.exports=/MSIE|Trident/.test(s)},1528:(u,y,t)=>{var s=t(8113);u.exports=/ipad|iphone|ipod/i.test(s)&&typeof Pebble<"u"},6833:(u,y,t)=>{var s=t(8113);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},5268:(u,y,t)=>{var s=t(4326);u.exports=typeof process<"u"&&"process"==s(process)},1036:(u,y,t)=>{var s=t(8113);u.exports=/web0s(?!.*chrome)/i.test(s)},8113:u=>{u.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},7392:(u,y,t)=>{var h,E,s=t(7854),i=t(8113),a=s.process,l=s.Deno,d=a&&a.versions||l&&l.version,v=d&&d.v8;v&&(E=(h=v.split("."))[0]>0&&h[0]<4?1:+(h[0]+h[1])),!E&&i&&(!(h=i.match(/Edge\/(\d+)/))||h[1]>=74)&&(h=i.match(/Chrome\/(\d+)/))&&(E=+h[1]),u.exports=E},8008:(u,y,t)=>{var i=t(8113).match(/AppleWebKit\/(\d+)\./);u.exports=!!i&&+i[1]},748:u=>{u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(u,y,t)=>{var s=t(7854),i=t(1236).f,a=t(8880),l=t(8052),d=t(3072),v=t(9920),h=t(4705);u.exports=function(E,g){var I,b,C,w,L,S=E.target,P=E.global,O=E.stat;if(I=P?s:O?s[S]||d(S,{}):(s[S]||{}).prototype)for(b in g){if(w=g[b],C=E.dontCallGetSet?(L=i(I,b))&&L.value:I[b],!h(P?b:S+(O?".":"#")+b,E.forced)&&void 0!==C){if(typeof w==typeof C)continue;v(w,C)}(E.sham||C&&C.sham)&&a(w,"sham",!0),l(I,b,w,E)}}},7293:u=>{u.exports=function(y){try{return!!y()}catch{return!0}}},7007:(u,y,t)=>{t(4916);var s=t(1470),i=t(8052),a=t(2261),l=t(7293),d=t(5112),v=t(8880),h=d("species"),E=RegExp.prototype;u.exports=function(g,S,P,O){var A=d(g),I=!l(function(){var L={};return L[A]=function(){return 7},7!=""[g](L)}),b=I&&!l(function(){var L=!1,x=/a/;return"split"===g&&((x={}).constructor={},x.constructor[h]=function(){return x},x.flags="",x[A]=/./[A]),x.exec=function(){return L=!0,null},x[A](""),!L});if(!I||!b||P){var C=s(/./[A]),w=S(A,""[g],function(L,x,M,F,$){var Y=s(L),j=x.exec;return j===a||j===E.exec?I&&!$?{done:!0,value:C(x,M,F)}:{done:!0,value:Y(M,x,F)}:{done:!1}});i(String.prototype,g,w[0]),i(E,A,w[1])}O&&v(E[A],"sham",!0)}},2104:(u,y,t)=>{var s=t(4374),i=Function.prototype,a=i.apply,l=i.call;u.exports="object"==typeof Reflect&&Reflect.apply||(s?l.bind(a):function(){return l.apply(a,arguments)})},9974:(u,y,t)=>{var s=t(1470),i=t(9662),a=t(4374),l=s(s.bind);u.exports=function(d,v){return i(d),void 0===v?d:a?l(d,v):function(){return d.apply(v,arguments)}}},4374:(u,y,t)=>{var s=t(7293);u.exports=!s(function(){var i=function(){}.bind();return"function"!=typeof i||i.hasOwnProperty("prototype")})},6916:(u,y,t)=>{var s=t(4374),i=Function.prototype.call;u.exports=s?i.bind(i):function(){return i.apply(i,arguments)}},6530:(u,y,t)=>{var s=t(9781),i=t(2597),a=Function.prototype,l=s&&Object.getOwnPropertyDescriptor,d=i(a,"name"),v=d&&"something"===function(){}.name,h=d&&(!s||s&&l(a,"name").configurable);u.exports={EXISTS:d,PROPER:v,CONFIGURABLE:h}},1470:(u,y,t)=>{var s=t(4326),i=t(1702);u.exports=function(a){if("Function"===s(a))return i(a)}},1702:(u,y,t)=>{var s=t(4374),i=Function.prototype,a=i.call,l=s&&i.bind.bind(a,a);u.exports=s?l:function(d){return function(){return a.apply(d,arguments)}}},5005:(u,y,t)=>{var s=t(7854),i=t(614),a=function(l){return i(l)?l:void 0};u.exports=function(l,d){return arguments.length<2?a(s[l]):s[l]&&s[l][d]}},1246:(u,y,t)=>{var s=t(648),i=t(8173),a=t(8554),l=t(7497),v=t(5112)("iterator");u.exports=function(h){if(!a(h))return i(h,v)||i(h,"@@iterator")||l[s(h)]}},4121:(u,y,t)=>{var s=t(6916),i=t(9662),a=t(9670),l=t(6330),d=t(1246),v=TypeError;u.exports=function(h,E){var g=arguments.length<2?d(h):E;if(i(g))return a(s(g,h));throw v(l(h)+" is not iterable")}},8173:(u,y,t)=>{var s=t(9662),i=t(8554);u.exports=function(a,l){var d=a[l];return i(d)?void 0:s(d)}},647:(u,y,t)=>{var s=t(1702),i=t(7908),a=Math.floor,l=s("".charAt),d=s("".replace),v=s("".slice),h=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,E=/\$([$&'`]|\d{1,2})/g;u.exports=function(g,S,P,O,A,I){var b=P+g.length,C=O.length,w=E;return void 0!==A&&(A=i(A),w=h),d(I,w,function(L,x){var M;switch(l(x,0)){case"$":return"$";case"&":return g;case"`":return v(S,0,P);case"'":return v(S,b);case"<":M=A[v(x,1,-1)];break;default:var F=+x;if(0===F)return L;if(F>C){var $=a(F/10);return 0===$?L:$<=C?void 0===O[$-1]?l(x,1):O[$-1]+l(x,1):L}M=O[F-1]}return void 0===M?"":M})}},7854:u=>{var y=function(t){return t&&t.Math==Math&&t};u.exports=y("object"==typeof globalThis&&globalThis)||y("object"==typeof window&&window)||y("object"==typeof self&&self)||y("object"==typeof global&&global)||function(){return this}()||Function("return this")()},2597:(u,y,t)=>{var s=t(1702),i=t(7908),a=s({}.hasOwnProperty);u.exports=Object.hasOwn||function(d,v){return a(i(d),v)}},3501:u=>{u.exports={}},842:u=>{u.exports=function(y,t){try{1==arguments.length?console.error(y):console.error(y,t)}catch{}}},490:(u,y,t)=>{var s=t(5005);u.exports=s("document","documentElement")},4664:(u,y,t)=>{var s=t(9781),i=t(7293),a=t(317);u.exports=!s&&!i(function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a})},8361:(u,y,t)=>{var s=t(1702),i=t(7293),a=t(4326),l=Object,d=s("".split);u.exports=i(function(){return!l("z").propertyIsEnumerable(0)})?function(v){return"String"==a(v)?d(v,""):l(v)}:l},2788:(u,y,t)=>{var s=t(1702),i=t(614),a=t(5465),l=s(Function.toString);i(a.inspectSource)||(a.inspectSource=function(d){return l(d)}),u.exports=a.inspectSource},9909:(u,y,t)=>{var O,A,I,s=t(4811),i=t(7854),a=t(111),l=t(8880),d=t(2597),v=t(5465),h=t(6200),E=t(3501),g="Object already initialized",S=i.TypeError;if(s||v.state){var w=v.state||(v.state=new(0,i.WeakMap));w.get=w.get,w.has=w.has,w.set=w.set,O=function(x,M){if(w.has(x))throw S(g);return M.facade=x,w.set(x,M),M},A=function(x){return w.get(x)||{}},I=function(x){return w.has(x)}}else{var L=h("state");E[L]=!0,O=function(x,M){if(d(x,L))throw S(g);return M.facade=x,l(x,L,M),M},A=function(x){return d(x,L)?x[L]:{}},I=function(x){return d(x,L)}}u.exports={set:O,get:A,has:I,enforce:function(x){return I(x)?A(x):O(x,{})},getterFor:function(x){return function(M){var F;if(!a(M)||(F=A(M)).type!==x)throw S("Incompatible receiver, "+x+" required");return F}}}},7659:(u,y,t)=>{var s=t(5112),i=t(7497),a=s("iterator"),l=Array.prototype;u.exports=function(d){return void 0!==d&&(i.Array===d||l[a]===d)}},614:(u,y,t)=>{var s=t(4154),i=s.all;u.exports=s.IS_HTMLDDA?function(a){return"function"==typeof a||a===i}:function(a){return"function"==typeof a}},4411:(u,y,t)=>{var s=t(1702),i=t(7293),a=t(614),l=t(648),d=t(5005),v=t(2788),h=function(){},E=[],g=d("Reflect","construct"),S=/^\s*(?:class|function)\b/,P=s(S.exec),O=!S.exec(h),A=function(C){if(!a(C))return!1;try{return g(h,E,C),!0}catch{return!1}},I=function(C){if(!a(C))return!1;switch(l(C)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return O||!!P(S,v(C))}catch{return!0}};I.sham=!0,u.exports=!g||i(function(){var b;return A(A.call)||!A(Object)||!A(function(){b=!0})||b})?I:A},4705:(u,y,t)=>{var s=t(7293),i=t(614),a=/#|\.prototype\./,l=function(g,S){var P=v[d(g)];return P==E||P!=h&&(i(S)?s(S):!!S)},d=l.normalize=function(g){return String(g).replace(a,".").toLowerCase()},v=l.data={},h=l.NATIVE="N",E=l.POLYFILL="P";u.exports=l},8554:u=>{u.exports=function(y){return null==y}},111:(u,y,t)=>{var s=t(614),i=t(4154),a=i.all;u.exports=i.IS_HTMLDDA?function(l){return"object"==typeof l?null!==l:s(l)||l===a}:function(l){return"object"==typeof l?null!==l:s(l)}},1913:u=>{u.exports=!1},7850:(u,y,t)=>{var s=t(111),i=t(4326),l=t(5112)("match");u.exports=function(d){var v;return s(d)&&(void 0!==(v=d[l])?!!v:"RegExp"==i(d))}},2190:(u,y,t)=>{var s=t(5005),i=t(614),a=t(7976),l=t(3307),d=Object;u.exports=l?function(v){return"symbol"==typeof v}:function(v){var h=s("Symbol");return i(h)&&a(h.prototype,d(v))}},408:(u,y,t)=>{var s=t(9974),i=t(6916),a=t(9670),l=t(6330),d=t(7659),v=t(6244),h=t(7976),E=t(4121),g=t(1246),S=t(9212),P=TypeError,O=function(I,b){this.stopped=I,this.result=b},A=O.prototype;u.exports=function(I,b,C){var Y,j,K,W,Z,k,ne,L=!(!C||!C.AS_ENTRIES),x=!(!C||!C.IS_RECORD),M=!(!C||!C.IS_ITERATOR),F=!(!C||!C.INTERRUPTED),$=s(b,C&&C.that),Q=function(z){return Y&&S(Y,"normal",z),new O(!0,z)},B=function(z){return L?(a(z),F?$(z[0],z[1],Q):$(z[0],z[1])):F?$(z,Q):$(z)};if(x)Y=I.iterator;else if(M)Y=I;else{if(!(j=g(I)))throw P(l(I)+" is not iterable");if(d(j)){for(K=0,W=v(I);W>K;K++)if((Z=B(I[K]))&&h(A,Z))return Z;return new O(!1)}Y=E(I,j)}for(k=x?I.next:Y.next;!(ne=i(k,Y)).done;){try{Z=B(ne.value)}catch(z){S(Y,"throw",z)}if("object"==typeof Z&&Z&&h(A,Z))return Z}return new O(!1)}},9212:(u,y,t)=>{var s=t(6916),i=t(9670),a=t(8173);u.exports=function(l,d,v){var h,E;i(l);try{if(!(h=a(l,"return"))){if("throw"===d)throw v;return v}h=s(h,l)}catch(g){E=!0,h=g}if("throw"===d)throw v;if(E)throw h;return i(h),v}},3061:(u,y,t)=>{var s=t(3383).IteratorPrototype,i=t(30),a=t(9114),l=t(8003),d=t(7497),v=function(){return this};u.exports=function(h,E,g,S){var P=E+" Iterator";return h.prototype=i(s,{next:a(+!S,g)}),l(h,P,!1,!0),d[P]=v,h}},1656:(u,y,t)=>{var s=t(2109),i=t(6916),a=t(1913),l=t(6530),d=t(614),v=t(3061),h=t(9518),E=t(7674),g=t(8003),S=t(8880),P=t(8052),O=t(5112),A=t(7497),I=t(3383),b=l.PROPER,C=l.CONFIGURABLE,w=I.IteratorPrototype,L=I.BUGGY_SAFARI_ITERATORS,x=O("iterator"),M="keys",F="values",$="entries",Y=function(){return this};u.exports=function(j,K,W,Z,k,ne,Q){v(W,K,Z);var ce,fe,Se,B=function(de){if(de===k&&se)return se;if(!L&&de in X)return X[de];switch(de){case M:case F:case $:return function(){return new W(this,de)}}return function(){return new W(this)}},z=K+" Iterator",le=!1,X=j.prototype,oe=X[x]||X["@@iterator"]||k&&X[k],se=!L&&oe||B(k),Pe="Array"==K&&X.entries||oe;if(Pe&&(ce=h(Pe.call(new j)))!==Object.prototype&&ce.next&&(!a&&h(ce)!==w&&(E?E(ce,w):d(ce[x])||P(ce,x,Y)),g(ce,z,!0,!0),a&&(A[z]=Y)),b&&k==F&&oe&&oe.name!==F&&(!a&&C?S(X,"name",F):(le=!0,se=function(){return i(oe,this)})),k)if(fe={values:B(F),keys:ne?se:B(M),entries:B($)},Q)for(Se in fe)(L||le||!(Se in X))&&P(X,Se,fe[Se]);else s({target:K,proto:!0,forced:L||le},fe);return(!a||Q)&&X[x]!==se&&P(X,x,se,{name:k}),A[K]=se,fe}},3383:(u,y,t)=>{var P,O,A,s=t(7293),i=t(614),a=t(111),l=t(30),d=t(9518),v=t(8052),h=t(5112),E=t(1913),g=h("iterator"),S=!1;[].keys&&("next"in(A=[].keys())?(O=d(d(A)))!==Object.prototype&&(P=O):S=!0),!a(P)||s(function(){var b={};return P[g].call(b)!==b})?P={}:E&&(P=l(P)),i(P[g])||v(P,g,function(){return this}),u.exports={IteratorPrototype:P,BUGGY_SAFARI_ITERATORS:S}},7497:u=>{u.exports={}},6244:(u,y,t)=>{var s=t(7466);u.exports=function(i){return s(i.length)}},6339:(u,y,t)=>{var s=t(1702),i=t(7293),a=t(614),l=t(2597),d=t(9781),v=t(6530).CONFIGURABLE,h=t(2788),E=t(9909),g=E.enforce,S=E.get,P=String,O=Object.defineProperty,A=s("".slice),I=s("".replace),b=s([].join),C=d&&!i(function(){return 8!==O(function(){},"length",{value:8}).length}),w=String(String).split("String"),L=u.exports=function(x,M,F){"Symbol("===A(P(M),0,7)&&(M="["+I(P(M),/^Symbol\(([^)]*)\)/,"$1")+"]"),F&&F.getter&&(M="get "+M),F&&F.setter&&(M="set "+M),(!l(x,"name")||v&&x.name!==M)&&(d?O(x,"name",{value:M,configurable:!0}):x.name=M),C&&F&&l(F,"arity")&&x.length!==F.arity&&O(x,"length",{value:F.arity});try{F&&l(F,"constructor")&&F.constructor?d&&O(x,"prototype",{writable:!1}):x.prototype&&(x.prototype=void 0)}catch{}var $=g(x);return l($,"source")||($.source=b(w,"string"==typeof M?M:"")),x};Function.prototype.toString=L(function(){return a(this)&&S(this).source||h(this)},"toString")},4758:u=>{var y=Math.ceil,t=Math.floor;u.exports=Math.trunc||function(i){var a=+i;return(a>0?t:y)(a)}},5948:(u,y,t)=>{var C,w,L,x,M,s=t(7854),i=t(9974),a=t(1236).f,l=t(261).set,d=t(8572),v=t(6833),h=t(1528),E=t(1036),g=t(5268),S=s.MutationObserver||s.WebKitMutationObserver,P=s.document,O=s.process,A=s.Promise,I=a(s,"queueMicrotask"),b=I&&I.value;if(!b){var F=new d,$=function(){var Y,j;for(g&&(Y=O.domain)&&Y.exit();j=F.get();)try{j()}catch(K){throw F.head&&C(),K}Y&&Y.enter()};v||g||E||!S||!P?!h&&A&&A.resolve?((x=A.resolve(void 0)).constructor=A,M=i(x.then,x),C=function(){M($)}):g?C=function(){O.nextTick($)}:(l=i(l,s),C=function(){l($)}):(w=!0,L=P.createTextNode(""),new S($).observe(L,{characterData:!0}),C=function(){L.data=w=!w}),b=function(Y){F.head||C(),F.add(Y)}}u.exports=b},8523:(u,y,t)=>{var s=t(9662),i=TypeError,a=function(l){var d,v;this.promise=new l(function(h,E){if(void 0!==d||void 0!==v)throw i("Bad Promise constructor");d=h,v=E}),this.resolve=s(d),this.reject=s(v)};u.exports.f=function(l){return new a(l)}},3929:(u,y,t)=>{var s=t(7850),i=TypeError;u.exports=function(a){if(s(a))throw i("The method doesn't accept regular expressions");return a}},30:(u,y,t)=>{var w,s=t(9670),i=t(6048),a=t(748),l=t(3501),d=t(490),v=t(317),h=t(6200),S="prototype",P="script",O=h("IE_PROTO"),A=function(){},I=function(x){return"<"+P+">"+x+"</"+P+">"},b=function(x){x.write(I("")),x.close();var M=x.parentWindow.Object;return x=null,M},L=function(){try{w=new ActiveXObject("htmlfile")}catch{}L=typeof document<"u"?document.domain&&w?b(w):function(){var F,x=v("iframe"),M="java"+P+":";return x.style.display="none",d.appendChild(x),x.src=String(M),(F=x.contentWindow.document).open(),F.write(I("document.F=Object")),F.close(),F.F}():b(w);for(var x=a.length;x--;)delete L[S][a[x]];return L()};l[O]=!0,u.exports=Object.create||function(M,F){var $;return null!==M?(A[S]=s(M),$=new A,A[S]=null,$[O]=M):$=L(),void 0===F?$:i.f($,F)}},6048:(u,y,t)=>{var s=t(9781),i=t(3353),a=t(3070),l=t(9670),d=t(5656),v=t(1956);y.f=s&&!i?Object.defineProperties:function(E,g){l(E);for(var I,S=d(g),P=v(g),O=P.length,A=0;O>A;)a.f(E,I=P[A++],S[I]);return E}},3070:(u,y,t)=>{var s=t(9781),i=t(4664),a=t(3353),l=t(9670),d=t(4948),v=TypeError,h=Object.defineProperty,E=Object.getOwnPropertyDescriptor,g="enumerable",S="configurable",P="writable";y.f=s?a?function(A,I,b){if(l(A),I=d(I),l(b),"function"==typeof A&&"prototype"===I&&"value"in b&&P in b&&!b[P]){var C=E(A,I);C&&C[P]&&(A[I]=b.value,b={configurable:S in b?b[S]:C[S],enumerable:g in b?b[g]:C[g],writable:!1})}return h(A,I,b)}:h:function(A,I,b){if(l(A),I=d(I),l(b),i)try{return h(A,I,b)}catch{}if("get"in b||"set"in b)throw v("Accessors not supported");return"value"in b&&(A[I]=b.value),A}},1236:(u,y,t)=>{var s=t(9781),i=t(6916),a=t(5296),l=t(9114),d=t(5656),v=t(4948),h=t(2597),E=t(4664),g=Object.getOwnPropertyDescriptor;y.f=s?g:function(P,O){if(P=d(P),O=v(O),E)try{return g(P,O)}catch{}if(h(P,O))return l(!i(a.f,P,O),P[O])}},8006:(u,y,t)=>{var s=t(6324),a=t(748).concat("length","prototype");y.f=Object.getOwnPropertyNames||function(d){return s(d,a)}},5181:(u,y)=>{y.f=Object.getOwnPropertySymbols},9518:(u,y,t)=>{var s=t(2597),i=t(614),a=t(7908),l=t(6200),d=t(8544),v=l("IE_PROTO"),h=Object,E=h.prototype;u.exports=d?h.getPrototypeOf:function(g){var S=a(g);if(s(S,v))return S[v];var P=S.constructor;return i(P)&&S instanceof P?P.prototype:S instanceof h?E:null}},7976:(u,y,t)=>{var s=t(1702);u.exports=s({}.isPrototypeOf)},6324:(u,y,t)=>{var s=t(1702),i=t(2597),a=t(5656),l=t(1318).indexOf,d=t(3501),v=s([].push);u.exports=function(h,E){var O,g=a(h),S=0,P=[];for(O in g)!i(d,O)&&i(g,O)&&v(P,O);for(;E.length>S;)i(g,O=E[S++])&&(~l(P,O)||v(P,O));return P}},1956:(u,y,t)=>{var s=t(6324),i=t(748);u.exports=Object.keys||function(l){return s(l,i)}},5296:(u,y)=>{var t={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,i=s&&!t.call({1:2},1);y.f=i?function(l){var d=s(this,l);return!!d&&d.enumerable}:t},7674:(u,y,t)=>{var s=t(1702),i=t(9670),a=t(6077);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var v,l=!1,d={};try{(v=s(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(d,[]),l=d instanceof Array}catch{}return function(E,g){return i(E),a(g),l?v(E,g):E.__proto__=g,E}}():void 0)},2140:(u,y,t)=>{var s=t(6916),i=t(614),a=t(111),l=TypeError;u.exports=function(d,v){var h,E;if("string"===v&&i(h=d.toString)&&!a(E=s(h,d))||i(h=d.valueOf)&&!a(E=s(h,d))||"string"!==v&&i(h=d.toString)&&!a(E=s(h,d)))return E;throw l("Can't convert object to primitive value")}},3887:(u,y,t)=>{var s=t(5005),i=t(1702),a=t(8006),l=t(5181),d=t(9670),v=i([].concat);u.exports=s("Reflect","ownKeys")||function(E){var g=a.f(d(E)),S=l.f;return S?v(g,S(E)):g}},2534:u=>{u.exports=function(y){try{return{error:!1,value:y()}}catch(t){return{error:!0,value:t}}}},3702:(u,y,t)=>{var s=t(7854),i=t(2492),a=t(614),l=t(4705),d=t(2788),v=t(5112),h=t(7871),E=t(3823),g=t(1913),S=t(7392),P=i&&i.prototype,O=v("species"),A=!1,I=a(s.PromiseRejectionEvent),b=l("Promise",function(){var C=d(i),w=C!==String(i);if(!w&&66===S||g&&(!P.catch||!P.finally))return!0;if(!S||S<51||!/native code/.test(C)){var L=new i(function(F){F(1)}),x=function(F){F(function(){},function(){})};if((L.constructor={})[O]=x,!(A=L.then(function(){})instanceof x))return!0}return!w&&(h||E)&&!I});u.exports={CONSTRUCTOR:b,REJECTION_EVENT:I,SUBCLASSING:A}},2492:(u,y,t)=>{var s=t(7854);u.exports=s.Promise},9478:(u,y,t)=>{var s=t(9670),i=t(111),a=t(8523);u.exports=function(l,d){if(s(l),i(d)&&d.constructor===l)return d;var v=a.f(l);return(0,v.resolve)(d),v.promise}},612:(u,y,t)=>{var s=t(2492),i=t(7072),a=t(3702).CONSTRUCTOR;u.exports=a||!i(function(l){s.all(l).then(void 0,function(){})})},8572:u=>{var y=function(){this.head=null,this.tail=null};y.prototype={add:function(t){var s={item:t,next:null},i=this.tail;i?i.next=s:this.head=s,this.tail=s},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},u.exports=y},7651:(u,y,t)=>{var s=t(6916),i=t(9670),a=t(614),l=t(4326),d=t(2261),v=TypeError;u.exports=function(h,E){var g=h.exec;if(a(g)){var S=s(g,h,E);return null!==S&&i(S),S}if("RegExp"===l(h))return s(d,h,E);throw v("RegExp#exec called on incompatible receiver")}},2261:(u,y,t)=>{var $,Y,s=t(6916),i=t(1702),a=t(1340),l=t(7046),d=t(2999),v=t(2309),h=t(30),E=t(9909).get,g=t(9441),S=t(7168),P=v("native-string-replace",String.prototype.replace),O=RegExp.prototype.exec,A=O,I=i("".charAt),b=i("".indexOf),C=i("".replace),w=i("".slice),L=(Y=/b*/g,s(O,$=/a/,"a"),s(O,Y,"a"),0!==$.lastIndex||0!==Y.lastIndex),x=d.BROKEN_CARET,M=void 0!==/()??/.exec("")[1];(L||M||x||g||S)&&(A=function(Y){var k,ne,Q,B,z,le,X,j=this,K=E(j),W=a(Y),Z=K.raw;if(Z)return Z.lastIndex=j.lastIndex,k=s(A,Z,W),j.lastIndex=Z.lastIndex,k;var oe=K.groups,se=x&&j.sticky,Pe=s(l,j),ce=j.source,fe=0,Se=W;if(se&&(Pe=C(Pe,"y",""),-1===b(Pe,"g")&&(Pe+="g"),Se=w(W,j.lastIndex),j.lastIndex>0&&(!j.multiline||j.multiline&&"\n"!==I(W,j.lastIndex-1))&&(ce="(?: "+ce+")",Se=" "+Se,fe++),ne=new RegExp("^(?:"+ce+")",Pe)),M&&(ne=new RegExp("^"+ce+"$(?!\\s)",Pe)),L&&(Q=j.lastIndex),B=s(O,se?ne:j,Se),se?B?(B.input=w(B.input,fe),B[0]=w(B[0],fe),B.index=j.lastIndex,j.lastIndex+=B[0].length):j.lastIndex=0:L&&B&&(j.lastIndex=j.global?B.index+B[0].length:Q),M&&B&&B.length>1&&s(P,B[0],ne,function(){for(z=1;z<arguments.length-2;z++)void 0===arguments[z]&&(B[z]=void 0)}),B&&oe)for(B.groups=le=h(null),z=0;z<oe.length;z++)le[(X=oe[z])[0]]=B[X[1]];return B}),u.exports=A},7046:(u,y,t)=>{var s=t(9670);u.exports=function(){var i=s(this),a="";return i.hasIndices&&(a+="d"),i.global&&(a+="g"),i.ignoreCase&&(a+="i"),i.multiline&&(a+="m"),i.dotAll&&(a+="s"),i.unicode&&(a+="u"),i.unicodeSets&&(a+="v"),i.sticky&&(a+="y"),a}},2999:(u,y,t)=>{var s=t(7293),a=t(7854).RegExp,l=s(function(){var h=a("a","y");return h.lastIndex=2,null!=h.exec("abcd")}),d=l||s(function(){return!a("a","y").sticky}),v=l||s(function(){var h=a("^r","gy");return h.lastIndex=2,null!=h.exec("str")});u.exports={BROKEN_CARET:v,MISSED_STICKY:d,UNSUPPORTED_Y:l}},9441:(u,y,t)=>{var s=t(7293),a=t(7854).RegExp;u.exports=s(function(){var l=a(".","s");return!(l.dotAll&&l.exec("\n")&&"s"===l.flags)})},7168:(u,y,t)=>{var s=t(7293),a=t(7854).RegExp;u.exports=s(function(){var l=a("(?<a>b)","g");return"b"!==l.exec("b").groups.a||"bc"!=="b".replace(l,"$<a>c")})},4488:(u,y,t)=>{var s=t(8554),i=TypeError;u.exports=function(a){if(s(a))throw i("Can't call method on "+a);return a}},6340:(u,y,t)=>{var s=t(5005),i=t(3070),a=t(5112),l=t(9781),d=a("species");u.exports=function(v){var h=s(v);l&&h&&!h[d]&&(0,i.f)(h,d,{configurable:!0,get:function(){return this}})}},8003:(u,y,t)=>{var s=t(3070).f,i=t(2597),l=t(5112)("toStringTag");u.exports=function(d,v,h){d&&!h&&(d=d.prototype),d&&!i(d,l)&&s(d,l,{configurable:!0,value:v})}},6200:(u,y,t)=>{var s=t(2309),i=t(9711),a=s("keys");u.exports=function(l){return a[l]||(a[l]=i(l))}},5465:(u,y,t)=>{var s=t(7854),i=t(3072),a="__core-js_shared__",l=s[a]||i(a,{});u.exports=l},2309:(u,y,t)=>{var s=t(1913),i=t(5465);(u.exports=function(a,l){return i[a]||(i[a]=void 0!==l?l:{})})("versions",[]).push({version:"3.27.2",mode:s?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:(u,y,t)=>{var s=t(9670),i=t(9483),a=t(8554),d=t(5112)("species");u.exports=function(v,h){var g,E=s(v).constructor;return void 0===E||a(g=s(E)[d])?h:i(g)}},8710:(u,y,t)=>{var s=t(1702),i=t(9303),a=t(1340),l=t(4488),d=s("".charAt),v=s("".charCodeAt),h=s("".slice),E=function(g){return function(S,P){var b,C,O=a(l(S)),A=i(P),I=O.length;return A<0||A>=I?g?"":void 0:(b=v(O,A))<55296||b>56319||A+1===I||(C=v(O,A+1))<56320||C>57343?g?d(O,A):b:g?h(O,A,A+2):C-56320+(b-55296<<10)+65536}};u.exports={codeAt:E(!1),charAt:E(!0)}},6293:(u,y,t)=>{var s=t(7392),i=t(7293);u.exports=!!Object.getOwnPropertySymbols&&!i(function(){var a=Symbol();return!String(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&s&&s<41})},261:(u,y,t)=>{var Y,j,K,W,s=t(7854),i=t(2104),a=t(9974),l=t(614),d=t(2597),v=t(7293),h=t(490),E=t(206),g=t(317),S=t(8053),P=t(6833),O=t(5268),A=s.setImmediate,I=s.clearImmediate,b=s.process,C=s.Dispatch,w=s.Function,L=s.MessageChannel,x=s.String,M=0,F={},$="onreadystatechange";v(function(){Y=s.location});var Z=function(B){if(d(F,B)){var z=F[B];delete F[B],z()}},k=function(B){return function(){Z(B)}},ne=function(B){Z(B.data)},Q=function(B){s.postMessage(x(B),Y.protocol+"//"+Y.host)};(!A||!I)&&(A=function(z){S(arguments.length,1);var le=l(z)?z:w(z),X=E(arguments,1);return F[++M]=function(){i(le,void 0,X)},j(M),M},I=function(z){delete F[z]},O?j=function(B){b.nextTick(k(B))}:C&&C.now?j=function(B){C.now(k(B))}:L&&!P?(W=(K=new L).port2,K.port1.onmessage=ne,j=a(W.postMessage,W)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&Y&&"file:"!==Y.protocol&&!v(Q)?(j=Q,s.addEventListener("message",ne,!1)):j=$ in g("script")?function(B){h.appendChild(g("script"))[$]=function(){h.removeChild(this),Z(B)}}:function(B){setTimeout(k(B),0)}),u.exports={set:A,clear:I}},1400:(u,y,t)=>{var s=t(9303),i=Math.max,a=Math.min;u.exports=function(l,d){var v=s(l);return v<0?i(v+d,0):a(v,d)}},5656:(u,y,t)=>{var s=t(8361),i=t(4488);u.exports=function(a){return s(i(a))}},9303:(u,y,t)=>{var s=t(4758);u.exports=function(i){var a=+i;return a!=a||0===a?0:s(a)}},7466:(u,y,t)=>{var s=t(9303),i=Math.min;u.exports=function(a){return a>0?i(s(a),9007199254740991):0}},7908:(u,y,t)=>{var s=t(4488),i=Object;u.exports=function(a){return i(s(a))}},7593:(u,y,t)=>{var s=t(6916),i=t(111),a=t(2190),l=t(8173),d=t(2140),v=t(5112),h=TypeError,E=v("toPrimitive");u.exports=function(g,S){if(!i(g)||a(g))return g;var O,P=l(g,E);if(P){if(void 0===S&&(S="default"),O=s(P,g,S),!i(O)||a(O))return O;throw h("Can't convert object to primitive value")}return void 0===S&&(S="number"),d(g,S)}},4948:(u,y,t)=>{var s=t(7593),i=t(2190);u.exports=function(a){var l=s(a,"string");return i(l)?l:l+""}},1694:(u,y,t)=>{var a={};a[t(5112)("toStringTag")]="z",u.exports="[object z]"===String(a)},1340:(u,y,t)=>{var s=t(648),i=String;u.exports=function(a){if("Symbol"===s(a))throw TypeError("Cannot convert a Symbol value to a string");return i(a)}},6330:u=>{var y=String;u.exports=function(t){try{return y(t)}catch{return"Object"}}},9711:(u,y,t)=>{var s=t(1702),i=0,a=Math.random(),l=s(1..toString);u.exports=function(d){return"Symbol("+(void 0===d?"":d)+")_"+l(++i+a,36)}},3307:(u,y,t)=>{var s=t(6293);u.exports=s&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(u,y,t)=>{var s=t(9781),i=t(7293);u.exports=s&&i(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},8053:u=>{var y=TypeError;u.exports=function(t,s){if(t<s)throw y("Not enough arguments");return t}},4811:(u,y,t)=>{var s=t(7854),i=t(614),a=s.WeakMap;u.exports=i(a)&&/native code/.test(String(a))},5112:(u,y,t)=>{var s=t(7854),i=t(2309),a=t(2597),l=t(9711),d=t(6293),v=t(3307),h=s.Symbol,E=i("wks"),g=v?h.for||h:h&&h.withoutSetter||l;u.exports=function(S){return a(E,S)||(E[S]=d&&a(h,S)?h[S]:g("Symbol."+S)),E[S]}},6699:(u,y,t)=>{var s=t(2109),i=t(1318).includes,a=t(7293),l=t(1223);s({target:"Array",proto:!0,forced:a(function(){return!Array(1).includes()})},{includes:function(h){return i(this,h,arguments.length>1?arguments[1]:void 0)}}),l("includes")},6992:(u,y,t)=>{var s=t(5656),i=t(1223),a=t(7497),l=t(9909),d=t(3070).f,v=t(1656),h=t(6178),E=t(1913),g=t(9781),S="Array Iterator",P=l.set,O=l.getterFor(S);u.exports=v(Array,"Array",function(I,b){P(this,{type:S,target:s(I),index:0,kind:b})},function(){var I=O(this),b=I.target,C=I.kind,w=I.index++;return!b||w>=b.length?(I.target=void 0,h(void 0,!0)):h("keys"==C?w:"values"==C?b[w]:[w,b[w]],!1)},"values");var A=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!E&&g&&"values"!==A.name)try{d(A,"name",{value:"values"})}catch{}},2707:(u,y,t)=>{var s=t(2109),i=t(1702),a=t(9662),l=t(7908),d=t(6244),v=t(5117),h=t(1340),E=t(7293),g=t(4362),S=t(9341),P=t(8886),O=t(256),A=t(7392),I=t(8008),b=[],C=i(b.sort),w=i(b.push),L=E(function(){b.sort(void 0)}),x=E(function(){b.sort(null)}),M=S("sort"),F=!E(function(){if(A)return A<70;if(!(P&&P>3)){if(O)return!0;if(I)return I<603;var K,W,Z,k,j="";for(K=65;K<76;K++){switch(W=String.fromCharCode(K),K){case 66:case 69:case 70:case 72:Z=3;break;case 68:case 71:Z=4;break;default:Z=2}for(k=0;k<47;k++)b.push({k:W+k,v:Z})}for(b.sort(function(ne,Q){return Q.v-ne.v}),k=0;k<b.length;k++)W=b[k].k.charAt(0),j.charAt(j.length-1)!==W&&(j+=W);return"DGBEFHACIJK"!==j}});s({target:"Array",proto:!0,forced:L||!x||!M||!F},{sort:function(K){void 0!==K&&a(K);var W=l(this);if(F)return void 0===K?C(W):C(W,K);var ne,Q,Z=[],k=d(W);for(Q=0;Q<k;Q++)Q in W&&w(Z,W[Q]);for(g(Z,function(j){return function(K,W){return void 0===W?-1:void 0===K?1:void 0!==j?+j(K,W)||0:h(K)>h(W)?1:-1}}(K)),ne=d(Z),Q=0;Q<ne;)W[Q]=Z[Q++];for(;Q<k;)v(W,Q++);return W}})},821:(u,y,t)=>{var s=t(2109),i=t(6916),a=t(9662),l=t(8523),d=t(2534),v=t(408);s({target:"Promise",stat:!0,forced:t(612)},{all:function(g){var S=this,P=l.f(S),O=P.resolve,A=P.reject,I=d(function(){var b=a(S.resolve),C=[],w=0,L=1;v(g,function(x){var M=w++,F=!1;L++,i(b,S,x).then(function($){F||(F=!0,C[M]=$,--L||O(C))},A)}),--L||O(C)});return I.error&&A(I.value),P.promise}})},4164:(u,y,t)=>{var s=t(2109),i=t(1913),a=t(3702).CONSTRUCTOR,l=t(2492),d=t(5005),v=t(614),h=t(8052),E=l&&l.prototype;if(s({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(S){return this.then(void 0,S)}}),!i&&v(l)){var g=d("Promise").prototype.catch;E.catch!==g&&h(E,"catch",g,{unsafe:!0})}},3401:(u,y,t)=>{var Ie,Ge,je,s=t(2109),i=t(1913),a=t(5268),l=t(7854),d=t(6916),v=t(8052),h=t(7674),E=t(8003),g=t(6340),S=t(9662),P=t(614),O=t(111),A=t(5787),I=t(6707),b=t(261).set,C=t(5948),w=t(842),L=t(2534),x=t(8572),M=t(9909),F=t(2492),$=t(3702),Y=t(8523),j="Promise",K=$.CONSTRUCTOR,W=$.REJECTION_EVENT,Z=$.SUBCLASSING,k=M.getterFor(j),ne=M.set,Q=F&&F.prototype,B=F,z=Q,le=l.TypeError,X=l.document,oe=l.process,se=Y.f,Pe=se,ce=!!(X&&X.createEvent&&l.dispatchEvent),fe="unhandledrejection",Me=function(U){var J;return!(!O(U)||!P(J=U.then))&&J},xe=function(U,J){var we,Ze,ke,q=J.value,te=1==J.state,re=te?U.ok:U.fail,Fe=U.resolve,We=U.reject,Ce=U.domain;try{re?(te||(2===J.rejection&&Qe(J),J.rejection=1),!0===re?we=q:(Ce&&Ce.enter(),we=re(q),Ce&&(Ce.exit(),ke=!0)),we===U.promise?We(le("Promise-chain cycle")):(Ze=Me(we))?d(Ze,we,Fe,We):Fe(we)):We(q)}catch(m){Ce&&!ke&&Ce.exit(),We(m)}},Ye=function(U,J){U.notified||(U.notified=!0,C(function(){for(var te,q=U.reactions;te=q.get();)xe(te,U);U.notified=!1,J&&!U.rejection&&Oe(U)}))},Ke=function(U,J,q){var te,re;ce?((te=X.createEvent("Event")).promise=J,te.reason=q,te.initEvent(U,!1,!0),l.dispatchEvent(te)):te={promise:J,reason:q},!W&&(re=l["on"+U])?re(te):U===fe&&w("Unhandled promise rejection",q)},Oe=function(U){d(b,l,function(){var re,J=U.facade,q=U.value;if(be(U)&&(re=L(function(){a?oe.emit("unhandledRejection",q,J):Ke(fe,J,q)}),U.rejection=a||be(U)?2:1,re.error))throw re.value})},be=function(U){return 1!==U.rejection&&!U.parent},Qe=function(U){d(b,l,function(){var J=U.facade;a?oe.emit("rejectionHandled",J):Ke("rejectionhandled",J,U.value)})},Be=function(U,J,q){return function(te){U(J,te,q)}},_=function(U,J,q){U.done||(U.done=!0,q&&(U=q),U.value=J,U.state=2,Ye(U,!0))},Xe=function(U,J,q){if(!U.done){U.done=!0,q&&(U=q);try{if(U.facade===J)throw le("Promise can't be resolved itself");var te=Me(J);te?C(function(){var re={done:!1};try{d(te,J,Be(Xe,re,U),Be(_,re,U))}catch(Fe){_(re,Fe,U)}}):(U.value=J,U.state=1,Ye(U,!1))}catch(re){_({done:!1},re,U)}}};if(K&&(B=function(J){A(this,z),S(J),d(Ie,this);var q=k(this);try{J(Be(Xe,q),Be(_,q))}catch(te){_(q,te)}},(Ie=function(J){ne(this,{type:j,done:!1,notified:!1,parent:!1,reactions:new x,rejection:!1,state:0,value:void 0})}).prototype=v(z=B.prototype,"then",function(J,q){var te=k(this),re=se(I(this,B));return te.parent=!0,re.ok=!P(J)||J,re.fail=P(q)&&q,re.domain=a?oe.domain:void 0,0==te.state?te.reactions.add(re):C(function(){xe(re,te)}),re.promise}),Ge=function(){var U=new Ie,J=k(U);this.promise=U,this.resolve=Be(Xe,J),this.reject=Be(_,J)},Y.f=se=function(U){return U===B||void 0===U?new Ge(U):Pe(U)},!i&&P(F)&&Q!==Object.prototype)){je=Q.then,Z||v(Q,"then",function(J,q){var te=this;return new B(function(re,Fe){d(je,te,re,Fe)}).then(J,q)},{unsafe:!0});try{delete Q.constructor}catch{}h&&h(Q,z)}s({global:!0,constructor:!0,wrap:!0,forced:K},{Promise:B}),E(B,j,!1,!0),g(j)},8674:(u,y,t)=>{t(3401),t(821),t(4164),t(6027),t(683),t(6294)},6027:(u,y,t)=>{var s=t(2109),i=t(6916),a=t(9662),l=t(8523),d=t(2534),v=t(408);s({target:"Promise",stat:!0,forced:t(612)},{race:function(g){var S=this,P=l.f(S),O=P.reject,A=d(function(){var I=a(S.resolve);v(g,function(b){i(I,S,b).then(P.resolve,O)})});return A.error&&O(A.value),P.promise}})},683:(u,y,t)=>{var s=t(2109),i=t(6916),a=t(8523);s({target:"Promise",stat:!0,forced:t(3702).CONSTRUCTOR},{reject:function(v){var h=a.f(this);return i(h.reject,void 0,v),h.promise}})},6294:(u,y,t)=>{var s=t(2109),i=t(5005),a=t(1913),l=t(2492),d=t(3702).CONSTRUCTOR,v=t(9478),h=i("Promise"),E=a&&!d;s({target:"Promise",stat:!0,forced:a||d},{resolve:function(S){return v(E&&this===h?l:this,S)}})},4916:(u,y,t)=>{var s=t(2109),i=t(2261);s({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},7852:(u,y,t)=>{var b,s=t(2109),i=t(1470),a=t(1236).f,l=t(7466),d=t(1340),v=t(3929),h=t(4488),E=t(4964),g=t(1913),S=i("".endsWith),P=i("".slice),O=Math.min,A=E("endsWith");s({target:"String",proto:!0,forced:!(!g&&!A&&(b=a(String.prototype,"endsWith"),b&&!b.writable)||A)},{endsWith:function(C){var w=d(h(this));v(C);var L=arguments.length>1?arguments[1]:void 0,x=w.length,M=void 0===L?x:O(l(L),x),F=d(C);return S?S(w,F,M):P(w,M-F.length,M)===F}})},2023:(u,y,t)=>{var s=t(2109),i=t(1702),a=t(3929),l=t(4488),d=t(1340),v=t(4964),h=i("".indexOf);s({target:"String",proto:!0,forced:!v("includes")},{includes:function(g){return!!~h(d(l(this)),d(a(g)),arguments.length>1?arguments[1]:void 0)}})},5306:(u,y,t)=>{var s=t(2104),i=t(6916),a=t(1702),l=t(7007),d=t(7293),v=t(9670),h=t(614),E=t(8554),g=t(9303),S=t(7466),P=t(1340),O=t(4488),A=t(1530),I=t(8173),b=t(647),C=t(7651),L=t(5112)("replace"),x=Math.max,M=Math.min,F=a([].concat),$=a([].push),Y=a("".indexOf),j=a("".slice),K=function(ne){return void 0===ne?ne:String(ne)},W="$0"==="a".replace(/./,"$0"),Z=!!/./[L]&&""===/./[L]("a","$0");l("replace",function(ne,Q,B){var z=Z?"$":"$0";return[function(X,oe){var se=O(this),Pe=E(X)?void 0:I(X,L);return Pe?i(Pe,X,se,oe):i(Q,P(se),X,oe)},function(le,X){var oe=v(this),se=P(le);if("string"==typeof X&&-1===Y(X,z)&&-1===Y(X,"$<")){var Pe=B(Q,oe,se,X);if(Pe.done)return Pe.value}var ce=h(X);ce||(X=P(X));var fe=oe.global;if(fe){var Se=oe.unicode;oe.lastIndex=0}for(var de=[];;){var Ee=C(oe,se);if(null===Ee||($(de,Ee),!fe))break;""===P(Ee[0])&&(oe.lastIndex=A(se,S(oe.lastIndex),Se))}for(var Ue="",Ne=0,Ie=0;Ie<de.length;Ie++){for(var Ge=P((Ee=de[Ie])[0]),De=x(M(g(Ee.index),se.length),0),je=[],Me=1;Me<Ee.length;Me++)$(je,K(Ee[Me]));var xe=Ee.groups;if(ce){var Ye=F([Ge],je,De,se);void 0!==xe&&$(Ye,xe);var Ke=P(s(X,void 0,Ye))}else Ke=b(Ge,se,De,je,xe,X);De>=Ne&&(Ue+=j(se,Ne,De)+Ke,Ne=De+Ge.length)}return Ue+j(se,Ne)}]},!!d(function(){var ne=/./;return ne.exec=function(){var Q=[];return Q.groups={a:"7"},Q},"7"!=="".replace(ne,"$<a>")})||!W||Z)},3157:(u,y,t)=>{var b,s=t(2109),i=t(1470),a=t(1236).f,l=t(7466),d=t(1340),v=t(3929),h=t(4488),E=t(4964),g=t(1913),S=i("".startsWith),P=i("".slice),O=Math.min,A=E("startsWith");s({target:"String",proto:!0,forced:!(!g&&!A&&(b=a(String.prototype,"startsWith"),b&&!b.writable)||A)},{startsWith:function(C){var w=d(h(this));v(C);var L=l(O(arguments.length>1?arguments[1]:void 0,w.length)),x=d(C);return S?S(w,x,L):P(w,L,L+x.length)===x}})},1817:(u,y,t)=>{var s=t(2109),i=t(9781),a=t(7854),l=t(1702),d=t(2597),v=t(614),h=t(7976),E=t(1340),g=t(3070).f,S=t(9920),P=a.Symbol,O=P&&P.prototype;if(i&&v(P)&&(!("description"in O)||void 0!==P().description)){var A={},I=function(){var $=arguments.length<1||void 0===arguments[0]?void 0:E(arguments[0]),Y=h(O,this)?new P($):void 0===$?P():P($);return""===$&&(A[Y]=!0),Y};S(I,P),I.prototype=O,O.constructor=I;var b="Symbol(test)"==String(P("test")),C=l(O.valueOf),w=l(O.toString),L=/^Symbol\((.*)\)[^)]+$/,x=l("".replace),M=l("".slice);g(O,"description",{configurable:!0,get:function(){var $=C(this);if(d(A,$))return"";var Y=w($),j=b?M(Y,7,-1):x(Y,L,"$1");return""===j?void 0:j}}),s({global:!0,constructor:!0,forced:!0},{Symbol:I})}},3948:(u,y,t)=>{var s=t(7854),i=t(8324),a=t(8509),l=t(6992),d=t(8880),v=t(5112),h=v("iterator"),E=v("toStringTag"),g=l.values,S=function(O,A){if(O){if(O[h]!==g)try{d(O,h,g)}catch{O[h]=g}if(O[E]||d(O,E,A),i[A])for(var I in l)if(O[I]!==l[I])try{d(O,I,l[I])}catch{O[I]=l[I]}}};for(var P in i)S(s[P]&&s[P].prototype,P);S(a,"DOMTokenList")},9365:(u,y,t)=>{t.r(y),t.d(y,{AbstractActionHandler:()=>Nt,AbstractDontCodeStoreProvider:()=>mt,AbstractSchemaItem:()=>q,Action:()=>at,ActionContextType:()=>rt,ActionType:()=>nt,Change:()=>me,ChangeType:()=>H,DataTransformationInfo:()=>lt,DontCodeChangeManager:()=>Pt,DontCodeCore:()=>yt,DontCodeGroupOperationType:()=>Le,DontCodeModel:()=>m,DontCodeModelManager:()=>Re,DontCodeModelPointer:()=>ve,DontCodePluginManager:()=>dt,DontCodePreviewManager:()=>ht,DontCodeProject:()=>wt,DontCodeReportGroupShowType:()=>tt,DontCodeSchema:()=>et,DontCodeSchemaEnum:()=>We,DontCodeSchemaEnumValue:()=>Ce,DontCodeSchemaManager:()=>ft,DontCodeSchemaObject:()=>re,DontCodeSchemaProperty:()=>ke,DontCodeSchemaRef:()=>Ze,DontCodeSchemaRoot:()=>Fe,DontCodeSchemaValue:()=>we,DontCodeSortDirectionType:()=>qe,DontCodeStoreAggregate:()=>It,DontCodeStoreCriteria:()=>Tt,DontCodeStoreCriteriaOperator:()=>$e,DontCodeStoreGroupby:()=>At,DontCodeStoreGroupedByEntities:()=>St,DontCodeStoreGroupedByValues:()=>Ot,DontCodeStoreManager:()=>vt,DontCodeStorePreparedEntities:()=>gt,DontCodeStoreSort:()=>pt,DontCodeTestManager:()=>ze,Message:()=>bt,MessageType:()=>it,ModelQuerySingleResult:()=>xt,MoneyAmount:()=>Ct,SpecialFields:()=>Et,StoreProviderHelper:()=>Ae,TestProviderInterface:()=>Ft,concatIterable:()=>te,dtcde:()=>st}),t(6992),t(3948),t(1817),t(4916),t(5306),t(3157),t(7852);var E=t(4707),g=t(7579),S=t(2843),P=t(4004),O=t(3905),A=t(9751),I=t(727);class b extends I.w0{constructor(e,r){super()}schedule(e,r=0){return this}}const C={setInterval(c,e,...r){const{delegate:n}=C;return n?.setInterval?n.setInterval(c,e,...r):setInterval(c,e,...r)},clearInterval(c){const{delegate:e}=C;return(e?.clearInterval||clearInterval)(c)},delegate:void 0};var w=t(8737),x=t(6063);class M{constructor(e,r=M.now){this.schedulerActionCtor=e,this.now=r}schedule(e,r=0,n){return new this.schedulerActionCtor(this,e).schedule(n,r)}}M.now=x.l.now;const Y=new class F extends M{constructor(e,r=M.now){super(e,r),this.actions=[],this._active=!1}flush(e){const{actions:r}=this;if(this._active)return void r.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=r.shift());if(this._active=!1,n){for(;e=r.shift();)e.unsubscribe();throw n}}}(class L extends b{constructor(e,r){super(e,r),this.scheduler=e,this.work=r,this.pending=!1}schedule(e,r=0){var n;if(this.closed)return this;this.state=e;const o=this.id,f=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(f,o,r)),this.pending=!0,this.delay=r,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(f,this.id,r),this}requestAsyncId(e,r,n=0){return C.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,r,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return r;null!=r&&C.clearInterval(r)}execute(e,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,r);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,r){let o,n=!1;try{this.work(e)}catch(f){n=!0,o=f||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,(0,w.P)(n,this),null!=e&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null,super.unsubscribe()}}});var j=t(3532);var Z=t(5698),k=t(9300),ne=t(2076);function le(c){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(c)}function X(c,e){if(!(c instanceof e))throw new TypeError("Cannot call a class as a function")}function oe(c,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(c,n.key,n)}}function se(c,e,r){return e&&oe(c.prototype,e),r&&oe(c,r),Object.defineProperty(c,"prototype",{writable:!1}),c}function ce(c){return(ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)})(c)}function fe(c,e){return(fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n})(c,e)}function Se(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function de(c,e,r){return(de=Se()?Reflect.construct.bind():function(o,f,p){var R=[null];R.push.apply(R,f);var N=new(Function.bind.apply(o,R));return p&&fe(N,p.prototype),N}).apply(null,arguments)}function Ve(c){var e="function"==typeof Map?new Map:void 0;return Ve=function(n){if(null===n||!function Ee(c){return-1!==Function.toString.call(c).indexOf("[native code]")}(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,o)}function o(){return de(n,arguments,ce(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),fe(o,n)},Ve(c)}function Ne(c,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Ue(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(c)}function Me(c,e){if(c){if("string"==typeof c)return xe(c,e);var r=Object.prototype.toString.call(c).slice(8,-1);if("Object"===r&&c.constructor&&(r=c.constructor.name),"Map"===r||"Set"===r)return Array.from(c);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xe(c,e)}}function xe(c,e){(null==e||e>c.length)&&(e=c.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=c[r];return n}t(6699),t(2023),t(2707);var Oe=Object.prototype.hasOwnProperty;function be(c,e){return(c=c.slice()).push(e),c}function Qe(c,e){return(e=e.slice()).unshift(c),e}var Be=function(c){!function Pe(c,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),e&&fe(c,e)}(r,c);var e=function Ie(c){var e=Se();return function(){var o,n=ce(c);if(e){var f=ce(this).constructor;o=Reflect.construct(n,arguments,f)}else o=n.apply(this,arguments);return Ne(this,o)}}(r);function r(n){var o;return X(this,r),(o=e.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,o.value=n,o.name="NewError",o}return se(r)}(Ve(Error));function _(c,e,r,n,o){if(!(this instanceof _))try{return new _(c,e,r,n,o)}catch(T){if(!T.avoidNew)throw T;return T.value}"string"==typeof c&&(o=n,n=r,r=e,e=c,c=null);var f=c&&"object"===le(c);if(this.json=(c=c||{}).json||r,this.path=c.path||e,this.resultType=c.resultType||"value",this.flatten=c.flatten||!1,this.wrap=!Oe.call(c,"wrap")||c.wrap,this.sandbox=c.sandbox||{},this.preventEval=c.preventEval||!1,this.parent=c.parent||null,this.parentProperty=c.parentProperty||null,this.callback=c.callback||n||null,this.otherTypeCallback=c.otherTypeCallback||o||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==c.autostart){var p={path:f?c.path:e};f?"json"in c&&(p.json=c.json):p.json=r;var R=this.evaluate(p);if(!R||"object"!==le(R))throw new Be(R);return R}}_.prototype.evaluate=function(c,e,r,n){var o=this,f=this.parent,p=this.parentProperty,R=this.flatten,T=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,r=r||this.callback,this.currOtherTypeCallback=n||this.otherTypeCallback,e=e||this.json,(c=c||this.path)&&"object"===le(c)&&!Array.isArray(c)){if(!c.path&&""!==c.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!Oe.call(c,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');e=c.json,R=Oe.call(c,"flatten")?c.flatten:R,this.currResultType=Oe.call(c,"resultType")?c.resultType:this.currResultType,this.currSandbox=Oe.call(c,"sandbox")?c.sandbox:this.currSandbox,T=Oe.call(c,"wrap")?c.wrap:T,this.currPreventEval=Oe.call(c,"preventEval")?c.preventEval:this.currPreventEval,r=Oe.call(c,"callback")?c.callback:r,this.currOtherTypeCallback=Oe.call(c,"otherTypeCallback")?c.otherTypeCallback:this.currOtherTypeCallback,f=Oe.call(c,"parent")?c.parent:f,p=Oe.call(c,"parentProperty")?c.parentProperty:p,c=c.path}if(f=f||null,p=p||null,Array.isArray(c)&&(c=_.toPathString(c)),(c||""===c)&&e){var D=_.toPathArray(c);"$"===D[0]&&D.length>1&&D.shift(),this._hasParentSelector=null;var G=this._trace(D,e,["$"],f,p,r).filter(function(ee){return ee&&!ee.isParentSelector});return G.length?T||1!==G.length||G[0].hasArrExpr?G.reduce(function(ee,ue){var ge=o._getPreferredOutput(ue);return R&&Array.isArray(ge)?ee=ee.concat(ge):ee.push(ge),ee},[]):this._getPreferredOutput(G[0]):T?[]:void 0}},_.prototype._getPreferredOutput=function(c){var e=this.currResultType;switch(e){case"all":var r=Array.isArray(c.path)?c.path:_.toPathArray(c.path);return c.pointer=_.toPointer(r),c.path="string"==typeof c.path?c.path:_.toPathString(c.path),c;case"value":case"parent":case"parentProperty":return c[e];case"path":return _.toPathString(c[e]);case"pointer":return _.toPointer(c.path);default:throw new TypeError("Unknown result type")}},_.prototype._handleCallback=function(c,e,r){if(e){var n=this._getPreferredOutput(c);c.path="string"==typeof c.path?c.path:_.toPathString(c.path),e(n,r,c)}},_.prototype._trace=function(c,e,r,n,o,f,p,R){var N,T=this;if(!c.length)return this._handleCallback(N={path:r,value:e,parent:n,parentProperty:o,hasArrExpr:p},f,"value"),N;var D=c[0],G=c.slice(1),ee=[];function ue(pe){Array.isArray(pe)?pe.forEach(function(Ut){ee.push(Ut)}):ee.push(pe)}if(("string"!=typeof D||R)&&e&&Oe.call(e,D))ue(this._trace(G,e[D],be(r,D),e,D,f,p));else if("*"===D)this._walk(e,function(pe){ue(T._trace(G,e[pe],be(r,pe),e,pe,f,!0,!0))});else if(".."===D)ue(this._trace(G,e,r,n,o,f,p)),this._walk(e,function(pe){"object"===le(e[pe])&&ue(T._trace(c.slice(),e[pe],be(r,pe),e,pe,f,!0))});else{if("^"===D)return this._hasParentSelector=!0,{path:r.slice(0,-1),expr:G,isParentSelector:!0};if("~"===D)return N={path:be(r,D),value:o,parent:n,parentProperty:null},this._handleCallback(N,f,"property"),N;if("$"===D)ue(this._trace(G,e,r,null,null,f,p));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(D))ue(this._slice(D,G,e,r,n,o,f));else if(0===D.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");var ge=D.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1");this._walk(e,function(pe){T._eval(ge,e[pe],pe,r,n,o)&&ue(T._trace(G,e[pe],be(r,pe),e,pe,f,!0))})}else if("("===D[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");ue(this._trace(Qe(this._eval(D,e,r[r.length-1],r.slice(0,-1),n,o),G),e,r,n,o,f,p))}else if("@"===D[0]){var he=!1,V=D.slice(1,-2);switch(V){case"scalar":(!e||!["object","function"].includes(le(e)))&&(he=!0);break;case"boolean":case"string":case"undefined":case"function":le(e)===V&&(he=!0);break;case"integer":Number.isFinite(e)&&!(e%1)&&(he=!0);break;case"number":Number.isFinite(e)&&(he=!0);break;case"nonFinite":"number"==typeof e&&!Number.isFinite(e)&&(he=!0);break;case"object":e&&le(e)===V&&(he=!0);break;case"array":Array.isArray(e)&&(he=!0);break;case"other":he=this.currOtherTypeCallback(e,r,n,o);break;case"null":null===e&&(he=!0);break;default:throw new TypeError("Unknown value type "+V)}if(he)return this._handleCallback(N={path:r,value:e,parent:n,parentProperty:o},f,"value"),N}else if("`"===D[0]&&e&&Oe.call(e,D.slice(1))){var ie=D.slice(1);ue(this._trace(G,e[ie],be(r,ie),e,ie,f,p,!0))}else if(D.includes(",")){var Te,ye=function Ke(c,e){var r=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(!r){if(Array.isArray(c)||(r=Me(c))||e&&c&&"number"==typeof c.length){r&&(c=r);var n=0,o=function(){};return{s:o,n:function(){return n>=c.length?{done:!0}:{done:!1,value:c[n++]}},e:function(T){throw T},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var R,f=!0,p=!1;return{s:function(){r=r.call(c)},n:function(){var T=r.next();return f=T.done,T},e:function(T){p=!0,R=T},f:function(){try{!f&&null!=r.return&&r.return()}finally{if(p)throw R}}}}(D.split(","));try{for(ye.s();!(Te=ye.n()).done;)ue(this._trace(Qe(Te.value,G),e,r,n,o,f,!0))}catch(pe){ye.e(pe)}finally{ye.f()}}else!R&&e&&Oe.call(e,D)&&ue(this._trace(G,e[D],be(r,D),e,D,f,p,!0))}if(this._hasParentSelector)for(var He=0;He<ee.length;He++){var ot=ee[He];if(ot&&ot.isParentSelector){var _e=this._trace(ot.expr,e,ot.path,n,o,f,p);if(Array.isArray(_e)){ee[He]=_e[0];for(var Lt=_e.length,ct=1;ct<Lt;ct++)He++,ee.splice(He,0,_e[ct])}else ee[He]=_e}}return ee},_.prototype._walk=function(c,e){if(Array.isArray(c))for(var r=c.length,n=0;n<r;n++)e(n);else c&&"object"===le(c)&&Object.keys(c).forEach(function(o){e(o)})},_.prototype._slice=function(c,e,r,n,o,f,p){if(Array.isArray(r)){var R=r.length,T=c.split(":"),N=T[2]&&Number.parseInt(T[2])||1,D=T[0]&&Number.parseInt(T[0])||0,G=T[1]&&Number.parseInt(T[1])||R;D=D<0?Math.max(0,D+R):Math.min(R,D),G=G<0?Math.max(0,G+R):Math.min(R,G);for(var ee=[],ue=D;ue<G;ue+=N)this._trace(Qe(ue,e),r,n,o,f,p,!0).forEach(function(he){ee.push(he)});return ee}},_.prototype._eval=function(c,e,r,n,o,f){this.currSandbox._$_parentProperty=f,this.currSandbox._$_parent=o,this.currSandbox._$_property=r,this.currSandbox._$_root=this.json,this.currSandbox._$_v=e;var p=c.includes("@path");p&&(this.currSandbox._$_path=_.toPathString(n.concat([r])));var R="script:"+c;if(!_.cache[R]){var T=c.replace(/@parentProperty/g,"_$_parentProperty").replace(/@parent/g,"_$_parent").replace(/@property/g,"_$_property").replace(/@root/g,"_$_root").replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1");p&&(T=T.replace(/@path/g,"_$_path")),_.cache[R]=new this.vm.Script(T)}try{return _.cache[R].runInNewContext(this.currSandbox)}catch(N){throw new Error("jsonPath: "+N.message+": "+c)}},_.cache={},_.toPathString=function(c){for(var e=c,r=e.length,n="$",o=1;o<r;o++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(e[o])||(n+=/^[\*0-9]+$/.test(e[o])?"["+e[o]+"]":"['"+e[o]+"']");return n},_.toPointer=function(c){for(var e=c,r=e.length,n="",o=1;o<r;o++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(e[o])||(n+="/"+e[o].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return n},_.toPathArray=function(c){var e=_.cache;if(e[c])return e[c].concat();var r=[],o=c.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,function(f,p){return"[#"+(r.push(p)-1)+"]"}).replace(/\[["']((?:(?!['\]])[\s\S])*)["']\]/g,function(f,p){return"['"+p.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/["']?\.["']?(?!(?:(?!\[)[\s\S])*\])|\[["']?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(f,p){return";"+p.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map(function(f){var p=f.match(/#([0-9]+)/);return p&&p[1]?r[p[1]]:f});return e[c]=o,e[c].concat()},_.prototype.vm={Script:function(){function c(e){X(this,c),this.code=e}return se(c,[{key:"runInNewContext",value:function(r){var n=this.code,o=Object.keys(r),f=[];!function(e,r,n){for(var o=e.length,f=0;f<o;f++)n(e[f])&&r.push(e.splice(f--,1)[0])}(o,f,function(D){return"function"==typeof r[D]});var p=o.map(function(D,G){return r[D]}),R=f.reduce(function(D,G){var ee=r[G].toString();return/function/.test(ee)||(ee="function "+ee),"var "+G+"="+ee+";"+D},"");!/(["'])use strict\1/.test(n=R+n)&&!o.includes("arguments")&&(n="var arguments = undefined;"+n);var T=(n=n.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),N=T>-1?n.slice(0,T+1)+" return "+n.slice(T+1):" return "+n;return de(Function,o.concat([N])).apply(void 0,function Ge(c){return function De(c){if(Array.isArray(c))return xe(c)}(c)||function je(c){if(typeof Symbol<"u"&&null!=c[Symbol.iterator]||null!=c["@@iterator"])return Array.from(c)}(c)||Me(c)||function Ye(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(p))}}]),c}()},t(8674);class q{constructor(e,r){this.array=!1,this.readOnly=!1,this.hidden=!1,this.parent=e,this.relativeId=r}isArray(){return this.array}setArray(e){this.array=e}isEnum(){return!1}isObject(){return!1}isReference(){return!1}isValue(){return!1}isRoot(){return!1}isHidden(){return this.hidden}setHidden(e){this.hidden=e}isReadonly(){return this.readOnly}setReadonly(e){this.readOnly=e}static generateItem(e,r,n){let f,o=Array.isArray(e);if(o)return console.error("arrays are not supported",e),e;if(o=!1,e.type)switch(e.type){case"object":f=new re(e,r,n);break;case"array":f=this.generateItem(e.items,r,n),o=!0;break;default:f=new we(e,r,n)}else if(e.enum)f=new We(e,r,n);else{if(!e.$ref)return e;f=new Ze(e,r,n)}return!0===e.readOnly&&f.setReadonly(!0),!0===e.writeOnly&&f.setHidden(!0),f.setArray(o),f}static isObject(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}static goto(e,r){let n=e;return r.split("/").forEach(o=>{"#"!==o&&""!=o&&(n=n?.getChild(o)),n||console.error("Cannot find "+o+" of "+r+" in the following item ",e)}),n}upsertWith(e){return!1}getParent(){return this.parent}getChild(e){}getChildren(){return(new Map).entries()}updateWith(e){}allProperties(){return[].values()}getProperties(e){}hasProperties(e){return!1}getRelativeId(){return this.relativeId}setRelativeId(e){this.relativeId=e}getTargetPath(){return this.targetPath}setTargetPath(e){this.targetPath=e}isPossibleDynamicProperty(e){const r=this.getChildren();for(const n of r){const o=n[1].allProperties();for(const f of o)if(f[1].getChild(e))return f[1]}}getAllPossibleDynamicProperties(){const e=this.getChildren(),r=new Map;for(const n of e){const o=n[1].allProperties();for(const f of o)for(const p of f[1].getChildren())r.has(p[0])&&console.warn("Dynamic Property "+p[0]+" is being defined by multiple children."),r.set(p[0],p[1])}return r.entries()}getChildrenAndPossibleProperties(){return te(this.getChildren(),this.getAllPossibleDynamicProperties())}}function*te(...c){for(let e of c){let r;for(e=e[Symbol.iterator]();r=e.next(),!r.done;)yield r.value}}class re extends q{constructor(e,r,n){super(n,r),this.children=new Map,e&&this.readJson(e)}readJson(e){const r=e.properties;if(r)for(const n in r)this.children.set(n,q.generateItem(r[n],n,this))}isEnum(){return!1}isObject(){return!0}isReference(){return!1}isValue(){return!1}isRoot(){return!1}upsertWith(e){const r=this.getChild(e.location.id);if(r)r.updateWith(e);else if(null!=e.location.id){const n=q.generateItem(e.update,e.location.id,this);if(e.location.after){const o=new Map;this.children.forEach((f,p)=>{o.set(p,f),p===e.location.after&&null!=e.location.id&&o.set(e.location.id,n)}),this.children=o}else this.children.set(e.location.id,n);n.updateWith(e)}return!0}updateWith(e){super.updateWith(e)}getChild(e){if(e)return this.children.get(e)}getChildren(){return this.children.entries()}}class Fe extends re{constructor(e){super(e,void 0)}readJson(e){super.readJson(e);const r=e.$defs;r&&this.children.set("$defs",new re({properties:r},"$defs",this))}isEnum(){return!1}isObject(){return!0}isReference(){return!1}isValue(){return!1}isRoot(){return!0}}class We extends q{constructor(e,r,n){super(n,r),this.values=new Array,this.properties=new Map,this.updateValues(e.enum,this.values),this.targetPath=e.format}isEnum(){return!0}isObject(){return!1}isReference(){return!1}isValue(){return!1}isRoot(){return!1}getValues(){return this.values}updateWith(e){super.updateWith(e),this.updateValues(e.update.enum,this.values,e)}updateValues(e,r,n){e.forEach(o=>{if("string"==typeof o){if(r.find(f=>f.getValue()===o)||r.push(new Ce(o)),n?.props){const f=new ke(n,this.relativeId+"="+o,this);f.isEmpty()||this.properties.set(o,f)}}else for(const f in o)if(o.hasOwnProperty(f)){let p=r.find(R=>R.getValue()===o);p||(p=new Ce(f),r.push(p)),p.getChildren()||p.setChildren([]),this.updateValues(o[f].enum,p.getChildren(),n)}})}allProperties(){return this.properties.entries()}getProperties(e){return this.properties.get(e)}hasProperties(e){return this.properties.has(e)}}class Ce{constructor(e,r){this._children=new Array,this._value=e,this._label=r||e}getLabel(){return this._label?this._label:this._value}setLabel(e){this._label=e}getValue(){return this._value}setValue(e){this._value=e}getChildren(){return this._children}setChildren(e){this._children=e}}class we extends q{constructor(e,r,n){super(n,r),this.type=e.type,this.targetPath=e.format}isValue(){return!0}getType(){return this.type}}class Ze extends q{constructor(e,r,n){super(n,r),this.resolvedRef=new Map,this.ref=e.$ref}isReference(){return!0}getReference(){return this.ref}resolveReference(e){this.resolvedRef.set("",e)}getChildren(){return this.resolvedRef.entries()}}class ke extends re{constructor(e,r,n){super({type:"object",properties:e.props},r,n),this.replace=!!e.replace&&e.replace,this.posAfter=e.location.after}isEmpty(){return 0==this.children.size}isReplace(){return this.replace}getPosAfter(){return this.posAfter}}class m{}m.ROOT="creation",m.APP_NAME_NODE="name",m.APP_TYPE_NODE="type",m.APP_TYPE=m.ROOT+"/"+m.APP_TYPE_NODE,m.APP_NAME=m.ROOT+"/"+m.APP_NAME_NODE,m.APP_ENTITIES_NODE="entities",m.APP_ENTITIES=m.ROOT+"/"+m.APP_ENTITIES_NODE,m.APP_ENTITIES_FROM_NODE="from",m.APP_ENTITIES_FROM=m.APP_ENTITIES+"/"+m.APP_ENTITIES_FROM_NODE,m.APP_ENTITIES_NAME_NODE="name",m.APP_ENTITIES_NAME=m.APP_ENTITIES+"/"+m.APP_ENTITIES_NAME_NODE,m.APP_FIELDS_NODE="fields",m.APP_FIELDS=m.APP_ENTITIES+"/"+m.APP_FIELDS_NODE,m.APP_FIELDS_NAME_NODE="name",m.APP_FIELDS_NAME=m.APP_FIELDS+"/"+m.APP_FIELDS_NAME_NODE,m.APP_FIELDS_TYPE_NODE="type",m.APP_FIELDS_TYPE=m.APP_FIELDS+"/"+m.APP_FIELDS_TYPE_NODE,m.APP_SHARING_NODE="sharing",m.APP_SHARING=m.ROOT+"/"+m.APP_SHARING_NODE,m.APP_SHARING_WITH_NODE="with",m.APP_SHARING_WITH=m.APP_SHARING+"/"+m.APP_SHARING_WITH_NODE,m.APP_REPORTS_NODE="reports",m.APP_REPORTS=m.ROOT+"/"+m.APP_REPORTS_NODE,m.APP_REPORTS_TITLE_NODE="title",m.APP_REPORTS_TITLE=m.APP_REPORTS+"/"+m.APP_REPORTS_TITLE_NODE,m.APP_REPORTS_FOR_NODE="for",m.APP_REPORTS_FOR=m.APP_REPORTS+"/"+m.APP_REPORTS_FOR_NODE,m.APP_REPORTS_GROUP_NODE="groupedBy",m.APP_REPORTS_GROUP=m.APP_REPORTS+"/"+m.APP_REPORTS_GROUP_NODE,m.APP_REPORTS_SORT_NODE="sortedBy",m.APP_REPORTS_SORT=m.APP_REPORTS+"/"+m.APP_REPORTS_SORT_NODE,m.APP_REPORTS_DISPLAY_NODE="as",m.APP_REPORTS_DISPLAY=m.APP_REPORTS+"/"+m.APP_REPORTS_DISPLAY_NODE,m.APP_REPORTS_GROUP_LABEL_NODE="label",m.APP_REPORTS_GROUP_LABEL=m.APP_REPORTS_GROUP+"/"+m.APP_REPORTS_GROUP_LABEL_NODE,m.APP_REPORTS_GROUP_OF_NODE="of",m.APP_REPORTS_GROUP_OF=m.APP_REPORTS_GROUP+"/"+m.APP_REPORTS_GROUP_OF_NODE,m.APP_REPORTS_GROUP_SHOW_NODE="show",m.APP_REPORTS_GROUP_SHOW=m.APP_REPORTS_GROUP+"/"+m.APP_REPORTS_GROUP_SHOW_NODE,m.APP_REPORTS_GROUP_AGGREGATE_NODE="display",m.APP_REPORTS_GROUP_AGGREGATE=m.APP_REPORTS_GROUP+"/"+m.APP_REPORTS_GROUP_AGGREGATE_NODE,m.APP_REPORTS_GROUP_AGGREGATE_LABEL_NODE="label",m.APP_REPORTS_GROUP_AGGREGATE_LABEL=m.APP_REPORTS_GROUP_AGGREGATE+"/"+m.APP_REPORTS_GROUP_AGGREGATE_LABEL_NODE,m.APP_REPORTS_GROUP_AGGREGATE_OPERATION_NODE="operation",m.APP_REPORTS_GROUP_AGGREGATE_OPERATION=m.APP_REPORTS_GROUP_AGGREGATE+"/"+m.APP_REPORTS_GROUP_AGGREGATE_OPERATION_NODE,m.APP_REPORTS_GROUP_AGGREGATE_OF_NODE="of",m.APP_REPORTS_GROUP_AGGREGATE_OF=m.APP_REPORTS_GROUP_AGGREGATE+"/"+m.APP_REPORTS_GROUP_AGGREGATE_OF_NODE,m.APP_REPORTS_SORT_BY_NODE="by",m.APP_REPORTS_SORT_BY=m.APP_REPORTS_SORT+"/"+m.APP_REPORTS_SORT_BY_NODE,m.APP_REPORTS_SORT_DIRECTION_NODE="direction",m.APP_REPORTS_SORT_DIRECTION=m.APP_REPORTS_SORT+"/"+m.APP_REPORTS_SORT_DIRECTION_NODE,m.APP_REPORTS_DISPLAY_TITLE_NODE="title",m.APP_REPORTS_DISPLAY_TITLE=m.APP_REPORTS_DISPLAY+"/"+m.APP_REPORTS_DISPLAY_TITLE_NODE,m.APP_REPORTS_DISPLAY_TYPE_NODE="type",m.APP_REPORTS_DISPLAY_TYPE=m.APP_REPORTS_DISPLAY+"/"+m.APP_REPORTS_DISPLAY_TYPE_NODE,m.APP_REPORTS_DISPLAY_OF_NODE="of",m.APP_REPORTS_DISPLAY_OF=m.APP_REPORTS_DISPLAY+"/"+m.APP_REPORTS_DISPLAY_OF_NODE,m.APP_REPORTS_DISPLAY_BY_NODE="by",m.APP_REPORTS_DISPLAY_BY=m.APP_REPORTS_DISPLAY+"/"+m.APP_REPORTS_DISPLAY_BY_NODE,m.APP_SOURCES_NODE="sources",m.APP_SOURCES=m.ROOT+"/"+m.APP_SOURCES_NODE,m.APP_SOURCES_NAME_NODE="name",m.APP_SOURCES_NAME=m.ROOT+"/"+m.APP_SOURCES_NODE+"/"+m.APP_SOURCES_NAME_NODE,m.APP_SOURCES_TYPE_NODE="type",m.APP_SOURCES_TYPE=m.ROOT+"/"+m.APP_SOURCES_NODE+"/"+m.APP_SOURCES_TYPE_NODE,m.APP_SOURCES_URL_NODE="url",m.APP_SOURCES_URL=m.ROOT+"/"+m.APP_SOURCES_NODE+"/"+m.APP_SOURCES_URL_NODE,m.APP_SCREENS_NODE="screens",m.APP_SCREENS=m.ROOT+"/"+m.APP_SCREENS_NODE,m.APP_SCREENS_NAME_NODE="name",m.APP_SCREENS_NAME=m.APP_SCREENS+"/"+m.APP_SCREENS_NAME_NODE,m.APP_SCREENS_LAYOUT_NODE="layout",m.APP_SCREENS_LAYOUT=m.APP_SCREENS+"/"+m.APP_SCREENS_LAYOUT_NODE,m.APP_COMPONENTS_NODE="components",m.APP_COMPONENTS=m.APP_SCREENS+"/"+m.APP_COMPONENTS_NODE,m.APP_COMPONENTS_TYPE_NODE="type",m.APP_COMPONENTS_TYPE=m.APP_COMPONENTS+"/"+m.APP_COMPONENTS_TYPE_NODE,m.APP_COMPONENTS_ENTITY_NODE="entity",m.APP_COMPONENTS_ENTITY=m.APP_COMPONENTS+"/"+m.APP_COMPONENTS_ENTITY_NODE;class et{}et.ROOT="/properties/"+m.ROOT,et.defaultv1={$id:"https://dont-code.net/v1/dont-code-schema.json",$schema:"https://json-schema.org/draft/2020-12/schema",description:"JSON Schema v1 for dont-code",type:"object",required:["creation"],properties:{creation:{type:"object",properties:{type:{enum:["Application"]},name:{type:"string"},entities:{type:"array",items:{$ref:"#/$defs/entity"}},sharing:{$ref:"#/$defs/sharing"},reports:{type:"array",items:{$ref:"#/$defs/report"}},sources:{type:"array",items:{$ref:"#/$defs/source"}},screens:{type:"array",items:{$ref:"#/$defs/screen"}}},additionalProperties:!1}},$defs:{entity:{type:"object",properties:{from:{type:"string",format:"$.creation.sources.name"},name:{type:"string"},fields:{type:"array",items:{$ref:"#/$defs/field"}}},additionalProperties:!1},field:{type:"object",properties:{name:{type:"string"},type:{enum:["Text","Number","Boolean",{Time:{enum:["Date","Date & Time","Time"]}},{Money:{enum:["Dollar","Euro","Other currency"]},Web:{enum:["Website (url)","Image"]}},{Special:{enum:["Reference"]}}]}},additionalProperties:!1},sharing:{type:"object",properties:{with:{enum:["No-one"]}},additionalProperties:!1},source:{type:"object",properties:{name:{type:"string"},type:{enum:["Unknown"]}}},report:{type:"object",properties:{title:{type:"string"},for:{type:"string",format:"$.creation.entities.name"},groupedBy:{type:"array",items:{$ref:"#/$defs/report-group"}},sortedBy:{type:"array",items:{$ref:"#/$defs/report-sort"}},as:{type:"array",items:{$ref:"#/$defs/report-display"}}},additionalProperties:!1},"report-group":{type:"object",properties:{of:{type:"string",format:".fields.name"},label:{type:"string"},show:{enum:["OnlyLowest","OnlyHighest"]},display:{type:"array",items:{$ref:"#/$defs/report-group-aggregate"}}},additionalProperties:!1},"report-group-aggregate":{type:"object",properties:{operation:{enum:["Count","Sum","Average","Minimum","Maximum"]},of:{type:"string",format:".@parent.fields.name"},label:{type:"string"}},additionalProperties:!1},"report-sort":{type:"object",properties:{by:{type:"string",format:".fields.name"},direction:{enum:["None","Ascending","Descending"]}},additionalProperties:!1},"report-display":{type:"object",properties:{type:{enum:["Table","Bar","Line","Pie"]},of:{type:"string",format:".@parent.fields.name"},by:{type:"string",format:".@parent.fields.name"},title:{type:"string"}},additionalProperties:!1},screen:{type:"object",properties:{name:{type:"string"},layout:{enum:["Flow","Grid"]},components:{type:"array",items:{$ref:"#/$defs/component"}}},additionalProperties:!1},component:{type:"object",properties:{type:{enum:["List","Edit","View"]},entity:{type:"string",format:"$.creation.entities.name"}},additionalProperties:!1}}};class ve{constructor(e,r,n,o,f,p){this.position=e,this.positionInSchema=r,this.containerPosition=n,this.containerPositionInSchema=o,this.lastElement=f||"",this.isProperty=p,this.fillMissingElements()}fillMissingElements(e){var r,n,o;if(null==this.position||null==this.positionInSchema)throw new Error("Cannot fill Elements for an empty position");null==this.containerPosition&&(this.containerPosition=null!==(r=ve.parentPosition(this.position))&&void 0!==r?r:void 0),null==this.containerPositionInSchema&&(this.containerPositionInSchema=null!==(n=ve.parentPosition(this.positionInSchema))&&void 0!==n?n:void 0),(null==this.lastElement||0==this.lastElement.length)&&(this.lastElement=null!==(o=ve.lastElementOf(this.position))&&void 0!==o?o:this.position),null==this.isProperty&&e&&(this.isProperty=!this.containerPositionInSchema||null!=e.locateItem(this.containerPositionInSchema,!0).getChild(this.lastElement))}static lastElementOf(e){return null==e?e:e.substring(e.lastIndexOf("/")+1)}static nextItemAndPosition(e,r){let n=e.indexOf("/",r);n===r&&(n=e.indexOf("/",r+=1)),-1!==n?n-=1:n=n===r?-1:e.length-1;let o=null;return-1!==n&&(o=e.substring(r,n+1)),{pos:n,value:o}}calculateKeyOrContainer(){var e;return!0===this.isProperty?this.lastElement:null!==(e=ve.lastElementOf(this.containerPosition))&&void 0!==e?e:""}calculateItemIdOrContainer(){var e;return!1===this.isProperty?this.lastElement:null!==(e=ve.lastElementOf(this.containerPosition))&&void 0!==e?e:""}isSubItemOf(e){return e.position===this.containerPosition?this.lastElement:null}isUnderSubItemOf(e){if(this.positionInSchema.startsWith(e.positionInSchema)){const r=this.positionInSchema.indexOf("/",e.positionInSchema.length+1);return-1==r?this.positionInSchema.substring(e.positionInSchema.length+1):this.positionInSchema.substring(e.positionInSchema.length+1,r)}return null}subItemOrPropertyPointer(e,r){return r?this.subPropertyPointer(e):this.subItemPointer(e)}subPropertyPointer(e){return new ve(""===this.position?e:this.position+"/"+e,""===this.positionInSchema?e:this.positionInSchema+"/"+e,this.position,this.positionInSchema,e,!0)}subItemPointer(e){return new ve(""===this.position?e:this.position+"/"+e,this.positionInSchema,this.position,this.containerPositionInSchema,e,!1)}safeParentPointer(e){const r=this.parentPointer(e);if(void 0===r)throw new Error("No parent position for pointer "+this.position);return r}parentPointer(e){if(null==this.containerPosition||null==this.containerPositionInSchema)return;const r=new ve(this.containerPosition,this.containerPositionInSchema);return null!=e&&r.fillMissingElements(e),r}isParentOf(e,r){if(!0===r){const n=ve.parentPosition(e);return null!=n&&this.position==n}return e.startsWith(this.position)}static parentPosition(e){if(null==e||0===e.length)return null;const r=e.lastIndexOf("/");return-1==r?"":e.substring(0,r)}static splitPosition(e){if(null==e||0===e.length)return null;const r=e.lastIndexOf("/");return-1==r?{parent:"",element:e}:{parent:e.substring(0,r),element:e.substring(r+1)}}}class ft{constructor(){this.reset()}getSchema(){return this.currentSchema}convertSchemaToMap(e){return new Fe(e)}registerChanges(e){if(e["schema-updates"]){const r=e["schema-updates"];for(const n of r){const o=n.changes;for(const f of o)if(f.location.id){const p=this.locateItem(f.location.parent);if(!p)throw"Cannot find parent element: "+f.location.parent;p.upsertWith(f)}}}}locateItem(e,r){const n=e.split("/");let o=this.currentSchema;for(const f of n){if(!o)throw console.error("Could not find subItem "+f+" of "+e),new Error("Could not find subItem "+f+" of "+e);if(f&&f.length>0&&"#"!==f){if(o.isReference()&&(o=this.resolveReference(o)),!o)throw console.error("Could not find reference "+o?.getReference()+" of "+e),new Error("Could not find reference "+o?.getReference()+" of "+e);o=o.getChild(f)}}if(r&&o?.isReference()&&(o=this.resolveReference(o)),null!=o)return o;throw new Error("Could not find item at schema position "+e)}resolveReference(e){return this.locateItem(e.getReference())}generateParentPointer(e){if(null!=e.containerPosition)return this.generateSchemaPointer(e.containerPosition)}generateSchemaPointer(e){var r;let n;const o=e,f=o.split("/");if(0===f.length||0===f[0].length)return n=new ve(e,e),n;n=new ve(e,"");let p=this.currentSchema,R=!1;for(const T of f)if(R)n.isProperty=!1,R=!1;else{let N=null!==(r=p.getChild(T))&&void 0!==r?r:p.isPossibleDynamicProperty(T);if(!N)throw new Error("Cannot parse '"+o+"' from the schema as "+T+" is not a child of "+p.getRelativeId());if(n.isProperty=!0,n.containerPositionInSchema=n.positionInSchema,n.positionInSchema=null!==n.positionInSchema&&n.positionInSchema.length>0?n.positionInSchema+"/"+T:T,R=!!N.isArray(),N.isReference()&&(N=this.resolveReference(N)),null==N)throw new Error("Cannot parse '"+o+"' from the schema as "+N+" is reference an unknown element");p=N}return n.containerPositionInSchema=n.positionInSchema.substring(0,n.positionInSchema.lastIndexOf("/")),n.containerPosition=n.position.substring(0,n.position.lastIndexOf("/")),n.lastElement=f[f.length-1],n}generateSubSchemaPointer(e,r){return this.locateItem(e.positionInSchema,!0).getChild(r)?e.subPropertyPointer(r):e.subItemPointer(r)}reset(){this.readSchema=et.defaultv1,this.currentSchema=this.convertSchemaToMap(this.readSchema)}}class dt{constructor(){this.plugins=new Map}registerPlugin(e,r,n){const o=e.getConfiguration(),f=o.plugin.id+"-v"+o.plugin.version;null==this.plugins.get(f)&&(r.registerChanges(o),n.registerHandlers(o),this.plugins.set(f,new Rt(e)))}initPlugins(e){this.plugins.forEach(r=>{var n;if(!1===r.initCalled)try{const o=null===(n=r.plugin.getConfiguration())||void 0===n?void 0:n["definition-updates"];e.getChangeManager().applyPluginConfigUpdates(o),r.plugin.pluginInit(e),r.initCalled=!0}catch(o){console.error("Error calling "+r.plugin+" init method:",o)}})}reset(){this.plugins.clear()}}class Rt{constructor(e,r){this.plugin=e,this.initCalled=null!=r&&r}}class ht{constructor(){this.reset()}reset(){this.handlersPerLocations=new Map,this.globalHandlersPerLocations=new Map,this.actionHandlersPerLocation=new Map,this.globalHandlers=new E.t}registerHandlers(e){if(e["preview-handlers"]&&e["preview-handlers"].forEach(r=>{let n=this.handlersPerLocations.get(r.location.parent);n||(n=new Array,this.handlersPerLocations.set(r.location.parent,n)),n.push(r)}),e["global-handlers"]&&e["global-handlers"].forEach(r=>{let n=this.handlersPerLocations.get(r.location.parent);n||(n=new Array,this.handlersPerLocations.set(r.location.parent,n)),n.push(r),n=this.globalHandlersPerLocations.get(r.location.parent),n||(n=new Array,this.globalHandlersPerLocations.set(r.location.parent,n)),n.push(r),this.globalHandlers.next(r)}),e["action-handlers"])for(const r of e["action-handlers"]){let n=this.actionHandlersPerLocation.get({position:r.location.parent,context:r["action-context"]});n||(n=new Array,this.actionHandlersPerLocation.set({position:r.location.parent,context:r["action-context"]},n)),n.push(r)}}getGlobalHandlers(){return this.globalHandlersPerLocations}receiveGlobalHandlers(){return this.globalHandlers}retrieveHandlerConfig(e,r){const n=this.handlersPerLocations.get(e);let o=null,f=!1;if(n)for(const p of n)if(p.location.values)if(r){let R=r;p.location.id&&(R=r[p.location.id]),this.extractValuesAsArray(p.location.values).forEach(T=>{T!==R||(o=p)})}else f=!0;else null===o&&(o=p);else if("string"==typeof r&&e.lastIndexOf("/")>0){e.endsWith("/")&&(e=e.substring(0,e.length-1));const R={};return R[e.substring(e.lastIndexOf("/")+1)]=r,this.retrieveHandlerConfig(e.substring(0,e.lastIndexOf("/")),R)}if(null===o&&f)throw new Error("Content must be provided in order to select an handler for position "+e);return o}retrieveActionHandlers(e,r,n){return this.actionHandlersPerLocation.get({position:e,context:r})??[]}extractValuesAsArray(e){const r=new Array;return this.extractValuesToArray(e,r),r}extractValuesToArray(e,r){if(Array.isArray(e))e.forEach(n=>{"string"==typeof n?r.push(n):this.extractValuesToArray(n,r)});else for(const n in e)e.hasOwnProperty(n)&&this.extractValuesToArray(e[n],r)}}var tt=(()=>{return(c=tt||(tt={})).OnlyLowest="OnlyLowest",c.OnlyHighest="OnlyHighest",tt;var c})(),Le=(()=>{return(c=Le||(Le={})).Count="Count",c.Sum="Sum",c.Average="Average",c.Minimum="Minimum",c.Maximum="Maximum",Le;var c})(),qe=(()=>{return(c=qe||(qe={})).None="None",c.Ascending="Ascending",c.Descending="Descending",qe;var c})(),rt=(()=>{return(c=rt||(rt={})).LIST="list",c.EDIT="edit",c.VIEW="view",rt;var c})(),nt=(()=>{return(c=nt||(nt={})).EXTRACT="extract",c.UPDATE="update",c.CALCULATE="calculate",nt;var c})();class vt{constructor(e,r){this.modelMgr=e,this.providerByPosition=new Map,this.providerByType=new Map,this._default=r,this.reset()}reset(){this.providerByPosition.clear(),this.providerByType.clear()}getProvider(e){var r;if(null==e)return this._default;{let n=null;const o=null===(r=this.modelMgr.findTargetOfProperty(m.APP_ENTITIES_FROM_NODE,e))||void 0===r?void 0:r.value;return o&&(n=this.providerByType.get(o.type)),n||(n=this.providerByPosition.get(e)),n??this._default}}getProviderSafe(e){const r=this.getProvider(e);if(null==r)throw new Error("Trying to get an undefined or null provider");return r}getDefaultProvider(){return this.getProvider()}getDefaultProviderSafe(){return this.getProviderSafe()}setProvider(e,r){null==r?this._default=e:this.providerByPosition.set(r,e)}setProviderForSourceType(e,r){this.providerByType.set(r,e)}setDefaultProvider(e){this.setProvider(e)}removeProvider(e){null==e?this._default=void 0:this.providerByPosition.delete(e)}removeProviderForSourceType(e){this.providerByType.delete(e)}removeDefaultProvider(){this.removeProvider()}storeEntity(e,r){return this.getProviderSafe(e).storeEntity(e,r)}loadEntity(e,r){return this.getProviderSafe(e).loadEntity(e,r)}safeLoadEntity(e,r){return this.getProviderSafe(e).safeLoadEntity(e,r)}deleteEntity(e,r){return this.getProviderSafe(e).deleteEntity(e,r)}searchEntities(e,...r){return this.getProviderSafe(e).searchEntities(e,...r)}searchAndPrepareEntities(e,r,n,o,...f){return this.getProviderSafe(e).searchAndPrepareEntities(e,r,n,o,...f)}canStoreDocument(e){var r;return(null===(r=this.getProvider(e))||void 0===r?void 0:r.canStoreDocument(e))||!1}storeDocuments(e,r){return this.getProviderSafe(r).storeDocuments(e,r)}}var $e=(()=>{return(c=$e||($e={})).EQUALS="=",c.LESS_THAN="<",c.LESS_THAN_EQUAL="<=",$e;var c})();class Tt{constructor(e,r,n){this.name=e,this.value=r,this.operator=n||$e.EQUALS}}class pt{constructor(e,r,n){this.by=e,this.subSort=n,this.direction=null==r?qe.None:r}}class At{constructor(e,r,n){this.of=e,this.show=n,this.display=null==r?{}:r}atLeastOneGroupIsRequested(){return null!=this.display&&Object.keys(this.display).length>0}getRequiredListOfFields(){const e=new Set;if(null!=this.display)for(const r of Object.values(this.display))e.add(r.of);return e}}class It{constructor(e,r){this.of=e,this.operation=r}}class me{constructor(e,r,n,o,f,p){if(this.type=e,this.position=r,"/"===r)throw new Error("Root position is defined by empty string and not slash anymore");this.value=n,this.pointer=o,this.beforeKey=f,this.oldPosition=p}getSafeParentPosition(){const e=this.getParentPosition();if(null==e)throw new Error("No Parent position for root changes.");return e}getParentPosition(){var e;return null!=this.pointer?null!==(e=this.pointer.containerPosition)&&void 0!==e?e:null:ve.parentPosition(this.position)}}var H=(()=>{return(c=H||(H={})).ADD="ADD",c.UPDATE="UPDATE",c.DELETE="DELETE",c.MOVE="MOVE",c.RESET="RESET",c.ACTION="ACTION",H;var c})();class at extends me{constructor(e,r,n,o,f,p,R){super(R??H.ACTION,e,r,f),this.running=new g.x,this.context=n,this.actionType=o,null!=p&&(this.running=p)}}class Re{constructor(e){this.schemaMgr=e,this.reset()}reset(){this.content=void 0}getContent(){return this.content}resetContent(e){this.content=e}static isHidden(e){return 1==e?.$hidden}static isReadonly(e){return 1==e?.$readOnly}applyChange(e){var r,n;let o=null!==(r=e.pointer)&&void 0!==r?r:this.schemaMgr.generateSchemaPointer(e.position);e.pointer=o;const p=null===(n=e.pointer)||void 0===n?void 0:n.lastElement;null!=o.containerPosition&&null!=p&&(o=this.schemaMgr.generateParentPointer(o));const R=new ut;R.isRoot=!0,R.name=o.position;let T=R,N=this.findAtPosition(o.position);if(null==N){if(e.type===H.DELETE)return[];{N=this.findAtPosition(o.position,!0,R);let G=o.position;for(;T.subChanges.length>0;)G=G.substring(0,G.lastIndexOf("/")),T=T.subChanges[0];R.name=G}}e.type===H.ACTION&&(T.type=H.ACTION);const D=this.applyChangeRecursive(e,N,e.value,e.pointer,T);return this.generateChanges(e,R,D,this.schemaMgr.generateSchemaPointer(R.name))}applyChangeRecursive(e,r,n,o,f,p){if(null==e.pointer)throw new Error("Cannot apply a change without a pointer at position "+e.position);let R=!0;null==p&&(p=e.oldPosition);const T=o.lastElement;if(T||0===T.length){const N=0===T.length?r:r[T];switch(e.type){case H.ACTION:{const D=f.createSubChange(H.ACTION,T,f.value);this.compareRecursiveIfNeeded(e,N,null,o,D);break}case H.ADD:case H.UPDATE:case H.RESET:{let D;if(e.type===H.RESET&&e.position===o.position)"object"==typeof n&&this.isTheSameForParent(N,n)?D=f.createSubChange(void 0,T,null):("object"==typeof n||N!==n)&&(D=f.createSubChange(H.RESET,T,n));else if(null==N)D=f.createSubChange(H.ADD,T,n);else if("object"==typeof n&&this.isTheSameForParent(N,n))D=f.createSubChange(void 0,T,null);else if("object"==typeof n||N!==n){if("object"==typeof N&&e.type==H.ADD){R=!1;for(const G of Object.getOwnPropertyNames(n))if(null!=N[G]){R=!0;break}}D=f.createSubChange(H.UPDATE,T,n)}D&&this.compareRecursiveIfNeeded(e,N,n,o,D),T.length>0&&R&&this.insertProperty(r,T,n,e.beforeKey)}break;case H.DELETE:if(r[T]){const D=f.createSubChange(H.DELETE,T,null);this.compareRecursiveIfNeeded(e,r[T],n,o,D),delete r[T]}break;case H.MOVE:if(e.position===o.position){if(null==p)throw new Error("Cannot process MOVE change without oldPosition"+e.position);if(null==n&&(n=this.findAtPosition(p)),n){const D=f.createSubChange(H.MOVE,T,n,p);if(e.position!==p){this.compareRecursiveIfNeeded(e,null,n,o,D,p),this.insertProperty(r,T,n,e.beforeKey);const G=ve.splitPosition(p);delete this.findAtPosition(G.parent)[G.element]}else this.compareRecursiveIfNeeded(e,null,n,o,D,p),this.insertProperty(r,T,n,e.beforeKey)}}else{const D=f.createSubChange(H.MOVE,T,null,p);this.compareRecursiveIfNeeded(e,r,n,o,D,p)}break;default:throw new Error("No support for change of type "+e.type)}}else this.compareRecursiveIfNeeded(e,r,n,o,f,p);return R}isTheSameForParent(e,r){if(r===e)return!0;if(null==r||null==e)return!1;if("object"==typeof e&&"object"==typeof r){const n=Object.keys(e),o=Object.keys(r);return n.length===o.length&&n.every((f,p)=>f===o[p])}return e===r}compareRecursiveIfNeeded(e,r,n,o,f,p){(null==r||"object"!=typeof r)&&(r={}),(null==n||"object"!=typeof n)&&(n={});const R=new Set;for(const T in r){const N=this.schemaMgr.generateSubSchemaPointer(o,T),D=N.position;R.add(T),n.hasOwnProperty(T)?this.applyChangeRecursive(e,r,n[T],N,f,p):e.type==H.ACTION?this.applyChangeRecursive(new at(D,e.value,e.context,e.actionType,N,e.running),r,null,N,f):e.type!=H.ADD&&this.applyChangeRecursive(new me(H.DELETE,D,null,N),r,null,N,f,p)}for(const T in n)if(e.type===H.MOVE){const N=this.schemaMgr.generateSubSchemaPointer(o,T);this.applyChangeRecursive(e,r,n[T],N,f,p+"/"+T)}else if(!R.has(T)){const N=this.schemaMgr.generateSubSchemaPointer(o,T);this.applyChangeRecursive(new me(H.ADD,N.position,n[T],N),r,n[T],N,f)}}generateChanges(e,r,n,o,f){if(null==f&&(f=new Array),null==e.pointer)throw new Error("Cannot generate changes without the pointer");if(null==o&&(o=e.pointer),null!=r.type)if(r.type===H.MOVE){if(null==r.oldPosition)throw new Error("A Move Change must have an oldPosition set "+o.position);r.oldPosition!==o.position&&e.position===o.position&&f.push(new me(H.UPDATE,ve.parentPosition(r.oldPosition),r.value)),f.push(new me(H.MOVE,o.position,r.value,o,void 0,r.oldPosition))}else f.push(r.type===H.ACTION?new at(o.position,e.value,e.context,e.actionType,o,e.running):new me(r.type,o.position,r.value,o));else for(let p=0;p<r.subChanges.length;p++){const R=r.subChanges[p];if(null!=R.type&&R.type!==H.UPDATE&&R.name.length>0){1==n&&f.push(new me(H.UPDATE,o.position,this.findAtPosition(o.position),o));break}}for(let p=0;p<r.subChanges.length;p++){const R=r.subChanges[p];this.generateChanges(e,R,!0,this.schemaMgr.generateSubSchemaPointer(o,R.name),f)}return f}generateNextKeyForPosition(e,r=!1){const n=this.findAtPosition(e,r);if(null==n)throw new Error("No element at position "+e);return Re.generateNextKey(n)}static generateNextKey(e){let r;r=null!=e.size?e:new Set(Object.keys(e));let n=r.size,o=!1;const f=Re.POSSIBLE_CHARS_FOR_ARRAY_KEYS_LENGTH;let p;do{p="";do{const R=Math.trunc(n/f);p=Re.POSSIBLE_CHARS_FOR_ARRAY_KEYS[n%f].concat(p),n=R-1}while(n>=0);o=r.has(p),n++}while(o);return p}findAtPosition(e,r,n){const o=e.split("/");if(null==this.content){if(!r)return null;this.content={}}let f=this.content,p="";return o.forEach(R=>{if(""===R||null===f)return f;if(p=0===p.length?R:p+"/"+R,!f[R]){if(!r)return f=null,null;f[R]={},n&&(n=n.createSubChange(H.ADD,R,{}))}f=f[R]}),f}queryModelToArray(e,r){let n=this.content;return r&&(n=this.findAtPosition(r,!1)),_({path:e,json:n,resultType:"value",wrap:!1,flatten:!0})}queryModelToSingle(e,r){var n;let o=this.content;r&&(o=this.findAtPosition(r,!1));let f=_({path:e,json:o,resultType:"all",wrap:!1});if(Array.isArray(f)){if(!(f.length<=1))throw new Error("Multiple results returned by queryModelToSingle with path "+e);f=f[0]}return!(null===(n=f?.pointer)||void 0===n)&&n.startsWith("/")&&(f.pointer=f.pointer.substring(1)),null!=f&&(delete f.path,delete f.parent,delete f.parentProperty),f}findAllPossibleTargetsOfProperty(e,r,n){if(null==n){const f=this.schemaMgr.generateSchemaPointer(r);n=this.schemaMgr.locateItem(f.subPropertyPointer(e).positionInSchema,!0)}const o=n?.getTargetPath();if(n&&o){const f=o.lastIndexOf(".");return this.queryModelToArray(o.substring(0,f)+".*")}throw new Error("No Schema or no format definition for "+r+"/"+e)}findTargetOfProperty(e,r,n){const o=this.findAtPosition(r,!1);if(o&&o[e]){if(null==n){const p=this.schemaMgr.generateSchemaPointer(r);n=this.schemaMgr.locateItem(p.subPropertyPointer(e).positionInSchema,!0)}const f=n?.getTargetPath();if(n&&f){const p=f.lastIndexOf("."),R=f.substring(0,p)+"[?(@['"+f.substring(p+1)+"']===\""+o[e]+'")]';return this.queryModelToSingle(R)}throw new Error("No Schema or no format definition for "+r+"/"+e)}return null}insertProperty(e,r,n,o){if(o){const f=Object.keys(e);for(const p of f)if(p!==r){const R=e[p];delete e[p],p===o&&(void 0!==e[r]&&delete e[r],e[r]=n),e[p]=R}}else void 0!==e[r]&&delete e[r],e[r]=n}convertToChange(e){let r=this.schemaMgr.generateSchemaPointer(e.location.parent);return this.schemaMgr.locateItem(r.positionInSchema,!1).isArray()?r=r.subItemPointer(null==e.location.id||"*"===e.location.id?this.generateNextKeyForPosition(r.position,!0):e.location.id):null!=e.location.id&&(r=r.subItemPointer(e.location.id)),new me(H.ADD,r.position,e.update,r,e.location.after)}guessNamePropertyOfElement(e,r){if(null==r){if(null==e)throw new Error("Either position or model must be provided");if(null==(r=this.findAtPosition(e,!1)))throw new Error("Position "+e+" does not exist in model")}null!=r.fields&&Array.isArray(r.fields)&&(r=r.fields);const n={score:-1,field:null};for(const o in r)if(Re.scoreFieldAsName(r[o].name,r[o].type,n))break;return n.score>0?n.field:null}static guessNamePropertyOfObject(e){const r={score:-1,field:null};for(const n in e)Re.scoreFieldAsName(n,"Text",r);return r.score>0?r.field:null}static guessNamePropertyFromList(...e){const r={score:-1,field:null};for(const n of e)Re.scoreFieldAsName(n,"Text",r);return r.score>0?r.field:null}static scoreFieldAsName(e,r,n){if(null==e)return!1;const o=e.toLowerCase();for(const[f,p]of this.NAME_PROPERTY_NAMES)if(o===f){const R=p??0;if(n.score<R&&(n.score=R,n.field=e,100==n.score))return!0}else if(o.includes(f)){const R=(p??0)/2;n.score<R&&(n.score=R,n.field=e)}return"Text"==r&&n.score<20&&(n.score=20,n.field=e),n.score>0}extractValue(e,r,n,o){if(null==e||(r.parsed||this.extractMetaData(e,r,n,o),r.direct))return e;if(r.array){if(!(e.length>0))return e;e=e[0]}if(null!=r.subValue)return e[r.subValue];if(null!=r.subValues){for(let f=0;f<r.subValues.length&&null!=(e=e[r.subValues[f]]);f++);return e}}applyValue(e,r,n,o,f,p){if(null==e||(n.parsed||this.extractMetaData(e,n,f,p),n.direct))return r;if(n.array){if(!(e.length>0))return null!=r&&e.push(r),e;e=e[0]}if(null!=n.subValue)void 0===r?delete e[n.subValue]:e[n.subValue]=r;else if(null!=n.subValues){let R=e;if(void 0===r){for(let T=0;T<n.subValues.length-1&&(R=R[n.subValues[T]],null!=R);T++);null!=R&&null!=R[n.subValues[n.subValues.length-1]]&&delete R[n.subValues[n.subValues.length-1]]}else{for(let T=0;T<n.subValues.length-1;T++)null==R[n.subValues[T]]&&(R[n.subValues[T]]={}),R=R[n.subValues[T]];if(null==R[n.subValues[n.subValues.length-1]]&&null!=o){let T=o;for(let N=0;N<n.subValues.length-1;N++){if(null==T[n.subValues[N]]){T=null;break}T=T[n.subValues[N]]}if(null!=T)for(const N in T)null==R[N]&&null!=T[N]&&(R[N]=structuredClone(T[N]))}R[n.subValues[n.subValues.length-1]]=r}}return e}sortValues(e,r=1,n,o,f,p){const R=o??new lt;if(!R.parsed)for(const T of e)if(this.extractMetaData(this.extractField(T,n),R,f,p),R.parsed)break;R.parsed?e.sort((T,N)=>{const D=this.extractValue(this.extractField(T,n),R,f,p),G=this.extractValue(this.extractField(N,n),R,f,p);return null==D?null==G?0:-r:null==G?r:"string"==typeof D&&"string"==typeof G?r*D.localeCompare(G):D<G?-r:D>G?r:0}):console.warn("Cannot sort array of unknown values")}extractMetaData(e,r,n,o){if(null!=e)if(r.parsed=!0,r.subValue=null,r.subValues=null,"object"!=typeof e)null!=e?r.direct=!0:r.parsed=!1;else if(Array.isArray(e)&&(r.array=!0,console.debug("Getting an array as a value for metadata extraction",e),e.length>0?e=e[0]:r.parsed=!1),e instanceof Date)r.direct=!0;else if(void 0!==e.value)r.subValue="value";else if(void 0!==e.amount)r.subValue="amount";else if(void 0!==e.cost)r.subValues=["cost","amount"];else{let f=null;for(const p in e)null==f&&(f=p),null!=e[p]&&"object"!=typeof e[p]&&(r.subValue=p);null==r.subValue&&null==r.subValues&&("object"!=typeof e||e instanceof Date?(r.subValue=f,console.warn("Guessed value key of "+r.subValue+" for object:",e)):(console.warn("Cannot guess value for object: ",e),r.parsed=!1,r.subValue=null,r.subValues=null,r.direct=!1,r.array=!1))}}modifyValues(e,r,n,o,f,p){if(null==e)throw new Error("Cannot modify value of null object");const N=o(this.extractValue(e,n,f,p),this.extractValue(r,n,f,p));return this.applyValue(e,N,n,r,f,p)}extractField(e,r){return null!=r&&null!=e?e[r]:e}}Re.POSSIBLE_CHARS_FOR_ARRAY_KEYS="abcdefghijklmnopqrstuvxyz",Re.POSSIBLE_CHARS_FOR_ARRAY_KEYS_LENGTH=Re.POSSIBLE_CHARS_FOR_ARRAY_KEYS.length,Re.NAME_PROPERTY_NAMES=new Map([["name",100],["nom",100],["title",80],["titre",80],["lastname",80],["label",70],["libell\xe9",70]]);class lt{constructor(){this.parsed=!1,this.array=!1,this.direct=!1,this.subValue=null,this.subValues=null}}class ut{constructor(e,r,n,o){this.name="",this.subChanges=new Array,this.isRoot=!1,e&&(this.type=e),r&&(this.name=r),this.oldPosition=o,this.value=n}createSubChange(e,r,n,o){const f=new ut(e,r,n,o);return this.subChanges.push(f),f}}class xt{}class Pt{constructor(e,r){this.schemaManager=e,this.modelManager=r,this.listeners=new Map,this.listenerCachePerPosition=new Map,this.reset()}reset(){null!=this.receivedChanges&&this.receivedChanges.complete(),this.receivedChanges=new g.x,this.listeners.clear(),this.listenerCachePerPosition.clear()}isInterestedIn(e,r,n){let o=!1;if("?"===e[e.length-1]&&(o=!0,e=e.substring(0,e.length-1)),"/"===e[e.length-1]&&(e=e.substring(0,e.length-1)),null!=n.position&&n.position.startsWith(e)){let f=ve.nextItemAndPosition(n.position,e.length+1);const p=f.value;return r?p===r||(f=ve.nextItemAndPosition(n.position,f.pos+1),f.value===r):!o||null!=p&&(f=ve.nextItemAndPosition(n.position,f.pos+1),""===f.value)}return!1}createNewListener(e,r){const n={position:e,property:r};this.clearEmptyListeners();let o=this.listeners.get(n);if(null==o&&(o=new E.t(1),this.listeners.set(n,o),this.listenerCachePerPosition.clear()),1==o.observed)return(0,S._)(()=>new Error("Several components listen to the same position {"+e+", "+r));const f=this.cleanPosition(e),p=this.modelManager.findAtPosition(f,!1);if(null!=p){let R=new me(H.RESET,f,p,this.schemaManager.generateSchemaPointer(f));if(this.isInterestedIn(e,r,R))o.next(R);else if(null!=r)for(const T in p)R=new me(H.RESET,f+"/"+T,p[T],this.schemaManager.generateSchemaPointer(f+"/"+T)),this.isInterestedIn(e,r,R)?o.next(R):null!=r&&null!=p[T][r]&&(R=new me(H.RESET,f+"/"+T+"/"+r,p[T][r],this.schemaManager.generateSchemaPointer(f+"/"+T+"/"+r)),this.isInterestedIn(e,r,R)&&o.next(R))}return o}addToListenerCache(e,r){let n=this.listenerCachePerPosition.get(e);n||(n=new Array,this.listenerCachePerPosition.set(e,n)),n.push(r)}getJsonAt(e){return this.modelManager.findAtPosition(e,!1)}applyPluginConfigUpdates(e){if(null!=e)for(const r of e)this.pushChange(this.modelManager.convertToChange(r))}pushChange(e){let r=!1;const n=this.modelManager.applyChange(e);r=this.manageChangeInternally(e);for(const o of n)if(o.type!==e.type||o.position!==e.position){const f=this.manageChangeInternally(o);r=r||f}return r}manageChangeInternally(e){return e.pointer||(e.pointer=this.calculatePointerFor(e.position)),this.receivedChanges.next(e),this.findAndNotify(e,new Map)}findAndNotify(e,r){var n;let o=!1;this.listenerCachePerPosition.get(e.position)||this.listeners.forEach((p,R)=>{this.isInterestedIn(R.position,R.property,e)&&this.addToListenerCache(e.position,p)});const f=this.listenerCachePerPosition.get(e.position);if(null!=f)for(const p of f){let R=!0;const T=r.get(p);if(T)for(const N of T)e.position.startsWith(N)&&(R=!1);else r.set(p,new Array);R&&(o=!0,p.next(e),null===(n=r.get(p))||void 0===n||n.push(e.position))}return o}receiveCommands(e,r){return e?this.createNewListener(e,r):this.receivedChanges}getSchemaManager(){return this.schemaManager}calculatePointerFor(e){return this.schemaManager.generateSchemaPointer(e)}close(){this.receivedChanges.complete()}cleanPosition(e){return(e=e.endsWith("?")?e.substring(0,e.length-1):e).endsWith("/")?e.substring(0,e.length-1):e}clearEmptyListeners(){const e=new Array;for(const r of this.listeners)r[1].observed||e.push(r[0]);for(const r of e)this.listeners.delete(r)}}class yt{constructor(){console.debug("Init core"),this.schemaManager=new ft,this.pluginManager=new dt,this.previewManager=new ht,this.modelManager=new Re(this.schemaManager),this.changeManager=new Pt(this.schemaManager,this.modelManager),this.storeManager=new vt(this.modelManager)}reset(){return this.schemaManager.reset(),this.pluginManager.reset(),this.previewManager.reset(),this.modelManager.reset(),this.changeManager.reset(),this.storeManager.reset(),this}registerPlugin(e){this.pluginManager.registerPlugin(e,this.schemaManager,this.previewManager)}initPlugins(){this.pluginManager.initPlugins(this)}getSchemaUri(){return"schemas/v1/dont-code-schema.json"}getSchemaManager(){return this.schemaManager}getPreviewManager(){return this.previewManager}getStoreManager(){return this.storeManager}getModelManager(){return this.modelManager}getChangeManager(){return this.changeManager}}self.dontCodeCore||(self.dontCodeCore=new yt);var st=self.dontCodeCore;class bt{constructor(e,r,n){this.type=e,this.sessionId=r,this.change=n}}var it=(()=>{return(c=it||(it={})).INIT="INIT",c.CHANGE="CHANGE",it;var c})();class Ct{}class Nt{performAction(e){return new Promise(()=>{this.performSynchronousAction(e)})}performSynchronousAction(e){throw new Error("Action "+e+" for "+e.context.valueOf()+" at "+e.position+" not implemented yet")}}class Ae{static clearConfigCache(){this.specialFieldsCache.clear()}static applyFilters(e,...r){return null==r||0==r.length?e:e.filter(n=>{for(const o of r){const f=n[o.name];switch(o.operator){case $e.EQUALS:return o.value==f;case $e.LESS_THAN:return f<o.value;case $e.LESS_THAN_EQUAL:return f<=o.value;default:throw new Error("Operator "+o.operator+" unknown")}}return!0})}static findSpecialFields(e,r){var n,o,f;let p=Ae.specialFieldsCache.get(e);if(null!=p)return p;const R={score:-1,field:null};p=new Et;const T=r.fields;if(null!=T){let N;for(N in T)"Date"===(null===(n=T[N])||void 0===n?void 0:n.type)||"Date & Time"===(null===(o=T[N])||void 0===o?void 0:o.type)?p.addDateField(null===(f=T[N])||void 0===f?void 0:f.name):Ae.scoreIdFieldFromEntityField(T[N],R)}return R.score>0&&(p.idField=R.field),Ae.specialFieldsCache.set(e,p),console.debug("Found special fields for entity at position "+e,p),p}static findSpecialFieldsFromData(e,r){if(null==r.idField&&e?.length>0){const n=e[0],o={score:-1,field:null};let f;for(f in n)Ae.scoreIdFieldFromProperty(f,o);if(o.score>0){const p=e.length>1?e[Math.floor((e.length+1)/2)]:null;(null==p||p[o.field]!=n[o.field])&&(r.idField=o.field)}}}static scoreIdFieldFromEntityField(e,r){return Ae.scoreIdFieldFromProperty(e?.name,r)}static scoreIdFieldFromProperty(e,r){if(null==e)return!1;const n=e.toLowerCase();return"_id"===n?(r.field="_id",r.score=100,!0):("id"==n||"uniqueid"==n||"identifier"==n||"key"==n||"primaryKey"==n||"uniqueKey"==n?r.score<80&&(r.score=80,r.field=e):n.includes("unique")||n.includes("primary")?r.score<50&&(r.score=50,r.field=e):(n.includes("id")||n.includes("key"))&&r.score<30&&(r.score=30,r.field=e),!1)}static cleanUpDataBeforeSaving(e,r){null!=r?.idField&&"_id"!=r?.idField&&e.forEach(n=>{delete n._id})}static cleanUpLoadedData(e,r){null!=r&&(null==r.idField&&Ae.findSpecialFieldsFromData(e,r),e.forEach(n=>{var o;null!=r.idField&&"_id"!=r.idField&&(n._id=n[r.idField]),null===(o=r.dateFields)||void 0===o||o.forEach(f=>{const p=n[f];if(null!=p){let R=Date.parse(p);if(isNaN(R)){const T=p.lastIndexOf("[");-1!=T&&(R=Date.parse(p.substring(0,T)))}isNaN(R)?delete n[f]:n[f]=new Date(R)}})}))}static multiSortArray(e,r){return e}static calculateGroupedByValues(e,r,n,o,f){var p,R;if(null!=r&&null!=r.display){let T=r.of;null!=r.show&&(T=r.show.valueOf());const N=new Map;let D,G=new Map;const ee=r.getRequiredListOfFields();for(const ge of e){if(ge[T]!=D){D=ge[T];const he=N.get(D);null==he?(G=new Map,N.set(D,G)):G=he}for(const he of ee){let V=G?.get(he);null==V&&(V=new Dt,G.set(he,V));const ie=ge[he],ae=ie;if(null!=ie)if("object"!=typeof ie||ie instanceof Date||null==n)"number"==typeof ae?(null==V.sum&&(V.sum=0),V.sum=V.sum+ae,(null==V.minimum||ae<V.minimum)&&(V.minimum=ie,V.minAsValue=ie),(null==V.maximum||ae>V.maximum)&&(V.maximum=ie,V.maxAsValue=ie),V.count++):(ae instanceof Date&&!isNaN(ae.getTime())&&(V.sum=null,(null==V.minimum||ae.valueOf()<V.minimum.valueOf())&&(V.minimum=ie),(null==V.maximum||ae.valueOf()>V.maximum.valueOf())&&(V.maximum=ie)),V.count++);else{V.sum=null==V.sum?structuredClone(ie):n.modifyValues(V.sum,ie,V.metaData,(Te,Je)=>null!=Te&&null!=Je?Te+Je:null==Te?Je:null==Je?Te:void 0,o,f);const ye=n.extractValue(ie,V.metaData,o,f);if(null==V.minimum)V.minimum=ie,V.minAsValue=ye;else{const Te=V.minAsValue;null!=ye&&(null==Te||ye<Te)&&(V.minimum=ie,V.minAsValue=ye)}if(null==V.maximum)V.maximum=ie,V.maxAsValue=ye;else{const Te=V.maxAsValue;null!=ye&&(null==Te||ye>Te)&&(V.maximum=ie,V.maxAsValue=ye)}null!=ye&&V.count++}}}let ue;if(N.size>0){ue=new St(r,new Map);for(const ge of N.keys()){const he=N.get(ge);for(const V of Object.values(r.display)){let ie;const ae=he.get(V.of);if(null!=ae){switch(V.operation){case Le.Count:ie=ae.count;break;case Le.Sum:ie=ae.sum;break;case Le.Average:ie=null==ae.sum||0==ae.count?null:"object"!=typeof ae.sum||ae.sum instanceof Date||null==n?ae.sum/ae.count:n.applyValue(structuredClone(ae.sum),n.extractValue(ae.sum,ae.metaData,o,f)/ae.count,ae.metaData,void 0,o,f);break;case Le.Minimum:ie=ae.minimum;break;case Le.Maximum:ie=ae.maximum}let ye=null===(p=ue.values)||void 0===p?void 0:p.get(ge);null==ye&&(ye=new Array,null===(R=ue.values)||void 0===R||R.set(ge,ye)),ye.push(new Ot(V,ie))}}}return ue.values.size>0?ue:void 0}}}}Ae.specialFieldsCache=new Map;class Dt{constructor(){this.count=0,this.minAsValue=null,this.maxAsValue=null,this.metaData=new lt}}class Et{constructor(){this.dateFields=null,this.idField=null}addDateField(e){null==this.dateFields&&(this.dateFields=new Array),this.dateFields.push(e)}}class gt{constructor(e,r,n){this.sortedData=e,this.sortInfo=r,this.groupedByEntities=n}}class St{constructor(e,r){this.groupInfo=e,this.values=r,null==r&&(this.values=new Map)}}class Ot{constructor(e,r){this.forAggregate=e,this.value=r}}class mt{constructor(e){this.modelMgr=e}safeLoadEntity(e,r){return this.loadEntity(e,r).then(n=>n??Promise.reject("Not found"))}searchEntities(e,...r){return this.listEntities(e).pipe((0,P.U)(n=>Ae.applyFilters(n,...r)))}listEntities(e){return this.searchEntities(e)}searchAndPrepareEntities(e,r,n,o,...f){return this.searchEntities(e,...f).pipe((0,P.U)(p=>null!=o?o.postLoadingTransformation(p):p),(0,P.U)(p=>{let R;return(null!=r||!0===n?.atLeastOneGroupIsRequested())&&(p=Ae.multiSortArray(p,this.calculateSortHierarchy(r,n)),null!=n&&(R=Ae.calculateGroupedByValues(p,n,this.modelMgr))),new gt(p,r,R)}))}calculateSortHierarchy(e,r){let n;return n=null!=r?new pt(r.of,void 0,e):e,n}}class ze{static createDeleteChange(e,r,n,o,f){return ze.createAnyChange(H.DELETE,e,r,n,o,null,f)}static createMoveChange(e,r,n,o,f,p,R){const T=ze.createAnyChange(H.MOVE,n,o,f,p,null,R);return T.oldPosition=e,r&&(T.beforeKey=r),T}static createTestChange(e,r,n,o,f,p){return ze.createAnyChange(H.ADD,e,r,n,o,f,p)}static addDummyProviderFromContent(e,r,n){st.getStoreManager().setProvider(new Mt(r,n),e)}static waitUntilTrue(e,r,n,o){ze.waitUntilTrueAndEmit(e,n,o).then(f=>{f?r():r("Timeout waiting for an event")},f=>{r(f)})}static waitUntilTrueAndEmit(e,r,n){return n=n??50,(0,O.z)(function W(c=0,e,r=Y){let n=-1;return null!=e&&((0,j.K)(e)?r=e:n=e),new A.y(o=>{let f=function K(c){return c instanceof Date&&!isNaN(c)}(c)?+c-r.now():c;f<0&&(f=0);let p=0;return r.schedule(function(){o.closed||(o.next(p++),0<=n?this.schedule(void 0,n):o.complete())},f)})}(r=r??50,r).pipe((0,Z.q)(n),(0,k.h)(()=>e()),(0,P.U)(()=>!0)),{defaultValue:!1})}static createAnyChange(e,r,n,o,f,p,R){var T;const N=n?"/"+n:"",D=f?"/"+f:"";let G=o?"/"+o:"";0==r.length&&(G=o||"");let ee=R?"/"+R:"";return 0==r.length&&0==G.length&&(ee=R||""),new me(e,r+N+G+D+ee,p,new ve(r+N+G+D+ee,r+G+ee,r+N+(R?G+D:f?G:""),r+(R?G:""),null!==(T=R??f)&&void 0!==T?T:void 0,null!=R))}}class Mt extends mt{constructor(e,r){super(r),this.content=e}canStoreDocument(e){return!1}deleteEntity(e,r){return Promise.reject("Not implemented by Dummy tester")}loadEntity(e,r){return null!=this.content[r]?Promise.resolve(this.content[r]):Promise.reject("Not found")}searchEntities(e,...r){return Array.isArray(this.content)?(0,ne.D)([this.content]):(0,ne.D)([[this.content]])}storeDocuments(e,r){return(0,S._)(()=>new Error("Not implemented by Dummy tester"))}storeEntity(e,r){return Promise.reject("Not implemented by Dummy tester")}}class Ft{constructor(e){this.toRet=e}getJsonAt(e){return this.toRet}receiveCommands(e,r){return new A.y}calculatePointerFor(e){return st.getSchemaManager().generateSchemaPointer(e)}getSchemaManager(){return st.getSchemaManager()}sendCommand(e){return Promise.resolve(void 0)}}class wt{constructor(){this.name="",this.template=!1,this.description=""}}}}]);