(self.webpackChunkpreview_ui=self.webpackChunkpreview_ui||[]).push([[365],{4707:(u,y,t)=>{t.d(y,{t:()=>o});var s=t(7579),i=t(6063);class o extends s.x{constructor(d=1/0,p=1/0,h=i.l){super(),this._bufferSize=d,this._windowTime=p,this._timestampProvider=h,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=p===1/0,this._bufferSize=Math.max(1,d),this._windowTime=Math.max(1,p)}next(d){const{isStopped:p,_buffer:h,_infiniteTimeWindow:E,_timestampProvider:O,_windowTime:g}=this;p||(h.push(d),!E&&h.push(O.now()+g)),this._trimBuffer(),super.next(d)}_subscribe(d){this._throwIfClosed(),this._trimBuffer();const p=this._innerSubscribe(d),{_infiniteTimeWindow:h,_buffer:E}=this,O=E.slice();for(let g=0;g<O.length&&!d.closed;g+=h?1:2)d.next(O[g]);return this._checkFinalizedStatuses(d),p}_trimBuffer(){const{_bufferSize:d,_timestampProvider:p,_buffer:h,_infiniteTimeWindow:E}=this,O=(E?1:2)*d;if(d<1/0&&O<h.length&&h.splice(0,h.length-O),!E){const g=p.now();let P=0;for(let m=1;m<h.length&&h[m]<=g;m+=2)P=m;P&&h.splice(0,P+1)}}}},7579:(u,y,t)=>{t.d(y,{u:()=>E,x:()=>h});var s=t(9751),i=t(727);const l=(0,t(3888).d)(O=>function(){O(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var d=t(8737),p=t(2806);let h=(()=>{class O extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(P){const m=new E(this,this);return m.operator=P,m}_throwIfClosed(){if(this.closed)throw new l}next(P){(0,p.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const m of this.currentObservers)m.next(P)}})}error(P){(0,p.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=P;const{observers:m}=this;for(;m.length;)m.shift().error(P)}})}complete(){(0,p.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:P}=this;for(;P.length;)P.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var P;return(null===(P=this.observers)||void 0===P?void 0:P.length)>0}_trySubscribe(P){return this._throwIfClosed(),super._trySubscribe(P)}_subscribe(P){return this._throwIfClosed(),this._checkFinalizedStatuses(P),this._innerSubscribe(P)}_innerSubscribe(P){const{hasError:m,isStopped:T,observers:I}=this;return m||T?i.Lc:(this.currentObservers=null,I.push(P),new i.w0(()=>{this.currentObservers=null,(0,d.P)(I,P)}))}_checkFinalizedStatuses(P){const{hasError:m,thrownError:T,isStopped:I}=this;m?P.error(T):I&&P.complete()}asObservable(){const P=new s.y;return P.source=this,P}}return O.create=(g,P)=>new E(g,P),O})();class E extends h{constructor(g,P){super(),this.destination=g,this.source=P}next(g){var P,m;null===(m=null===(P=this.destination)||void 0===P?void 0:P.next)||void 0===m||m.call(P,g)}error(g){var P,m;null===(m=null===(P=this.destination)||void 0===P?void 0:P.error)||void 0===m||m.call(P,g)}complete(){var g,P;null===(P=null===(g=this.destination)||void 0===g?void 0:g.complete)||void 0===P||P.call(g)}_subscribe(g){var P,m;return null!==(m=null===(P=this.source)||void 0===P?void 0:P.subscribe(g))&&void 0!==m?m:i.Lc}}},3905:(u,y,t)=>{t.d(y,{z:()=>o});var s=t(6805),i=t(2961);function o(l,d){const p="object"==typeof d;return new Promise((h,E)=>{const O=new i.Hp({next:g=>{h(g),O.unsubscribe()},error:E,complete:()=>{p?h(d.defaultValue):E(new s.K)}});l.subscribe(O)})}},515:(u,y,t)=>{t.d(y,{E:()=>i});const i=new(t(9751).y)(d=>d.complete())},2843:(u,y,t)=>{t.d(y,{_:()=>o});var s=t(9751),i=t(576);function o(l,d){const p=(0,i.m)(l)?l:()=>l,h=E=>E.error(p());return new s.y(d?E=>d.schedule(h,0,E):h)}},9300:(u,y,t)=>{t.d(y,{h:()=>o});var s=t(4482),i=t(5403);function o(l,d){return(0,s.e)((p,h)=>{let E=0;p.subscribe((0,i.x)(h,O=>l.call(d,O,E++)&&h.next(O)))})}},5698:(u,y,t)=>{t.d(y,{q:()=>l});var s=t(515),i=t(4482),o=t(5403);function l(d){return d<=0?()=>s.E:(0,i.e)((p,h)=>{let E=0;p.subscribe((0,o.x)(h,O=>{++E<=d&&(h.next(O),d<=E&&h.complete())}))})}},6063:(u,y,t)=>{t.d(y,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},6805:(u,y,t)=>{t.d(y,{K:()=>i});const i=(0,t(3888).d)(o=>function(){o(this),this.name="EmptyError",this.message="no elements in sequence"})},9662:(u,y,t)=>{var s=t(614),i=t(6330),o=TypeError;u.exports=function(l){if(s(l))return l;throw o(i(l)+" is not a function")}},9483:(u,y,t)=>{var s=t(4411),i=t(6330),o=TypeError;u.exports=function(l){if(s(l))return l;throw o(i(l)+" is not a constructor")}},6077:(u,y,t)=>{var s=t(614),i=String,o=TypeError;u.exports=function(l){if("object"==typeof l||s(l))return l;throw o("Can't set "+i(l)+" as a prototype")}},1223:(u,y,t)=>{var s=t(5112),i=t(30),o=t(3070).f,l=s("unscopables"),d=Array.prototype;null==d[l]&&o(d,l,{configurable:!0,value:i(null)}),u.exports=function(p){d[l][p]=!0}},1530:(u,y,t)=>{var s=t(8710).charAt;u.exports=function(i,o,l){return o+(l?s(i,o).length:1)}},5787:(u,y,t)=>{var s=t(7976),i=TypeError;u.exports=function(o,l){if(s(l,o))return o;throw i("Incorrect invocation")}},9670:(u,y,t)=>{var s=t(111),i=String,o=TypeError;u.exports=function(l){if(s(l))return l;throw o(i(l)+" is not an object")}},1318:(u,y,t)=>{var s=t(5656),i=t(1400),o=t(6244),l=function(d){return function(p,h,E){var m,O=s(p),g=o(O),P=i(E,g);if(d&&h!=h){for(;g>P;)if((m=O[P++])!=m)return!0}else for(;g>P;P++)if((d||P in O)&&O[P]===h)return d||P||0;return!d&&-1}};u.exports={includes:l(!0),indexOf:l(!1)}},206:(u,y,t)=>{var s=t(1702);u.exports=s([].slice)},7072:(u,y,t)=>{var i=t(5112)("iterator"),o=!1;try{var l=0,d={next:function(){return{done:!!l++}},return:function(){o=!0}};d[i]=function(){return this},Array.from(d,function(){throw 2})}catch{}u.exports=function(p,h){if(!h&&!o)return!1;var E=!1;try{var O={};O[i]=function(){return{next:function(){return{done:E=!0}}}},p(O)}catch{}return E}},4326:(u,y,t)=>{var s=t(1702),i=s({}.toString),o=s("".slice);u.exports=function(l){return o(i(l),8,-1)}},648:(u,y,t)=>{var s=t(1694),i=t(614),o=t(4326),d=t(5112)("toStringTag"),p=Object,h="Arguments"==o(function(){return arguments}());u.exports=s?o:function(O){var g,P,m;return void 0===O?"Undefined":null===O?"Null":"string"==typeof(P=function(O,g){try{return O[g]}catch{}}(g=p(O),d))?P:h?o(g):"Object"==(m=o(g))&&i(g.callee)?"Arguments":m}},9920:(u,y,t)=>{var s=t(2597),i=t(3887),o=t(1236),l=t(3070);u.exports=function(d,p,h){for(var E=i(p),O=l.f,g=o.f,P=0;P<E.length;P++){var m=E[P];!s(d,m)&&(!h||!s(h,m))&&O(d,m,g(p,m))}}},4964:(u,y,t)=>{var i=t(5112)("match");u.exports=function(o){var l=/./;try{"/./"[o](l)}catch{try{return l[i]=!1,"/./"[o](l)}catch{}}return!1}},8544:(u,y,t)=>{var s=t(7293);u.exports=!s(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},6178:u=>{u.exports=function(y,t){return{value:y,done:t}}},8880:(u,y,t)=>{var s=t(9781),i=t(3070),o=t(9114);u.exports=s?function(l,d,p){return i.f(l,d,o(1,p))}:function(l,d,p){return l[d]=p,l}},9114:u=>{u.exports=function(y,t){return{enumerable:!(1&y),configurable:!(2&y),writable:!(4&y),value:t}}},8052:(u,y,t)=>{var s=t(614),i=t(3070),o=t(6339),l=t(3072);u.exports=function(d,p,h,E){E||(E={});var O=E.enumerable,g=void 0!==E.name?E.name:p;if(s(h)&&o(h,g,E),E.global)O?d[p]=h:l(p,h);else{try{E.unsafe?d[p]&&(O=!0):delete d[p]}catch{}O?d[p]=h:i.f(d,p,{value:h,enumerable:!1,configurable:!E.nonConfigurable,writable:!E.nonWritable})}return d}},3072:(u,y,t)=>{var s=t(7854),i=Object.defineProperty;u.exports=function(o,l){try{i(s,o,{value:l,configurable:!0,writable:!0})}catch{s[o]=l}return l}},9781:(u,y,t)=>{var s=t(7293);u.exports=!s(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},4154:u=>{var y="object"==typeof document&&document.all;u.exports={all:y,IS_HTMLDDA:typeof y>"u"&&void 0!==y}},317:(u,y,t)=>{var s=t(7854),i=t(111),o=s.document,l=i(o)&&i(o.createElement);u.exports=function(d){return l?o.createElement(d):{}}},8324:u=>{u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(u,y,t)=>{var i=t(317)("span").classList,o=i&&i.constructor&&i.constructor.prototype;u.exports=o===Object.prototype?void 0:o},7871:(u,y,t)=>{var s=t(3823),i=t(5268);u.exports=!s&&!i&&"object"==typeof window&&"object"==typeof document},3823:u=>{u.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},1528:(u,y,t)=>{var s=t(8113);u.exports=/ipad|iphone|ipod/i.test(s)&&typeof Pebble<"u"},6833:(u,y,t)=>{var s=t(8113);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},5268:(u,y,t)=>{var s=t(4326);u.exports=typeof process<"u"&&"process"==s(process)},1036:(u,y,t)=>{var s=t(8113);u.exports=/web0s(?!.*chrome)/i.test(s)},8113:u=>{u.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},7392:(u,y,t)=>{var h,E,s=t(7854),i=t(8113),o=s.process,l=s.Deno,d=o&&o.versions||l&&l.version,p=d&&d.v8;p&&(E=(h=p.split("."))[0]>0&&h[0]<4?1:+(h[0]+h[1])),!E&&i&&(!(h=i.match(/Edge\/(\d+)/))||h[1]>=74)&&(h=i.match(/Chrome\/(\d+)/))&&(E=+h[1]),u.exports=E},748:u=>{u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(u,y,t)=>{var s=t(7854),i=t(1236).f,o=t(8880),l=t(8052),d=t(3072),p=t(9920),h=t(4705);u.exports=function(E,O){var I,b,D,M,w,g=E.target,P=E.global,m=E.stat;if(I=P?s:m?s[g]||d(g,{}):(s[g]||{}).prototype)for(b in O){if(M=O[b],D=E.dontCallGetSet?(w=i(I,b))&&w.value:I[b],!h(P?b:g+(m?".":"#")+b,E.forced)&&void 0!==D){if(typeof M==typeof D)continue;p(M,D)}(E.sham||D&&D.sham)&&o(M,"sham",!0),l(I,b,M,E)}}},7293:u=>{u.exports=function(y){try{return!!y()}catch{return!0}}},7007:(u,y,t)=>{t(4916);var s=t(1470),i=t(8052),o=t(2261),l=t(7293),d=t(5112),p=t(8880),h=d("species"),E=RegExp.prototype;u.exports=function(O,g,P,m){var T=d(O),I=!l(function(){var w={};return w[T]=function(){return 7},7!=""[O](w)}),b=I&&!l(function(){var w=!1,A=/a/;return"split"===O&&((A={}).constructor={},A.constructor[h]=function(){return A},A.flags="",A[T]=/./[T]),A.exec=function(){return w=!0,null},A[T](""),!w});if(!I||!b||P){var D=s(/./[T]),M=g(T,""[O],function(w,A,F,N,G){var K=s(w),B=A.exec;return B===o||B===E.exec?I&&!G?{done:!0,value:D(A,F,N)}:{done:!0,value:K(F,A,N)}:{done:!1}});i(String.prototype,O,M[0]),i(E,T,M[1])}m&&p(E[T],"sham",!0)}},2104:(u,y,t)=>{var s=t(4374),i=Function.prototype,o=i.apply,l=i.call;u.exports="object"==typeof Reflect&&Reflect.apply||(s?l.bind(o):function(){return l.apply(o,arguments)})},9974:(u,y,t)=>{var s=t(1470),i=t(9662),o=t(4374),l=s(s.bind);u.exports=function(d,p){return i(d),void 0===p?d:o?l(d,p):function(){return d.apply(p,arguments)}}},4374:(u,y,t)=>{var s=t(7293);u.exports=!s(function(){var i=function(){}.bind();return"function"!=typeof i||i.hasOwnProperty("prototype")})},6916:(u,y,t)=>{var s=t(4374),i=Function.prototype.call;u.exports=s?i.bind(i):function(){return i.apply(i,arguments)}},6530:(u,y,t)=>{var s=t(9781),i=t(2597),o=Function.prototype,l=s&&Object.getOwnPropertyDescriptor,d=i(o,"name"),p=d&&"something"===function(){}.name,h=d&&(!s||s&&l(o,"name").configurable);u.exports={EXISTS:d,PROPER:p,CONFIGURABLE:h}},1470:(u,y,t)=>{var s=t(4326),i=t(1702);u.exports=function(o){if("Function"===s(o))return i(o)}},1702:(u,y,t)=>{var s=t(4374),i=Function.prototype,o=i.call,l=s&&i.bind.bind(o,o);u.exports=s?l:function(d){return function(){return o.apply(d,arguments)}}},5005:(u,y,t)=>{var s=t(7854),i=t(614),o=function(l){return i(l)?l:void 0};u.exports=function(l,d){return arguments.length<2?o(s[l]):s[l]&&s[l][d]}},1246:(u,y,t)=>{var s=t(648),i=t(8173),o=t(8554),l=t(7497),p=t(5112)("iterator");u.exports=function(h){if(!o(h))return i(h,p)||i(h,"@@iterator")||l[s(h)]}},4121:(u,y,t)=>{var s=t(6916),i=t(9662),o=t(9670),l=t(6330),d=t(1246),p=TypeError;u.exports=function(h,E){var O=arguments.length<2?d(h):E;if(i(O))return o(s(O,h));throw p(l(h)+" is not iterable")}},8173:(u,y,t)=>{var s=t(9662),i=t(8554);u.exports=function(o,l){var d=o[l];return i(d)?void 0:s(d)}},647:(u,y,t)=>{var s=t(1702),i=t(7908),o=Math.floor,l=s("".charAt),d=s("".replace),p=s("".slice),h=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,E=/\$([$&'`]|\d{1,2})/g;u.exports=function(O,g,P,m,T,I){var b=P+O.length,D=m.length,M=E;return void 0!==T&&(T=i(T),M=h),d(I,M,function(w,A){var F;switch(l(A,0)){case"$":return"$";case"&":return O;case"`":return p(g,0,P);case"'":return p(g,b);case"<":F=T[p(A,1,-1)];break;default:var N=+A;if(0===N)return w;if(N>D){var G=o(N/10);return 0===G?w:G<=D?void 0===m[G-1]?l(A,1):m[G-1]+l(A,1):w}F=m[N-1]}return void 0===F?"":F})}},7854:u=>{var y=function(t){return t&&t.Math==Math&&t};u.exports=y("object"==typeof globalThis&&globalThis)||y("object"==typeof window&&window)||y("object"==typeof self&&self)||y("object"==typeof global&&global)||function(){return this}()||Function("return this")()},2597:(u,y,t)=>{var s=t(1702),i=t(7908),o=s({}.hasOwnProperty);u.exports=Object.hasOwn||function(d,p){return o(i(d),p)}},3501:u=>{u.exports={}},842:u=>{u.exports=function(y,t){try{1==arguments.length?console.error(y):console.error(y,t)}catch{}}},490:(u,y,t)=>{var s=t(5005);u.exports=s("document","documentElement")},4664:(u,y,t)=>{var s=t(9781),i=t(7293),o=t(317);u.exports=!s&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},8361:(u,y,t)=>{var s=t(1702),i=t(7293),o=t(4326),l=Object,d=s("".split);u.exports=i(function(){return!l("z").propertyIsEnumerable(0)})?function(p){return"String"==o(p)?d(p,""):l(p)}:l},2788:(u,y,t)=>{var s=t(1702),i=t(614),o=t(5465),l=s(Function.toString);i(o.inspectSource)||(o.inspectSource=function(d){return l(d)}),u.exports=o.inspectSource},9909:(u,y,t)=>{var m,T,I,s=t(4811),i=t(7854),o=t(111),l=t(8880),d=t(2597),p=t(5465),h=t(6200),E=t(3501),O="Object already initialized",g=i.TypeError;if(s||p.state){var M=p.state||(p.state=new(0,i.WeakMap));M.get=M.get,M.has=M.has,M.set=M.set,m=function(A,F){if(M.has(A))throw g(O);return F.facade=A,M.set(A,F),F},T=function(A){return M.get(A)||{}},I=function(A){return M.has(A)}}else{var w=h("state");E[w]=!0,m=function(A,F){if(d(A,w))throw g(O);return F.facade=A,l(A,w,F),F},T=function(A){return d(A,w)?A[w]:{}},I=function(A){return d(A,w)}}u.exports={set:m,get:T,has:I,enforce:function(A){return I(A)?T(A):m(A,{})},getterFor:function(A){return function(F){var N;if(!o(F)||(N=T(F)).type!==A)throw g("Incompatible receiver, "+A+" required");return N}}}},7659:(u,y,t)=>{var s=t(5112),i=t(7497),o=s("iterator"),l=Array.prototype;u.exports=function(d){return void 0!==d&&(i.Array===d||l[o]===d)}},614:(u,y,t)=>{var s=t(4154),i=s.all;u.exports=s.IS_HTMLDDA?function(o){return"function"==typeof o||o===i}:function(o){return"function"==typeof o}},4411:(u,y,t)=>{var s=t(1702),i=t(7293),o=t(614),l=t(648),d=t(5005),p=t(2788),h=function(){},E=[],O=d("Reflect","construct"),g=/^\s*(?:class|function)\b/,P=s(g.exec),m=!g.exec(h),T=function(D){if(!o(D))return!1;try{return O(h,E,D),!0}catch{return!1}},I=function(D){if(!o(D))return!1;switch(l(D)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!P(g,p(D))}catch{return!0}};I.sham=!0,u.exports=!O||i(function(){var b;return T(T.call)||!T(Object)||!T(function(){b=!0})||b})?I:T},4705:(u,y,t)=>{var s=t(7293),i=t(614),o=/#|\.prototype\./,l=function(O,g){var P=p[d(O)];return P==E||P!=h&&(i(g)?s(g):!!g)},d=l.normalize=function(O){return String(O).replace(o,".").toLowerCase()},p=l.data={},h=l.NATIVE="N",E=l.POLYFILL="P";u.exports=l},8554:u=>{u.exports=function(y){return null==y}},111:(u,y,t)=>{var s=t(614),i=t(4154),o=i.all;u.exports=i.IS_HTMLDDA?function(l){return"object"==typeof l?null!==l:s(l)||l===o}:function(l){return"object"==typeof l?null!==l:s(l)}},1913:u=>{u.exports=!1},7850:(u,y,t)=>{var s=t(111),i=t(4326),l=t(5112)("match");u.exports=function(d){var p;return s(d)&&(void 0!==(p=d[l])?!!p:"RegExp"==i(d))}},2190:(u,y,t)=>{var s=t(5005),i=t(614),o=t(7976),l=t(3307),d=Object;u.exports=l?function(p){return"symbol"==typeof p}:function(p){var h=s("Symbol");return i(h)&&o(h.prototype,d(p))}},408:(u,y,t)=>{var s=t(9974),i=t(6916),o=t(9670),l=t(6330),d=t(7659),p=t(6244),h=t(7976),E=t(4121),O=t(1246),g=t(9212),P=TypeError,m=function(I,b){this.stopped=I,this.result=b},T=m.prototype;u.exports=function(I,b,D){var K,B,ne,ue,te,se,ae,w=!(!D||!D.AS_ENTRIES),A=!(!D||!D.IS_RECORD),F=!(!D||!D.IS_ITERATOR),N=!(!D||!D.INTERRUPTED),G=s(b,D&&D.that),ie=function($){return K&&g(K,"normal",$),new m(!0,$)},j=function($){return w?(o($),N?G($[0],$[1],ie):G($[0],$[1])):N?G($,ie):G($)};if(A)K=I.iterator;else if(F)K=I;else{if(!(B=O(I)))throw P(l(I)+" is not iterable");if(d(B)){for(ne=0,ue=p(I);ue>ne;ne++)if((te=j(I[ne]))&&h(T,te))return te;return new m(!1)}K=E(I,B)}for(se=A?I.next:K.next;!(ae=i(se,K)).done;){try{te=j(ae.value)}catch($){g(K,"throw",$)}if("object"==typeof te&&te&&h(T,te))return te}return new m(!1)}},9212:(u,y,t)=>{var s=t(6916),i=t(9670),o=t(8173);u.exports=function(l,d,p){var h,E;i(l);try{if(!(h=o(l,"return"))){if("throw"===d)throw p;return p}h=s(h,l)}catch(O){E=!0,h=O}if("throw"===d)throw p;if(E)throw h;return i(h),p}},3061:(u,y,t)=>{var s=t(3383).IteratorPrototype,i=t(30),o=t(9114),l=t(8003),d=t(7497),p=function(){return this};u.exports=function(h,E,O,g){var P=E+" Iterator";return h.prototype=i(s,{next:o(+!g,O)}),l(h,P,!1,!0),d[P]=p,h}},1656:(u,y,t)=>{var s=t(2109),i=t(6916),o=t(1913),l=t(6530),d=t(614),p=t(3061),h=t(9518),E=t(7674),O=t(8003),g=t(8880),P=t(8052),m=t(5112),T=t(7497),I=t(3383),b=l.PROPER,D=l.CONFIGURABLE,M=I.IteratorPrototype,w=I.BUGGY_SAFARI_ITERATORS,A=m("iterator"),F="keys",N="values",G="entries",K=function(){return this};u.exports=function(B,ne,ue,te,se,ae,ie){p(ue,ne,te);var le,ye,pe,j=function(Se){if(Se===se&&k)return k;if(!w&&Se in H)return H[Se];switch(Se){case F:case N:case G:return function(){return new ue(this,Se)}}return function(){return new ue(this)}},$=ne+" Iterator",Ee=!1,H=B.prototype,_=H[A]||H["@@iterator"]||se&&H[se],k=!w&&_||j(se),ce="Array"==ne&&H.entries||_;if(ce&&(le=h(ce.call(new B)))!==Object.prototype&&le.next&&(!o&&h(le)!==M&&(E?E(le,M):d(le[A])||P(le,A,K)),O(le,$,!0,!0),o&&(T[$]=K)),b&&se==N&&_&&_.name!==N&&(!o&&D?g(H,"name",N):(Ee=!0,k=function(){return i(_,this)})),se)if(ye={values:j(N),keys:ae?k:j(F),entries:j(G)},ie)for(pe in ye)(w||Ee||!(pe in H))&&P(H,pe,ye[pe]);else s({target:ne,proto:!0,forced:w||Ee},ye);return(!o||ie)&&H[A]!==k&&P(H,A,k,{name:se}),T[ne]=k,ye}},3383:(u,y,t)=>{var P,m,T,s=t(7293),i=t(614),o=t(111),l=t(30),d=t(9518),p=t(8052),h=t(5112),E=t(1913),O=h("iterator"),g=!1;[].keys&&("next"in(T=[].keys())?(m=d(d(T)))!==Object.prototype&&(P=m):g=!0),!o(P)||s(function(){var b={};return P[O].call(b)!==b})?P={}:E&&(P=l(P)),i(P[O])||p(P,O,function(){return this}),u.exports={IteratorPrototype:P,BUGGY_SAFARI_ITERATORS:g}},7497:u=>{u.exports={}},6244:(u,y,t)=>{var s=t(7466);u.exports=function(i){return s(i.length)}},6339:(u,y,t)=>{var s=t(1702),i=t(7293),o=t(614),l=t(2597),d=t(9781),p=t(6530).CONFIGURABLE,h=t(2788),E=t(9909),O=E.enforce,g=E.get,P=String,m=Object.defineProperty,T=s("".slice),I=s("".replace),b=s([].join),D=d&&!i(function(){return 8!==m(function(){},"length",{value:8}).length}),M=String(String).split("String"),w=u.exports=function(A,F,N){"Symbol("===T(P(F),0,7)&&(F="["+I(P(F),/^Symbol\(([^)]*)\)/,"$1")+"]"),N&&N.getter&&(F="get "+F),N&&N.setter&&(F="set "+F),(!l(A,"name")||p&&A.name!==F)&&(d?m(A,"name",{value:F,configurable:!0}):A.name=F),D&&N&&l(N,"arity")&&A.length!==N.arity&&m(A,"length",{value:N.arity});try{N&&l(N,"constructor")&&N.constructor?d&&m(A,"prototype",{writable:!1}):A.prototype&&(A.prototype=void 0)}catch{}var G=O(A);return l(G,"source")||(G.source=b(M,"string"==typeof F?F:"")),A};Function.prototype.toString=w(function(){return o(this)&&g(this).source||h(this)},"toString")},4758:u=>{var y=Math.ceil,t=Math.floor;u.exports=Math.trunc||function(i){var o=+i;return(o>0?t:y)(o)}},5948:(u,y,t)=>{var D,M,w,A,F,s=t(7854),i=t(9974),o=t(1236).f,l=t(261).set,d=t(8572),p=t(6833),h=t(1528),E=t(1036),O=t(5268),g=s.MutationObserver||s.WebKitMutationObserver,P=s.document,m=s.process,T=s.Promise,I=o(s,"queueMicrotask"),b=I&&I.value;if(!b){var N=new d,G=function(){var K,B;for(O&&(K=m.domain)&&K.exit();B=N.get();)try{B()}catch(ne){throw N.head&&D(),ne}K&&K.enter()};p||O||E||!g||!P?!h&&T&&T.resolve?((A=T.resolve(void 0)).constructor=T,F=i(A.then,A),D=function(){F(G)}):O?D=function(){m.nextTick(G)}:(l=i(l,s),D=function(){l(G)}):(M=!0,w=P.createTextNode(""),new g(G).observe(w,{characterData:!0}),D=function(){w.data=M=!M}),b=function(K){N.head||D(),N.add(K)}}u.exports=b},8523:(u,y,t)=>{var s=t(9662),i=TypeError,o=function(l){var d,p;this.promise=new l(function(h,E){if(void 0!==d||void 0!==p)throw i("Bad Promise constructor");d=h,p=E}),this.resolve=s(d),this.reject=s(p)};u.exports.f=function(l){return new o(l)}},3929:(u,y,t)=>{var s=t(7850),i=TypeError;u.exports=function(o){if(s(o))throw i("The method doesn't accept regular expressions");return o}},30:(u,y,t)=>{var M,s=t(9670),i=t(6048),o=t(748),l=t(3501),d=t(490),p=t(317),h=t(6200),g="prototype",P="script",m=h("IE_PROTO"),T=function(){},I=function(A){return"<"+P+">"+A+"</"+P+">"},b=function(A){A.write(I("")),A.close();var F=A.parentWindow.Object;return A=null,F},w=function(){try{M=new ActiveXObject("htmlfile")}catch{}w=typeof document<"u"?document.domain&&M?b(M):function(){var N,A=p("iframe"),F="java"+P+":";return A.style.display="none",d.appendChild(A),A.src=String(F),(N=A.contentWindow.document).open(),N.write(I("document.F=Object")),N.close(),N.F}():b(M);for(var A=o.length;A--;)delete w[g][o[A]];return w()};l[m]=!0,u.exports=Object.create||function(F,N){var G;return null!==F?(T[g]=s(F),G=new T,T[g]=null,G[m]=F):G=w(),void 0===N?G:i.f(G,N)}},6048:(u,y,t)=>{var s=t(9781),i=t(3353),o=t(3070),l=t(9670),d=t(5656),p=t(1956);y.f=s&&!i?Object.defineProperties:function(E,O){l(E);for(var I,g=d(O),P=p(O),m=P.length,T=0;m>T;)o.f(E,I=P[T++],g[I]);return E}},3070:(u,y,t)=>{var s=t(9781),i=t(4664),o=t(3353),l=t(9670),d=t(4948),p=TypeError,h=Object.defineProperty,E=Object.getOwnPropertyDescriptor,O="enumerable",g="configurable",P="writable";y.f=s?o?function(T,I,b){if(l(T),I=d(I),l(b),"function"==typeof T&&"prototype"===I&&"value"in b&&P in b&&!b[P]){var D=E(T,I);D&&D[P]&&(T[I]=b.value,b={configurable:g in b?b[g]:D[g],enumerable:O in b?b[O]:D[O],writable:!1})}return h(T,I,b)}:h:function(T,I,b){if(l(T),I=d(I),l(b),i)try{return h(T,I,b)}catch{}if("get"in b||"set"in b)throw p("Accessors not supported");return"value"in b&&(T[I]=b.value),T}},1236:(u,y,t)=>{var s=t(9781),i=t(6916),o=t(5296),l=t(9114),d=t(5656),p=t(4948),h=t(2597),E=t(4664),O=Object.getOwnPropertyDescriptor;y.f=s?O:function(P,m){if(P=d(P),m=p(m),E)try{return O(P,m)}catch{}if(h(P,m))return l(!i(o.f,P,m),P[m])}},8006:(u,y,t)=>{var s=t(6324),o=t(748).concat("length","prototype");y.f=Object.getOwnPropertyNames||function(d){return s(d,o)}},5181:(u,y)=>{y.f=Object.getOwnPropertySymbols},9518:(u,y,t)=>{var s=t(2597),i=t(614),o=t(7908),l=t(6200),d=t(8544),p=l("IE_PROTO"),h=Object,E=h.prototype;u.exports=d?h.getPrototypeOf:function(O){var g=o(O);if(s(g,p))return g[p];var P=g.constructor;return i(P)&&g instanceof P?P.prototype:g instanceof h?E:null}},7976:(u,y,t)=>{var s=t(1702);u.exports=s({}.isPrototypeOf)},6324:(u,y,t)=>{var s=t(1702),i=t(2597),o=t(5656),l=t(1318).indexOf,d=t(3501),p=s([].push);u.exports=function(h,E){var m,O=o(h),g=0,P=[];for(m in O)!i(d,m)&&i(O,m)&&p(P,m);for(;E.length>g;)i(O,m=E[g++])&&(~l(P,m)||p(P,m));return P}},1956:(u,y,t)=>{var s=t(6324),i=t(748);u.exports=Object.keys||function(l){return s(l,i)}},5296:(u,y)=>{var t={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,i=s&&!t.call({1:2},1);y.f=i?function(l){var d=s(this,l);return!!d&&d.enumerable}:t},7674:(u,y,t)=>{var s=t(1702),i=t(9670),o=t(6077);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var p,l=!1,d={};try{(p=s(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(d,[]),l=d instanceof Array}catch{}return function(E,O){return i(E),o(O),l?p(E,O):E.__proto__=O,E}}():void 0)},2140:(u,y,t)=>{var s=t(6916),i=t(614),o=t(111),l=TypeError;u.exports=function(d,p){var h,E;if("string"===p&&i(h=d.toString)&&!o(E=s(h,d))||i(h=d.valueOf)&&!o(E=s(h,d))||"string"!==p&&i(h=d.toString)&&!o(E=s(h,d)))return E;throw l("Can't convert object to primitive value")}},3887:(u,y,t)=>{var s=t(5005),i=t(1702),o=t(8006),l=t(5181),d=t(9670),p=i([].concat);u.exports=s("Reflect","ownKeys")||function(E){var O=o.f(d(E)),g=l.f;return g?p(O,g(E)):O}},2534:u=>{u.exports=function(y){try{return{error:!1,value:y()}}catch(t){return{error:!0,value:t}}}},3702:(u,y,t)=>{var s=t(7854),i=t(2492),o=t(614),l=t(4705),d=t(2788),p=t(5112),h=t(7871),E=t(3823),O=t(1913),g=t(7392),P=i&&i.prototype,m=p("species"),T=!1,I=o(s.PromiseRejectionEvent),b=l("Promise",function(){var D=d(i),M=D!==String(i);if(!M&&66===g||O&&(!P.catch||!P.finally))return!0;if(!g||g<51||!/native code/.test(D)){var w=new i(function(N){N(1)}),A=function(N){N(function(){},function(){})};if((w.constructor={})[m]=A,!(T=w.then(function(){})instanceof A))return!0}return!M&&(h||E)&&!I});u.exports={CONSTRUCTOR:b,REJECTION_EVENT:I,SUBCLASSING:T}},2492:(u,y,t)=>{var s=t(7854);u.exports=s.Promise},9478:(u,y,t)=>{var s=t(9670),i=t(111),o=t(8523);u.exports=function(l,d){if(s(l),i(d)&&d.constructor===l)return d;var p=o.f(l);return(0,p.resolve)(d),p.promise}},612:(u,y,t)=>{var s=t(2492),i=t(7072),o=t(3702).CONSTRUCTOR;u.exports=o||!i(function(l){s.all(l).then(void 0,function(){})})},8572:u=>{var y=function(){this.head=null,this.tail=null};y.prototype={add:function(t){var s={item:t,next:null},i=this.tail;i?i.next=s:this.head=s,this.tail=s},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},u.exports=y},7651:(u,y,t)=>{var s=t(6916),i=t(9670),o=t(614),l=t(4326),d=t(2261),p=TypeError;u.exports=function(h,E){var O=h.exec;if(o(O)){var g=s(O,h,E);return null!==g&&i(g),g}if("RegExp"===l(h))return s(d,h,E);throw p("RegExp#exec called on incompatible receiver")}},2261:(u,y,t)=>{var G,K,s=t(6916),i=t(1702),o=t(1340),l=t(7066),d=t(2999),p=t(2309),h=t(30),E=t(9909).get,O=t(9441),g=t(7168),P=p("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,T=m,I=i("".charAt),b=i("".indexOf),D=i("".replace),M=i("".slice),w=(K=/b*/g,s(m,G=/a/,"a"),s(m,K,"a"),0!==G.lastIndex||0!==K.lastIndex),A=d.BROKEN_CARET,F=void 0!==/()??/.exec("")[1];(w||F||A||O||g)&&(T=function(K){var se,ae,ie,j,$,Ee,H,B=this,ne=E(B),ue=o(K),te=ne.raw;if(te)return te.lastIndex=B.lastIndex,se=s(T,te,ue),B.lastIndex=te.lastIndex,se;var _=ne.groups,k=A&&B.sticky,ce=s(l,B),le=B.source,ye=0,pe=ue;if(k&&(ce=D(ce,"y",""),-1===b(ce,"g")&&(ce+="g"),pe=M(ue,B.lastIndex),B.lastIndex>0&&(!B.multiline||B.multiline&&"\n"!==I(ue,B.lastIndex-1))&&(le="(?: "+le+")",pe=" "+pe,ye++),ae=new RegExp("^(?:"+le+")",ce)),F&&(ae=new RegExp("^"+le+"$(?!\\s)",ce)),w&&(ie=B.lastIndex),j=s(m,k?ae:B,pe),k?j?(j.input=M(j.input,ye),j[0]=M(j[0],ye),j.index=B.lastIndex,B.lastIndex+=j[0].length):B.lastIndex=0:w&&j&&(B.lastIndex=B.global?j.index+j[0].length:ie),F&&j&&j.length>1&&s(P,j[0],ae,function(){for($=1;$<arguments.length-2;$++)void 0===arguments[$]&&(j[$]=void 0)}),j&&_)for(j.groups=Ee=h(null),$=0;$<_.length;$++)Ee[(H=_[$])[0]]=j[H[1]];return j}),u.exports=T},7066:(u,y,t)=>{var s=t(9670);u.exports=function(){var i=s(this),o="";return i.hasIndices&&(o+="d"),i.global&&(o+="g"),i.ignoreCase&&(o+="i"),i.multiline&&(o+="m"),i.dotAll&&(o+="s"),i.unicode&&(o+="u"),i.unicodeSets&&(o+="v"),i.sticky&&(o+="y"),o}},2999:(u,y,t)=>{var s=t(7293),o=t(7854).RegExp,l=s(function(){var h=o("a","y");return h.lastIndex=2,null!=h.exec("abcd")}),d=l||s(function(){return!o("a","y").sticky}),p=l||s(function(){var h=o("^r","gy");return h.lastIndex=2,null!=h.exec("str")});u.exports={BROKEN_CARET:p,MISSED_STICKY:d,UNSUPPORTED_Y:l}},9441:(u,y,t)=>{var s=t(7293),o=t(7854).RegExp;u.exports=s(function(){var l=o(".","s");return!(l.dotAll&&l.exec("\n")&&"s"===l.flags)})},7168:(u,y,t)=>{var s=t(7293),o=t(7854).RegExp;u.exports=s(function(){var l=o("(?<a>b)","g");return"b"!==l.exec("b").groups.a||"bc"!=="b".replace(l,"$<a>c")})},4488:(u,y,t)=>{var s=t(8554),i=TypeError;u.exports=function(o){if(s(o))throw i("Can't call method on "+o);return o}},6340:(u,y,t)=>{var s=t(5005),i=t(3070),o=t(5112),l=t(9781),d=o("species");u.exports=function(p){var h=s(p);l&&h&&!h[d]&&(0,i.f)(h,d,{configurable:!0,get:function(){return this}})}},8003:(u,y,t)=>{var s=t(3070).f,i=t(2597),l=t(5112)("toStringTag");u.exports=function(d,p,h){d&&!h&&(d=d.prototype),d&&!i(d,l)&&s(d,l,{configurable:!0,value:p})}},6200:(u,y,t)=>{var s=t(2309),i=t(9711),o=s("keys");u.exports=function(l){return o[l]||(o[l]=i(l))}},5465:(u,y,t)=>{var s=t(7854),i=t(3072),o="__core-js_shared__",l=s[o]||i(o,{});u.exports=l},2309:(u,y,t)=>{var s=t(1913),i=t(5465);(u.exports=function(o,l){return i[o]||(i[o]=void 0!==l?l:{})})("versions",[]).push({version:"3.27.2",mode:s?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:(u,y,t)=>{var s=t(9670),i=t(9483),o=t(8554),d=t(5112)("species");u.exports=function(p,h){var O,E=s(p).constructor;return void 0===E||o(O=s(E)[d])?h:i(O)}},8710:(u,y,t)=>{var s=t(1702),i=t(9303),o=t(1340),l=t(4488),d=s("".charAt),p=s("".charCodeAt),h=s("".slice),E=function(O){return function(g,P){var b,D,m=o(l(g)),T=i(P),I=m.length;return T<0||T>=I?O?"":void 0:(b=p(m,T))<55296||b>56319||T+1===I||(D=p(m,T+1))<56320||D>57343?O?d(m,T):b:O?h(m,T,T+2):D-56320+(b-55296<<10)+65536}};u.exports={codeAt:E(!1),charAt:E(!0)}},6293:(u,y,t)=>{var s=t(7392),i=t(7293);u.exports=!!Object.getOwnPropertySymbols&&!i(function(){var o=Symbol();return!String(o)||!(Object(o)instanceof Symbol)||!Symbol.sham&&s&&s<41})},261:(u,y,t)=>{var K,B,ne,ue,s=t(7854),i=t(2104),o=t(9974),l=t(614),d=t(2597),p=t(7293),h=t(490),E=t(206),O=t(317),g=t(8053),P=t(6833),m=t(5268),T=s.setImmediate,I=s.clearImmediate,b=s.process,D=s.Dispatch,M=s.Function,w=s.MessageChannel,A=s.String,F=0,N={},G="onreadystatechange";p(function(){K=s.location});var te=function(j){if(d(N,j)){var $=N[j];delete N[j],$()}},se=function(j){return function(){te(j)}},ae=function(j){te(j.data)},ie=function(j){s.postMessage(A(j),K.protocol+"//"+K.host)};(!T||!I)&&(T=function($){g(arguments.length,1);var Ee=l($)?$:M($),H=E(arguments,1);return N[++F]=function(){i(Ee,void 0,H)},B(F),F},I=function($){delete N[$]},m?B=function(j){b.nextTick(se(j))}:D&&D.now?B=function(j){D.now(se(j))}:w&&!P?(ue=(ne=new w).port2,ne.port1.onmessage=ae,B=o(ue.postMessage,ue)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&K&&"file:"!==K.protocol&&!p(ie)?(B=ie,s.addEventListener("message",ae,!1)):B=G in O("script")?function(j){h.appendChild(O("script"))[G]=function(){h.removeChild(this),te(j)}}:function(j){setTimeout(se(j),0)}),u.exports={set:T,clear:I}},1400:(u,y,t)=>{var s=t(9303),i=Math.max,o=Math.min;u.exports=function(l,d){var p=s(l);return p<0?i(p+d,0):o(p,d)}},5656:(u,y,t)=>{var s=t(8361),i=t(4488);u.exports=function(o){return s(i(o))}},9303:(u,y,t)=>{var s=t(4758);u.exports=function(i){var o=+i;return o!=o||0===o?0:s(o)}},7466:(u,y,t)=>{var s=t(9303),i=Math.min;u.exports=function(o){return o>0?i(s(o),9007199254740991):0}},7908:(u,y,t)=>{var s=t(4488),i=Object;u.exports=function(o){return i(s(o))}},7593:(u,y,t)=>{var s=t(6916),i=t(111),o=t(2190),l=t(8173),d=t(2140),p=t(5112),h=TypeError,E=p("toPrimitive");u.exports=function(O,g){if(!i(O)||o(O))return O;var m,P=l(O,E);if(P){if(void 0===g&&(g="default"),m=s(P,O,g),!i(m)||o(m))return m;throw h("Can't convert object to primitive value")}return void 0===g&&(g="number"),d(O,g)}},4948:(u,y,t)=>{var s=t(7593),i=t(2190);u.exports=function(o){var l=s(o,"string");return i(l)?l:l+""}},1694:(u,y,t)=>{var o={};o[t(5112)("toStringTag")]="z",u.exports="[object z]"===String(o)},1340:(u,y,t)=>{var s=t(648),i=String;u.exports=function(o){if("Symbol"===s(o))throw TypeError("Cannot convert a Symbol value to a string");return i(o)}},6330:u=>{var y=String;u.exports=function(t){try{return y(t)}catch{return"Object"}}},9711:(u,y,t)=>{var s=t(1702),i=0,o=Math.random(),l=s(1..toString);u.exports=function(d){return"Symbol("+(void 0===d?"":d)+")_"+l(++i+o,36)}},3307:(u,y,t)=>{var s=t(6293);u.exports=s&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(u,y,t)=>{var s=t(9781),i=t(7293);u.exports=s&&i(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},8053:u=>{var y=TypeError;u.exports=function(t,s){if(t<s)throw y("Not enough arguments");return t}},4811:(u,y,t)=>{var s=t(7854),i=t(614),o=s.WeakMap;u.exports=i(o)&&/native code/.test(String(o))},5112:(u,y,t)=>{var s=t(7854),i=t(2309),o=t(2597),l=t(9711),d=t(6293),p=t(3307),h=s.Symbol,E=i("wks"),O=p?h.for||h:h&&h.withoutSetter||l;u.exports=function(g){return o(E,g)||(E[g]=d&&o(h,g)?h[g]:O("Symbol."+g)),E[g]}},6699:(u,y,t)=>{var s=t(2109),i=t(1318).includes,o=t(7293),l=t(1223);s({target:"Array",proto:!0,forced:o(function(){return!Array(1).includes()})},{includes:function(h){return i(this,h,arguments.length>1?arguments[1]:void 0)}}),l("includes")},6992:(u,y,t)=>{var s=t(5656),i=t(1223),o=t(7497),l=t(9909),d=t(3070).f,p=t(1656),h=t(6178),E=t(1913),O=t(9781),g="Array Iterator",P=l.set,m=l.getterFor(g);u.exports=p(Array,"Array",function(I,b){P(this,{type:g,target:s(I),index:0,kind:b})},function(){var I=m(this),b=I.target,D=I.kind,M=I.index++;return!b||M>=b.length?(I.target=void 0,h(void 0,!0)):h("keys"==D?M:"values"==D?b[M]:[M,b[M]],!1)},"values");var T=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!E&&O&&"values"!==T.name)try{d(T,"name",{value:"values"})}catch{}},821:(u,y,t)=>{var s=t(2109),i=t(6916),o=t(9662),l=t(8523),d=t(2534),p=t(408);s({target:"Promise",stat:!0,forced:t(612)},{all:function(O){var g=this,P=l.f(g),m=P.resolve,T=P.reject,I=d(function(){var b=o(g.resolve),D=[],M=0,w=1;p(O,function(A){var F=M++,N=!1;w++,i(b,g,A).then(function(G){N||(N=!0,D[F]=G,--w||m(D))},T)}),--w||m(D)});return I.error&&T(I.value),P.promise}})},4164:(u,y,t)=>{var s=t(2109),i=t(1913),o=t(3702).CONSTRUCTOR,l=t(2492),d=t(5005),p=t(614),h=t(8052),E=l&&l.prototype;if(s({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(g){return this.then(void 0,g)}}),!i&&p(l)){var O=d("Promise").prototype.catch;E.catch!==O&&h(E,"catch",O,{unsafe:!0})}},3401:(u,y,t)=>{var Ae,je,De,s=t(2109),i=t(1913),o=t(5268),l=t(7854),d=t(6916),p=t(8052),h=t(7674),E=t(8003),O=t(6340),g=t(9662),P=t(614),m=t(111),T=t(5787),I=t(6707),b=t(261).set,D=t(5948),M=t(842),w=t(2534),A=t(8572),F=t(9909),N=t(2492),G=t(3702),K=t(8523),B="Promise",ne=G.CONSTRUCTOR,ue=G.REJECTION_EVENT,te=G.SUBCLASSING,se=F.getterFor(B),ae=F.set,ie=N&&N.prototype,j=N,$=ie,Ee=l.TypeError,H=l.document,_=l.process,k=K.f,ce=k,le=!!(H&&H.createEvent&&l.dispatchEvent),ye="unhandledrejection",Ie=function(L){var Y;return!(!m(L)||!P(Y=L.then))&&Y},Ge=function(L,Y){var Fe,Xe,S,X=Y.value,J=1==Y.state,ee=J?L.ok:L.fail,Ne=L.resolve,$e=L.reject,Me=L.domain;try{ee?(J||(2===Y.rejection&&rt(Y),Y.rejection=1),!0===ee?Fe=X:(Me&&Me.enter(),Fe=ee(X),Me&&(Me.exit(),S=!0)),Fe===L.promise?$e(Ee("Promise-chain cycle")):(Xe=Ie(Fe))?d(Xe,Fe,Ne,$e):Ne(Fe)):$e(X)}catch(He){Me&&!S&&Me.exit(),$e(He)}},Ye=function(L,Y){L.notified||(L.notified=!0,D(function(){for(var J,X=L.reactions;J=X.get();)Ge(J,L);L.notified=!1,Y&&!L.rejection&&Ce(L)}))},de=function(L,Y,X){var J,ee;le?((J=H.createEvent("Event")).promise=Y,J.reason=X,J.initEvent(L,!1,!0),l.dispatchEvent(J)):J={promise:Y,reason:X},!ue&&(ee=l["on"+L])?ee(J):L===ye&&M("Unhandled promise rejection",X)},Ce=function(L){d(b,l,function(){var ee,Y=L.facade,X=L.value;if(We(L)&&(ee=w(function(){o?_.emit("unhandledRejection",X,Y):de(ye,Y,X)}),L.rejection=o||We(L)?2:1,ee.error))throw ee.value})},We=function(L){return 1!==L.rejection&&!L.parent},rt=function(L){d(b,l,function(){var Y=L.facade;o?_.emit("rejectionHandled",Y):de("rejectionhandled",Y,L.value)})},z=function(L,Y,X){return function(J){L(Y,J,X)}},Be=function(L,Y,X){L.done||(L.done=!0,X&&(L=X),L.value=Y,L.state=2,Ye(L,!0))},Qe=function(L,Y,X){if(!L.done){L.done=!0,X&&(L=X);try{if(L.facade===Y)throw Ee("Promise can't be resolved itself");var J=Ie(Y);J?D(function(){var ee={done:!1};try{d(J,Y,z(Qe,ee,L),z(Be,ee,L))}catch(Ne){Be(ee,Ne,L)}}):(L.value=Y,L.state=1,Ye(L,!1))}catch(ee){Be({done:!1},ee,L)}}};if(ne&&(j=function(Y){T(this,$),g(Y),d(Ae,this);var X=se(this);try{Y(z(Qe,X),z(Be,X))}catch(J){Be(X,J)}},(Ae=function(Y){ae(this,{type:B,done:!1,notified:!1,parent:!1,reactions:new A,rejection:!1,state:0,value:void 0})}).prototype=p($=j.prototype,"then",function(Y,X){var J=se(this),ee=k(I(this,j));return J.parent=!0,ee.ok=!P(Y)||Y,ee.fail=P(X)&&X,ee.domain=o?_.domain:void 0,0==J.state?J.reactions.add(ee):D(function(){Ge(ee,J)}),ee.promise}),je=function(){var L=new Ae,Y=se(L);this.promise=L,this.resolve=z(Qe,Y),this.reject=z(Be,Y)},K.f=k=function(L){return L===j||void 0===L?new je(L):ce(L)},!i&&P(N)&&ie!==Object.prototype)){De=ie.then,te||p(ie,"then",function(Y,X){var J=this;return new j(function(ee,Ne){d(De,J,ee,Ne)}).then(Y,X)},{unsafe:!0});try{delete ie.constructor}catch{}h&&h(ie,$)}s({global:!0,constructor:!0,wrap:!0,forced:ne},{Promise:j}),E(j,B,!1,!0),O(B)},8674:(u,y,t)=>{t(3401),t(821),t(4164),t(6027),t(683),t(6294)},6027:(u,y,t)=>{var s=t(2109),i=t(6916),o=t(9662),l=t(8523),d=t(2534),p=t(408);s({target:"Promise",stat:!0,forced:t(612)},{race:function(O){var g=this,P=l.f(g),m=P.reject,T=d(function(){var I=o(g.resolve);p(O,function(b){i(I,g,b).then(P.resolve,m)})});return T.error&&m(T.value),P.promise}})},683:(u,y,t)=>{var s=t(2109),i=t(6916),o=t(8523);s({target:"Promise",stat:!0,forced:t(3702).CONSTRUCTOR},{reject:function(p){var h=o.f(this);return i(h.reject,void 0,p),h.promise}})},6294:(u,y,t)=>{var s=t(2109),i=t(5005),o=t(1913),l=t(2492),d=t(3702).CONSTRUCTOR,p=t(9478),h=i("Promise"),E=o&&!d;s({target:"Promise",stat:!0,forced:o||d},{resolve:function(g){return p(E&&this===h?l:this,g)}})},4916:(u,y,t)=>{var s=t(2109),i=t(2261);s({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},7852:(u,y,t)=>{var b,s=t(2109),i=t(1470),o=t(1236).f,l=t(7466),d=t(1340),p=t(3929),h=t(4488),E=t(4964),O=t(1913),g=i("".endsWith),P=i("".slice),m=Math.min,T=E("endsWith");s({target:"String",proto:!0,forced:!(!O&&!T&&(b=o(String.prototype,"endsWith"),b&&!b.writable)||T)},{endsWith:function(D){var M=d(h(this));p(D);var w=arguments.length>1?arguments[1]:void 0,A=M.length,F=void 0===w?A:m(l(w),A),N=d(D);return g?g(M,N,F):P(M,F-N.length,F)===N}})},2023:(u,y,t)=>{var s=t(2109),i=t(1702),o=t(3929),l=t(4488),d=t(1340),p=t(4964),h=i("".indexOf);s({target:"String",proto:!0,forced:!p("includes")},{includes:function(O){return!!~h(d(l(this)),d(o(O)),arguments.length>1?arguments[1]:void 0)}})},5306:(u,y,t)=>{var s=t(2104),i=t(6916),o=t(1702),l=t(7007),d=t(7293),p=t(9670),h=t(614),E=t(8554),O=t(9303),g=t(7466),P=t(1340),m=t(4488),T=t(1530),I=t(8173),b=t(647),D=t(7651),w=t(5112)("replace"),A=Math.max,F=Math.min,N=o([].concat),G=o([].push),K=o("".indexOf),B=o("".slice),ne=function(ae){return void 0===ae?ae:String(ae)},ue="$0"==="a".replace(/./,"$0"),te=!!/./[w]&&""===/./[w]("a","$0");l("replace",function(ae,ie,j){var $=te?"$":"$0";return[function(H,_){var k=m(this),ce=E(H)?void 0:I(H,w);return ce?i(ce,H,k,_):i(ie,P(k),H,_)},function(Ee,H){var _=p(this),k=P(Ee);if("string"==typeof H&&-1===K(H,$)&&-1===K(H,"$<")){var ce=j(ie,_,k,H);if(ce.done)return ce.value}var le=h(H);le||(H=P(H));var ye=_.global;if(ye){var pe=_.unicode;_.lastIndex=0}for(var Se=[];;){var Pe=D(_,k);if(null===Pe||(G(Se,Pe),!ye))break;""===P(Pe[0])&&(_.lastIndex=T(k,g(_.lastIndex),pe))}for(var Ue="",xe=0,Ae=0;Ae<Se.length;Ae++){for(var je=P((Pe=Se[Ae])[0]),be=A(F(O(Pe.index),k.length),0),De=[],Ie=1;Ie<Pe.length;Ie++)G(De,ne(Pe[Ie]));var Ge=Pe.groups;if(le){var Ye=N([je],De,be,k);void 0!==Ge&&G(Ye,Ge);var de=P(s(H,void 0,Ye))}else de=b(je,k,be,De,Ge,H);be>=xe&&(Ue+=B(k,xe,be)+de,xe=be+je.length)}return Ue+B(k,xe)}]},!!d(function(){var ae=/./;return ae.exec=function(){var ie=[];return ie.groups={a:"7"},ie},"7"!=="".replace(ae,"$<a>")})||!ue||te)},3157:(u,y,t)=>{var b,s=t(2109),i=t(1470),o=t(1236).f,l=t(7466),d=t(1340),p=t(3929),h=t(4488),E=t(4964),O=t(1913),g=i("".startsWith),P=i("".slice),m=Math.min,T=E("startsWith");s({target:"String",proto:!0,forced:!(!O&&!T&&(b=o(String.prototype,"startsWith"),b&&!b.writable)||T)},{startsWith:function(D){var M=d(h(this));p(D);var w=l(m(arguments.length>1?arguments[1]:void 0,M.length)),A=d(D);return g?g(M,A,w):P(M,w,w+A.length)===A}})},1817:(u,y,t)=>{var s=t(2109),i=t(9781),o=t(7854),l=t(1702),d=t(2597),p=t(614),h=t(7976),E=t(1340),O=t(3070).f,g=t(9920),P=o.Symbol,m=P&&P.prototype;if(i&&p(P)&&(!("description"in m)||void 0!==P().description)){var T={},I=function(){var G=arguments.length<1||void 0===arguments[0]?void 0:E(arguments[0]),K=h(m,this)?new P(G):void 0===G?P():P(G);return""===G&&(T[K]=!0),K};g(I,P),I.prototype=m,m.constructor=I;var b="Symbol(test)"==String(P("test")),D=l(m.valueOf),M=l(m.toString),w=/^Symbol\((.*)\)[^)]+$/,A=l("".replace),F=l("".slice);O(m,"description",{configurable:!0,get:function(){var G=D(this);if(d(T,G))return"";var K=M(G),B=b?F(K,7,-1):A(K,w,"$1");return""===B?void 0:B}}),s({global:!0,constructor:!0,forced:!0},{Symbol:I})}},3948:(u,y,t)=>{var s=t(7854),i=t(8324),o=t(8509),l=t(6992),d=t(8880),p=t(5112),h=p("iterator"),E=p("toStringTag"),O=l.values,g=function(m,T){if(m){if(m[h]!==O)try{d(m,h,O)}catch{m[h]=O}if(m[E]||d(m,E,T),i[T])for(var I in l)if(m[I]!==l[I])try{d(m,I,l[I])}catch{m[I]=l[I]}}};for(var P in i)g(s[P]&&s[P].prototype,P);g(o,"DOMTokenList")},9365:(u,y,t)=>{t.r(y),t.d(y,{AbstractActionHandler:()=>It,AbstractDontCodeStoreProvider:()=>Et,AbstractSchemaItem:()=>Y,Change:()=>Re,ChangeType:()=>Q,DataTransformationInfo:()=>ft,DontCodeChangeManager:()=>dt,DontCodeCore:()=>ht,DontCodeGroupOperationType:()=>we,DontCodeModel:()=>S,DontCodeModelManager:()=>me,DontCodeModelPointer:()=>he,DontCodePluginManager:()=>at,DontCodePreviewManager:()=>lt,DontCodeProject:()=>Ct,DontCodeReportGroupShowType:()=>qe,DontCodeSchema:()=>He,DontCodeSchemaEnum:()=>Ne,DontCodeSchemaEnumValue:()=>$e,DontCodeSchemaManager:()=>ot,DontCodeSchemaObject:()=>J,DontCodeSchemaProperty:()=>Xe,DontCodeSchemaRef:()=>Fe,DontCodeSchemaRoot:()=>ee,DontCodeSchemaValue:()=>Me,DontCodeSortDirectionType:()=>Ze,DontCodeStoreAggregate:()=>mt,DontCodeStoreCriteria:()=>gt,DontCodeStoreCriteriaOperator:()=>Ve,DontCodeStoreGroupby:()=>Ot,DontCodeStoreGroupedByEntities:()=>Pt,DontCodeStoreGroupedByValues:()=>yt,DontCodeStoreManager:()=>ut,DontCodeStorePreparedEntities:()=>pt,DontCodeStoreSort:()=>ct,DontCodeTestManager:()=>ze,Message:()=>Tt,MessageType:()=>et,ModelQuerySingleResult:()=>Rt,MoneyAmount:()=>At,SpecialFields:()=>vt,StoreProviderHelper:()=>Te,TestProviderInterface:()=>Dt,concatIterable:()=>X,dtcde:()=>_e}),t(6992),t(3948),t(1817),t(4916),t(5306),t(3157),t(7852);var E=t(4707),O=t(7579),g=t(4004),P=t(3905),m=t(9751),T=t(727);class I extends T.w0{constructor(e,r){super()}schedule(e,r=0){return this}}const b={setInterval(c,e,...r){const{delegate:n}=b;return n?.setInterval?n.setInterval(c,e,...r):setInterval(c,e,...r)},clearInterval(c){const{delegate:e}=b;return(e?.clearInterval||clearInterval)(c)},delegate:void 0};var D=t(8737),w=t(6063);class A{constructor(e,r=A.now){this.schedulerActionCtor=e,this.now=r}schedule(e,r=0,n){return new this.schedulerActionCtor(this,e).schedule(n,r)}}A.now=w.l.now;const G=new class F extends A{constructor(e,r=A.now){super(e,r),this.actions=[],this._active=!1}flush(e){const{actions:r}=this;if(this._active)return void r.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=r.shift());if(this._active=!1,n){for(;e=r.shift();)e.unsubscribe();throw n}}}(class M extends I{constructor(e,r){super(e,r),this.scheduler=e,this.work=r,this.pending=!1}schedule(e,r=0){var n;if(this.closed)return this;this.state=e;const a=this.id,f=this.scheduler;return null!=a&&(this.id=this.recycleAsyncId(f,a,r)),this.pending=!0,this.delay=r,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(f,this.id,r),this}requestAsyncId(e,r,n=0){return b.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,r,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return r;null!=r&&b.clearInterval(r)}execute(e,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,r);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,r){let a,n=!1;try{this.work(e)}catch(f){n=!0,a=f||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:e,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,(0,D.P)(n,this),null!=e&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null,super.unsubscribe()}}});var K=t(3532);var ue=t(5698),te=t(9300),se=t(2076),ae=t(2843);function $(c){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(c)}function Ee(c,e){if(!(c instanceof e))throw new TypeError("Cannot call a class as a function")}function H(c,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(c,n.key,n)}}function _(c,e,r){return e&&H(c.prototype,e),r&&H(c,r),Object.defineProperty(c,"prototype",{writable:!1}),c}function ce(c){return(ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)})(c)}function le(c,e){return(le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n})(c,e)}function ye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pe(c,e,r){return(pe=ye()?Reflect.construct.bind():function(a,f,v){var R=[null];R.push.apply(R,f);var C=new(Function.bind.apply(a,R));return v&&le(C,v.prototype),C}).apply(null,arguments)}function Pe(c){var e="function"==typeof Map?new Map:void 0;return Pe=function(n){if(null===n||!function Se(c){return-1!==Function.toString.call(c).indexOf("[native code]")}(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return pe(n,arguments,ce(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),le(a,n)},Pe(c)}function Ue(c,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Je(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(c)}function De(c,e){if(c){if("string"==typeof c)return Ie(c,e);var r=Object.prototype.toString.call(c).slice(8,-1);if("Object"===r&&c.constructor&&(r=c.constructor.name),"Map"===r||"Set"===r)return Array.from(c);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ie(c,e)}}function Ie(c,e){(null==e||e>c.length)&&(e=c.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=c[r];return n}t(6699),t(2023);var de=Object.prototype.hasOwnProperty;function Ce(c,e){return(c=c.slice()).push(e),c}function We(c,e){return(e=e.slice()).unshift(c),e}var rt=function(c){!function k(c,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),e&&le(c,e)}(r,c);var e=function xe(c){var e=ye();return function(){var a,n=ce(c);if(e){var f=ce(this).constructor;a=Reflect.construct(n,arguments,f)}else a=n.apply(this,arguments);return Ue(this,a)}}(r);function r(n){var a;return Ee(this,r),(a=e.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,a.value=n,a.name="NewError",a}return _(r)}(Pe(Error));function z(c,e,r,n,a){if(!(this instanceof z))try{return new z(c,e,r,n,a)}catch(x){if(!x.avoidNew)throw x;return x.value}"string"==typeof c&&(a=n,n=r,r=e,e=c,c=null);var f=c&&"object"===$(c);if(this.json=(c=c||{}).json||r,this.path=c.path||e,this.resultType=c.resultType||"value",this.flatten=c.flatten||!1,this.wrap=!de.call(c,"wrap")||c.wrap,this.sandbox=c.sandbox||{},this.preventEval=c.preventEval||!1,this.parent=c.parent||null,this.parentProperty=c.parentProperty||null,this.callback=c.callback||n||null,this.otherTypeCallback=c.otherTypeCallback||a||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==c.autostart){var v={path:f?c.path:e};f?"json"in c&&(v.json=c.json):v.json=r;var R=this.evaluate(v);if(!R||"object"!==$(R))throw new rt(R);return R}}z.prototype.evaluate=function(c,e,r,n){var a=this,f=this.parent,v=this.parentProperty,R=this.flatten,x=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,r=r||this.callback,this.currOtherTypeCallback=n||this.otherTypeCallback,e=e||this.json,(c=c||this.path)&&"object"===$(c)&&!Array.isArray(c)){if(!c.path&&""!==c.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!de.call(c,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');e=c.json,R=de.call(c,"flatten")?c.flatten:R,this.currResultType=de.call(c,"resultType")?c.resultType:this.currResultType,this.currSandbox=de.call(c,"sandbox")?c.sandbox:this.currSandbox,x=de.call(c,"wrap")?c.wrap:x,this.currPreventEval=de.call(c,"preventEval")?c.preventEval:this.currPreventEval,r=de.call(c,"callback")?c.callback:r,this.currOtherTypeCallback=de.call(c,"otherTypeCallback")?c.otherTypeCallback:this.currOtherTypeCallback,f=de.call(c,"parent")?c.parent:f,v=de.call(c,"parentProperty")?c.parentProperty:v,c=c.path}if(f=f||null,v=v||null,Array.isArray(c)&&(c=z.toPathString(c)),(c||""===c)&&e){var U=z.toPathArray(c);"$"===U[0]&&U.length>1&&U.shift(),this._hasParentSelector=null;var W=this._trace(U,e,["$"],f,v,r).filter(function(Z){return Z&&!Z.isParentSelector});return W.length?x||1!==W.length||W[0].hasArrExpr?W.reduce(function(Z,oe){var ge=a._getPreferredOutput(oe);return R&&Array.isArray(ge)?Z=Z.concat(ge):Z.push(ge),Z},[]):this._getPreferredOutput(W[0]):x?[]:void 0}},z.prototype._getPreferredOutput=function(c){var e=this.currResultType;switch(e){case"all":var r=Array.isArray(c.path)?c.path:z.toPathArray(c.path);return c.pointer=z.toPointer(r),c.path="string"==typeof c.path?c.path:z.toPathString(c.path),c;case"value":case"parent":case"parentProperty":return c[e];case"path":return z.toPathString(c[e]);case"pointer":return z.toPointer(c.path);default:throw new TypeError("Unknown result type")}},z.prototype._handleCallback=function(c,e,r){if(e){var n=this._getPreferredOutput(c);c.path="string"==typeof c.path?c.path:z.toPathString(c.path),e(n,r,c)}},z.prototype._trace=function(c,e,r,n,a,f,v,R){var C,x=this;if(!c.length)return this._handleCallback(C={path:r,value:e,parent:n,parentProperty:a,hasArrExpr:v},f,"value"),C;var U=c[0],W=c.slice(1),Z=[];function oe(ve){Array.isArray(ve)?ve.forEach(function(Mt){Z.push(Mt)}):Z.push(ve)}if(("string"!=typeof U||R)&&e&&de.call(e,U))oe(this._trace(W,e[U],Ce(r,U),e,U,f,v));else if("*"===U)this._walk(e,function(ve){oe(x._trace(W,e[ve],Ce(r,ve),e,ve,f,!0,!0))});else if(".."===U)oe(this._trace(W,e,r,n,a,f,v)),this._walk(e,function(ve){"object"===$(e[ve])&&oe(x._trace(c.slice(),e[ve],Ce(r,ve),e,ve,f,!0))});else{if("^"===U)return this._hasParentSelector=!0,{path:r.slice(0,-1),expr:W,isParentSelector:!0};if("~"===U)return C={path:Ce(r,U),value:a,parent:n,parentProperty:null},this._handleCallback(C,f,"property"),C;if("$"===U)oe(this._trace(W,e,r,null,null,f,v));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(U))oe(this._slice(U,W,e,r,n,a,f));else if(0===U.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");var ge=U.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1");this._walk(e,function(ve){x._eval(ge,e[ve],ve,r,n,a)&&oe(x._trace(W,e[ve],Ce(r,ve),e,ve,f,!0))})}else if("("===U[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");oe(this._trace(We(this._eval(U,e,r[r.length-1],r.slice(0,-1),n,a),W),e,r,n,a,f,v))}else if("@"===U[0]){var fe=!1,V=U.slice(1,-2);switch(V){case"scalar":(!e||!["object","function"].includes($(e)))&&(fe=!0);break;case"boolean":case"string":case"undefined":case"function":$(e)===V&&(fe=!0);break;case"integer":Number.isFinite(e)&&!(e%1)&&(fe=!0);break;case"number":Number.isFinite(e)&&(fe=!0);break;case"nonFinite":"number"==typeof e&&!Number.isFinite(e)&&(fe=!0);break;case"object":e&&$(e)===V&&(fe=!0);break;case"array":Array.isArray(e)&&(fe=!0);break;case"other":fe=this.currOtherTypeCallback(e,r,n,a);break;case"null":null===e&&(fe=!0);break;default:throw new TypeError("Unknown value type "+V)}if(fe)return this._handleCallback(C={path:r,value:e,parent:n,parentProperty:a},f,"value"),C}else if("`"===U[0]&&e&&de.call(e,U.slice(1))){var q=U.slice(1);oe(this._trace(W,e[q],Ce(r,q),e,q,f,v,!0))}else if(U.includes(",")){var st,Oe=function Ye(c,e){var r=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(!r){if(Array.isArray(c)||(r=De(c))||e&&c&&"number"==typeof c.length){r&&(c=r);var n=0,a=function(){};return{s:a,n:function(){return n>=c.length?{done:!0}:{done:!1,value:c[n++]}},e:function(x){throw x},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var R,f=!0,v=!1;return{s:function(){r=r.call(c)},n:function(){var x=r.next();return f=x.done,x},e:function(x){v=!0,R=x},f:function(){try{!f&&null!=r.return&&r.return()}finally{if(v)throw R}}}}(U.split(","));try{for(Oe.s();!(st=Oe.n()).done;)oe(this._trace(We(st.value,W),e,r,n,a,f,!0))}catch(ve){Oe.e(ve)}finally{Oe.f()}}else!R&&e&&de.call(e,U)&&oe(this._trace(W,e[U],Ce(r,U),e,U,f,v,!0))}if(this._hasParentSelector)for(var Le=0;Le<Z.length;Le++){var tt=Z[Le];if(tt&&tt.isParentSelector){var ke=this._trace(tt.expr,e,tt.path,n,a,f,v);if(Array.isArray(ke)){Z[Le]=ke[0];for(var Nt=ke.length,it=1;it<Nt;it++)Le++,Z.splice(Le,0,ke[it])}else Z[Le]=ke}}return Z},z.prototype._walk=function(c,e){if(Array.isArray(c))for(var r=c.length,n=0;n<r;n++)e(n);else c&&"object"===$(c)&&Object.keys(c).forEach(function(a){e(a)})},z.prototype._slice=function(c,e,r,n,a,f,v){if(Array.isArray(r)){var R=r.length,x=c.split(":"),C=x[2]&&Number.parseInt(x[2])||1,U=x[0]&&Number.parseInt(x[0])||0,W=x[1]&&Number.parseInt(x[1])||R;U=U<0?Math.max(0,U+R):Math.min(R,U),W=W<0?Math.max(0,W+R):Math.min(R,W);for(var Z=[],oe=U;oe<W;oe+=C)this._trace(We(oe,e),r,n,a,f,v,!0).forEach(function(fe){Z.push(fe)});return Z}},z.prototype._eval=function(c,e,r,n,a,f){this.currSandbox._$_parentProperty=f,this.currSandbox._$_parent=a,this.currSandbox._$_property=r,this.currSandbox._$_root=this.json,this.currSandbox._$_v=e;var v=c.includes("@path");v&&(this.currSandbox._$_path=z.toPathString(n.concat([r])));var R="script:"+c;if(!z.cache[R]){var x=c.replace(/@parentProperty/g,"_$_parentProperty").replace(/@parent/g,"_$_parent").replace(/@property/g,"_$_property").replace(/@root/g,"_$_root").replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1");v&&(x=x.replace(/@path/g,"_$_path")),z.cache[R]=new this.vm.Script(x)}try{return z.cache[R].runInNewContext(this.currSandbox)}catch(C){throw new Error("jsonPath: "+C.message+": "+c)}},z.cache={},z.toPathString=function(c){for(var e=c,r=e.length,n="$",a=1;a<r;a++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(e[a])||(n+=/^[\*0-9]+$/.test(e[a])?"["+e[a]+"]":"['"+e[a]+"']");return n},z.toPointer=function(c){for(var e=c,r=e.length,n="",a=1;a<r;a++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(e[a])||(n+="/"+e[a].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return n},z.toPathArray=function(c){var e=z.cache;if(e[c])return e[c].concat();var r=[],a=c.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,function(f,v){return"[#"+(r.push(v)-1)+"]"}).replace(/\[["']((?:(?!['\]])[\s\S])*)["']\]/g,function(f,v){return"['"+v.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/["']?\.["']?(?!(?:(?!\[)[\s\S])*\])|\[["']?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(f,v){return";"+v.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map(function(f){var v=f.match(/#([0-9]+)/);return v&&v[1]?r[v[1]]:f});return e[c]=a,e[c].concat()},z.prototype.vm={Script:function(){function c(e){Ee(this,c),this.code=e}return _(c,[{key:"runInNewContext",value:function(r){var n=this.code,a=Object.keys(r),f=[];!function(e,r,n){for(var a=e.length,f=0;f<a;f++)n(e[f])&&r.push(e.splice(f--,1)[0])}(a,f,function(U){return"function"==typeof r[U]});var v=a.map(function(U,W){return r[U]}),R=f.reduce(function(U,W){var Z=r[W].toString();return/function/.test(Z)||(Z="function "+Z),"var "+W+"="+Z+";"+U},"");!/(["'])use strict\1/.test(n=R+n)&&!a.includes("arguments")&&(n="var arguments = undefined;"+n);var x=(n=n.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),C=x>-1?n.slice(0,x+1)+" return "+n.slice(x+1):" return "+n;return pe(Function,a.concat([C])).apply(void 0,function Ae(c){return function je(c){if(Array.isArray(c))return Ie(c)}(c)||function be(c){if(typeof Symbol<"u"&&null!=c[Symbol.iterator]||null!=c["@@iterator"])return Array.from(c)}(c)||De(c)||function Ge(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(v))}}]),c}()},t(8674);class Y{constructor(e,r){this.array=!1,this.readOnly=!1,this.hidden=!1,this.parent=e,this.relativeId=r}isArray(){return this.array}setArray(e){this.array=e}isEnum(){return!1}isObject(){return!1}isReference(){return!1}isValue(){return!1}isRoot(){return!1}isHidden(){return this.hidden}setHidden(e){this.hidden=e}isReadonly(){return this.readOnly}setReadonly(e){this.readOnly=e}static generateItem(e,r,n){let f,a=Array.isArray(e);if(a)return console.error("arrays are not supported",e),e;if(a=!1,e.type)switch(e.type){case"object":f=new J(e,r,n);break;case"array":f=this.generateItem(e.items,r,n),a=!0;break;default:f=new Me(e,r,n)}else if(e.enum)f=new Ne(e,r,n);else{if(!e.$ref)return e;f=new Fe(e,r,n)}return!0===e.readOnly&&f.setReadonly(!0),!0===e.writeOnly&&f.setHidden(!0),f.setArray(a),f}static isObject(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}static goto(e,r){let n=e;return r.split("/").forEach(a=>{"#"!==a&&""!=a&&(n=n?.getChild(a)),n||console.error("Cannot find "+a+" of "+r+" in the following item ",e)}),n}upsertWith(e){return!1}getParent(){return this.parent}getChild(e){}getChildren(){return(new Map).entries()}updateWith(e){}allProperties(){return[].values()}getProperties(e){}hasProperties(e){return!1}getRelativeId(){return this.relativeId}setRelativeId(e){this.relativeId=e}getTargetPath(){return this.targetPath}setTargetPath(e){this.targetPath=e}isPossibleDynamicProperty(e){const r=this.getChildren();for(const n of r){const a=n[1].allProperties();for(const f of a)if(f[1].getChild(e))return f[1]}}getAllPossibleDynamicProperties(){const e=this.getChildren(),r=new Map;for(const n of e){const a=n[1].allProperties();for(const f of a)for(const v of f[1].getChildren())r.has(v[0])&&console.warn("Dynamic Property "+v[0]+" is being defined by multiple children."),r.set(v[0],v[1])}return r.entries()}getChildrenAndPossibleProperties(){return X(this.getChildren(),this.getAllPossibleDynamicProperties())}}function*X(...c){for(let e of c){let r;for(e=e[Symbol.iterator]();r=e.next(),!r.done;)yield r.value}}class J extends Y{constructor(e,r,n){super(n,r),this.children=new Map,e&&this.readJson(e)}readJson(e){const r=e.properties;if(r)for(const n in r)this.children.set(n,Y.generateItem(r[n],n,this))}isEnum(){return!1}isObject(){return!0}isReference(){return!1}isValue(){return!1}isRoot(){return!1}upsertWith(e){const r=this.getChild(e.location.id);if(r)r.updateWith(e);else if(null!=e.location.id){const n=Y.generateItem(e.update,e.location.id,this);if(e.location.after){const a=new Map;this.children.forEach((f,v)=>{a.set(v,f),v===e.location.after&&null!=e.location.id&&a.set(e.location.id,n)}),this.children=a}else this.children.set(e.location.id,n);n.updateWith(e)}return!0}updateWith(e){super.updateWith(e)}getChild(e){if(e)return this.children.get(e)}getChildren(){return this.children.entries()}}class ee extends J{constructor(e){super(e,void 0)}readJson(e){super.readJson(e);const r=e.$defs;r&&this.children.set("$defs",new J({properties:r},"$defs",this))}isEnum(){return!1}isObject(){return!0}isReference(){return!1}isValue(){return!1}isRoot(){return!0}}class Ne extends Y{constructor(e,r,n){super(n,r),this.values=new Array,this.properties=new Map,this.updateValues(e.enum,this.values),this.targetPath=e.format}isEnum(){return!0}isObject(){return!1}isReference(){return!1}isValue(){return!1}isRoot(){return!1}getValues(){return this.values}updateWith(e){super.updateWith(e),this.updateValues(e.update.enum,this.values,e)}updateValues(e,r,n){e.forEach(a=>{if("string"==typeof a){if(r.find(f=>f.getValue()===a)||r.push(new $e(a)),n?.props){const f=new Xe(n,this.relativeId+"="+a,this);f.isEmpty()||this.properties.set(a,f)}}else for(const f in a)if(a.hasOwnProperty(f)){let v=r.find(R=>R.getValue()===a);v||(v=new $e(f),r.push(v)),v.getChildren()||v.setChildren([]),this.updateValues(a[f].enum,v.getChildren(),n)}})}allProperties(){return this.properties.entries()}getProperties(e){return this.properties.get(e)}hasProperties(e){return this.properties.has(e)}}class $e{constructor(e,r){this._children=new Array,this._value=e,this._label=r||e}getLabel(){return this._label?this._label:this._value}setLabel(e){this._label=e}getValue(){return this._value}setValue(e){this._value=e}getChildren(){return this._children}setChildren(e){this._children=e}}class Me extends Y{constructor(e,r,n){super(n,r),this.type=e.type,this.targetPath=e.format}isValue(){return!0}getType(){return this.type}}class Fe extends Y{constructor(e,r,n){super(n,r),this.resolvedRef=new Map,this.ref=e.$ref}isReference(){return!0}getReference(){return this.ref}resolveReference(e){this.resolvedRef.set("",e)}getChildren(){return this.resolvedRef.entries()}}class Xe extends J{constructor(e,r,n){super({type:"object",properties:e.props},r,n),this.replace=!!e.replace&&e.replace,this.posAfter=e.location.after}isEmpty(){return 0==this.children.size}isReplace(){return this.replace}getPosAfter(){return this.posAfter}}class S{}S.ROOT="creation",S.APP_NAME_NODE="name",S.APP_TYPE_NODE="type",S.APP_TYPE=S.ROOT+"/"+S.APP_TYPE_NODE,S.APP_NAME=S.ROOT+"/"+S.APP_NAME_NODE,S.APP_ENTITIES_NODE="entities",S.APP_ENTITIES=S.ROOT+"/"+S.APP_ENTITIES_NODE,S.APP_ENTITIES_FROM_NODE="from",S.APP_ENTITIES_FROM=S.APP_ENTITIES+"/"+S.APP_ENTITIES_FROM_NODE,S.APP_ENTITIES_NAME_NODE="name",S.APP_ENTITIES_NAME=S.APP_ENTITIES+"/"+S.APP_ENTITIES_NAME_NODE,S.APP_FIELDS_NODE="fields",S.APP_FIELDS=S.APP_ENTITIES+"/"+S.APP_FIELDS_NODE,S.APP_FIELDS_NAME_NODE="name",S.APP_FIELDS_NAME=S.APP_FIELDS+"/"+S.APP_FIELDS_NAME_NODE,S.APP_FIELDS_TYPE_NODE="type",S.APP_FIELDS_TYPE=S.APP_FIELDS+"/"+S.APP_FIELDS_TYPE_NODE,S.APP_SHARING_NODE="sharing",S.APP_SHARING=S.ROOT+"/"+S.APP_SHARING_NODE,S.APP_SHARING_WITH_NODE="with",S.APP_SHARING_WITH=S.APP_SHARING+"/"+S.APP_SHARING_WITH_NODE,S.APP_REPORTS_NODE="reports",S.APP_REPORTS=S.ROOT+"/"+S.APP_REPORTS_NODE,S.APP_REPORTS_TITLE_NODE="title",S.APP_REPORTS_TITLE=S.APP_REPORTS+"/"+S.APP_REPORTS_TITLE_NODE,S.APP_REPORTS_FOR_NODE="for",S.APP_REPORTS_FOR=S.APP_REPORTS+"/"+S.APP_REPORTS_FOR_NODE,S.APP_REPORTS_GROUP_NODE="groupedBy",S.APP_REPORTS_GROUP=S.APP_REPORTS+"/"+S.APP_REPORTS_GROUP_NODE,S.APP_REPORTS_SORT_NODE="sortedBy",S.APP_REPORTS_SORT=S.APP_REPORTS+"/"+S.APP_REPORTS_SORT_NODE,S.APP_REPORTS_DISPLAY_NODE="as",S.APP_REPORTS_DISPLAY=S.APP_REPORTS+"/"+S.APP_REPORTS_DISPLAY_NODE,S.APP_REPORTS_GROUP_LABEL_NODE="label",S.APP_REPORTS_GROUP_LABEL=S.APP_REPORTS_GROUP+"/"+S.APP_REPORTS_GROUP_LABEL_NODE,S.APP_REPORTS_GROUP_OF_NODE="of",S.APP_REPORTS_GROUP_OF=S.APP_REPORTS_GROUP+"/"+S.APP_REPORTS_GROUP_OF_NODE,S.APP_REPORTS_GROUP_SHOW_NODE="show",S.APP_REPORTS_GROUP_SHOW=S.APP_REPORTS_GROUP+"/"+S.APP_REPORTS_GROUP_SHOW_NODE,S.APP_REPORTS_GROUP_AGGREGATE_NODE="display",S.APP_REPORTS_GROUP_AGGREGATE=S.APP_REPORTS_GROUP+"/"+S.APP_REPORTS_GROUP_AGGREGATE_NODE,S.APP_REPORTS_GROUP_AGGREGATE_LABEL_NODE="label",S.APP_REPORTS_GROUP_AGGREGATE_LABEL=S.APP_REPORTS_GROUP_AGGREGATE+"/"+S.APP_REPORTS_GROUP_AGGREGATE_LABEL_NODE,S.APP_REPORTS_GROUP_AGGREGATE_OPERATION_NODE="operation",S.APP_REPORTS_GROUP_AGGREGATE_OPERATION=S.APP_REPORTS_GROUP_AGGREGATE+"/"+S.APP_REPORTS_GROUP_AGGREGATE_OPERATION_NODE,S.APP_REPORTS_GROUP_AGGREGATE_OF_NODE="of",S.APP_REPORTS_GROUP_AGGREGATE_OF=S.APP_REPORTS_GROUP_AGGREGATE+"/"+S.APP_REPORTS_GROUP_AGGREGATE_OF_NODE,S.APP_REPORTS_SORT_BY_NODE="by",S.APP_REPORTS_SORT_BY=S.APP_REPORTS_SORT+"/"+S.APP_REPORTS_SORT_BY_NODE,S.APP_REPORTS_SORT_DIRECTION_NODE="direction",S.APP_REPORTS_SORT_DIRECTION=S.APP_REPORTS_SORT+"/"+S.APP_REPORTS_SORT_DIRECTION_NODE,S.APP_REPORTS_DISPLAY_TITLE_NODE="title",S.APP_REPORTS_DISPLAY_TITLE=S.APP_REPORTS_DISPLAY+"/"+S.APP_REPORTS_DISPLAY_TITLE_NODE,S.APP_REPORTS_DISPLAY_TYPE_NODE="type",S.APP_REPORTS_DISPLAY_TYPE=S.APP_REPORTS_DISPLAY+"/"+S.APP_REPORTS_DISPLAY_TYPE_NODE,S.APP_REPORTS_DISPLAY_OF_NODE="of",S.APP_REPORTS_DISPLAY_OF=S.APP_REPORTS_DISPLAY+"/"+S.APP_REPORTS_DISPLAY_OF_NODE,S.APP_REPORTS_DISPLAY_BY_NODE="by",S.APP_REPORTS_DISPLAY_BY=S.APP_REPORTS_DISPLAY+"/"+S.APP_REPORTS_DISPLAY_BY_NODE,S.APP_SOURCES_NODE="sources",S.APP_SOURCES=S.ROOT+"/"+S.APP_SOURCES_NODE,S.APP_SOURCES_NAME_NODE="name",S.APP_SOURCES_NAME=S.ROOT+"/"+S.APP_SOURCES_NODE+"/"+S.APP_SOURCES_NAME_NODE,S.APP_SOURCES_TYPE_NODE="type",S.APP_SOURCES_TYPE=S.ROOT+"/"+S.APP_SOURCES_NODE+"/"+S.APP_SOURCES_TYPE_NODE,S.APP_SOURCES_URL_NODE="url",S.APP_SOURCES_URL=S.ROOT+"/"+S.APP_SOURCES_NODE+"/"+S.APP_SOURCES_URL_NODE,S.APP_SCREENS_NODE="screens",S.APP_SCREENS=S.ROOT+"/"+S.APP_SCREENS_NODE,S.APP_SCREENS_NAME_NODE="name",S.APP_SCREENS_NAME=S.APP_SCREENS+"/"+S.APP_SCREENS_NAME_NODE,S.APP_SCREENS_LAYOUT_NODE="layout",S.APP_SCREENS_LAYOUT=S.APP_SCREENS+"/"+S.APP_SCREENS_LAYOUT_NODE,S.APP_COMPONENTS_NODE="components",S.APP_COMPONENTS=S.APP_SCREENS+"/"+S.APP_COMPONENTS_NODE,S.APP_COMPONENTS_TYPE_NODE="type",S.APP_COMPONENTS_TYPE=S.APP_COMPONENTS+"/"+S.APP_COMPONENTS_TYPE_NODE,S.APP_COMPONENTS_ENTITY_NODE="entity",S.APP_COMPONENTS_ENTITY=S.APP_COMPONENTS+"/"+S.APP_COMPONENTS_ENTITY_NODE;class He{}He.ROOT="/properties/"+S.ROOT,He.defaultv1={$id:"https://dont-code.net/v1/dont-code-schema.json",$schema:"https://json-schema.org/draft/2020-12/schema",description:"JSON Schema v1 for dont-code",type:"object",required:["creation"],properties:{creation:{type:"object",properties:{type:{enum:["Application"]},name:{type:"string"},entities:{type:"array",items:{$ref:"#/$defs/entity"}},sharing:{$ref:"#/$defs/sharing"},reports:{type:"array",items:{$ref:"#/$defs/report"}},sources:{type:"array",items:{$ref:"#/$defs/source"}},screens:{type:"array",items:{$ref:"#/$defs/screen"}}},additionalProperties:!1}},$defs:{entity:{type:"object",properties:{from:{type:"string",format:"$.creation.sources.name"},name:{type:"string"},fields:{type:"array",items:{$ref:"#/$defs/field"}}},additionalProperties:!1},field:{type:"object",properties:{name:{type:"string"},type:{enum:["Text","Number","Boolean",{Time:{enum:["Date","Date & Time","Time"]}},{Money:{enum:["Dollar","Euro","Other currency"]},Web:{enum:["Website (url)","Image"]}},{Special:{enum:["Reference"]}}]}},additionalProperties:!1},sharing:{type:"object",properties:{with:{enum:["No-one"]}},additionalProperties:!1},source:{type:"object",properties:{name:{type:"string"},type:{enum:["Unknown"]}}},report:{type:"object",properties:{title:{type:"string"},for:{type:"string",format:"$.creation.entities.name"},groupedBy:{type:"array",items:{$ref:"#/$defs/report-group"}},sortedBy:{type:"array",items:{$ref:"#/$defs/report-sort"}},as:{type:"array",items:{$ref:"#/$defs/report-display"}}},additionalProperties:!1},"report-group":{type:"object",properties:{of:{type:"string",format:".fields.name"},label:{type:"string"},show:{enum:["OnlyLowest","OnlyHighest"]},display:{type:"array",items:{$ref:"#/$defs/report-group-aggregate"}}},additionalProperties:!1},"report-group-aggregate":{type:"object",properties:{operation:{enum:["Count","Sum","Average","Minimum","Maximum"]},of:{type:"string",format:".@parent.fields.name"},label:{type:"string"}},additionalProperties:!1},"report-sort":{type:"object",properties:{by:{type:"string",format:".fields.name"},direction:{enum:["None","Ascending","Descending"]}},additionalProperties:!1},"report-display":{type:"object",properties:{type:{enum:["Table","Bar","Line","Pie"]},of:{type:"string",format:".@parent.fields.name"},by:{type:"string",format:".@parent.fields.name"},title:{type:"string"}},additionalProperties:!1},screen:{type:"object",properties:{name:{type:"string"},layout:{enum:["Flow","Grid"]},components:{type:"array",items:{$ref:"#/$defs/component"}}},additionalProperties:!1},component:{type:"object",properties:{type:{enum:["List","Edit","View"]},entity:{type:"string",format:"$.creation.entities.name"}},additionalProperties:!1}}};class he{constructor(e,r,n,a,f,v){this.position=e,this.positionInSchema=r,this.containerPosition=n,this.containerPositionInSchema=a,this.lastElement=f||"",this.isProperty=v,this.fillMissingElements()}fillMissingElements(e){var r,n,a;if(null==this.position||null==this.positionInSchema)throw new Error("Cannot fill Elements for an empty position");null==this.containerPosition&&(this.containerPosition=null!==(r=he.parentPosition(this.position))&&void 0!==r?r:void 0),null==this.containerPositionInSchema&&(this.containerPositionInSchema=null!==(n=he.parentPosition(this.positionInSchema))&&void 0!==n?n:void 0),(null==this.lastElement||0==this.lastElement.length)&&(this.lastElement=null!==(a=he.lastElementOf(this.position))&&void 0!==a?a:this.position),null==this.isProperty&&e&&(this.isProperty=!this.containerPositionInSchema||null!=e.locateItem(this.containerPositionInSchema,!0).getChild(this.lastElement))}static lastElementOf(e){return null==e?e:e.substring(e.lastIndexOf("/")+1)}static nextItemAndPosition(e,r){let n=e.indexOf("/",r);n===r&&(n=e.indexOf("/",r+=1)),-1!==n?n-=1:n=n===r?-1:e.length-1;let a=null;return-1!==n&&(a=e.substring(r,n+1)),{pos:n,value:a}}calculateKeyOrContainer(){var e;return!0===this.isProperty?this.lastElement:null!==(e=he.lastElementOf(this.containerPosition))&&void 0!==e?e:""}calculateItemIdOrContainer(){var e;return!1===this.isProperty?this.lastElement:null!==(e=he.lastElementOf(this.containerPosition))&&void 0!==e?e:""}isSubItemOf(e){return e.position===this.containerPosition?this.lastElement:null}isUnderSubItemOf(e){if(this.positionInSchema.startsWith(e.positionInSchema)){const r=this.positionInSchema.indexOf("/",e.positionInSchema.length+1);return-1==r?this.positionInSchema.substring(e.positionInSchema.length+1):this.positionInSchema.substring(e.positionInSchema.length+1,r)}return null}subItemOrPropertyPointer(e,r){return r?this.subPropertyPointer(e):this.subItemPointer(e)}subPropertyPointer(e){return new he(""===this.position?e:this.position+"/"+e,""===this.positionInSchema?e:this.positionInSchema+"/"+e,this.position,this.positionInSchema,e,!0)}subItemPointer(e){return new he(""===this.position?e:this.position+"/"+e,this.positionInSchema,this.position,this.containerPositionInSchema,e,!1)}safeParentPointer(e){const r=this.parentPointer(e);if(void 0===r)throw new Error("No parent position for pointer "+this.position);return r}parentPointer(e){if(null==this.containerPosition||null==this.containerPositionInSchema)return;const r=new he(this.containerPosition,this.containerPositionInSchema);return null!=e&&r.fillMissingElements(e),r}isParentOf(e,r){if(!0===r){const n=he.parentPosition(e);return null!=n&&this.position==n}return e.startsWith(this.position)}static parentPosition(e){if(null==e||0===e.length)return null;const r=e.lastIndexOf("/");return-1==r?"":e.substring(0,r)}static splitPosition(e){if(null==e||0===e.length)return null;const r=e.lastIndexOf("/");return-1==r?{parent:"",element:e}:{parent:e.substring(0,r),element:e.substring(r+1)}}}class ot{constructor(){this.reset()}getSchema(){return this.currentSchema}convertSchemaToMap(e){return new ee(e)}registerChanges(e){e["schema-updates"]&&e["schema-updates"].forEach(n=>{n.changes.forEach(f=>{if(f.location.id){const v=this.locateItem(f.location.parent);if(!v)throw"Cannot find parent element: "+f.location.parent;v.upsertWith(f)}})})}locateItem(e,r){const n=e.split("/");let a=this.currentSchema;return n.forEach(f=>{if(!a)throw console.error("Could not find subItem "+f+" of "+e),new Error("Could not find subItem "+f+" of "+e);if(f&&f.length>0&&"#"!==f){if(a.isReference()&&(a=this.resolveReference(a)),!a)throw console.error("Could not find reference "+a?.getReference()+" of "+e),new Error("Could not find reference "+a?.getReference()+" of "+e);a=a.getChild(f)}}),r&&a.isReference()&&(a=this.resolveReference(a)),a}resolveReference(e){return this.locateItem(e.getReference())}generateParentPointer(e){if(null!=e.containerPosition)return this.generateSchemaPointer(e.containerPosition)}generateSchemaPointer(e){let r;const n=e,a=n.split("/");if(0===a.length||0===a[0].length)return r=new he(e,e),r;r=new he(e,"");let f=this.currentSchema,v=!1;return a.forEach(R=>{var x;if(v)r.isProperty=!1,v=!1;else{let C=null!==(x=f.getChild(R))&&void 0!==x?x:f.isPossibleDynamicProperty(R);if(!C)throw new Error("Cannot parse '"+n+"' from the schema as "+R+" is not a child of "+f.getRelativeId());if(r.isProperty=!0,r.containerPositionInSchema=r.positionInSchema,r.positionInSchema=null!==r.positionInSchema&&r.positionInSchema.length>0?r.positionInSchema+"/"+R:R,v=!!C.isArray(),C.isReference()&&(C=this.resolveReference(C)),null==C)throw new Error("Cannot parse '"+n+"' from the schema as "+C+" is reference an unknown element");f=C}}),r.containerPositionInSchema=r.positionInSchema.substring(0,r.positionInSchema.lastIndexOf("/")),r.containerPosition=r.position.substring(0,r.position.lastIndexOf("/")),r.lastElement=a[a.length-1],r}generateSubSchemaPointer(e,r){return this.locateItem(e.positionInSchema,!0).getChild(r)?e.subPropertyPointer(r):e.subItemPointer(r)}reset(){this.readSchema=He.defaultv1,this.currentSchema=this.convertSchemaToMap(this.readSchema)}}class at{constructor(){this.plugins=new Map}registerPlugin(e,r,n){const a=e.getConfiguration(),f=a.plugin.id+"-v"+a.plugin.version;null==this.plugins.get(f)&&(r.registerChanges(a),n.registerHandlers(a),this.plugins.set(f,new St(e)))}initPlugins(e){this.plugins.forEach(r=>{var n;if(!1===r.initCalled)try{const a=null===(n=r.plugin.getConfiguration())||void 0===n?void 0:n["definition-updates"];e.getChangeManager().applyPluginConfigUpdates(a),r.plugin.pluginInit(e),r.initCalled=!0}catch(a){console.error("Error calling "+r.plugin+" init method:",a)}})}reset(){this.plugins.clear()}}class St{constructor(e,r){this.plugin=e,this.initCalled=null!=r&&r}}class lt{constructor(){this.reset()}reset(){this.handlersPerLocations=new Map,this.globalHandlersPerLocations=new Map,this.actionHandlersPerLocation=new Map,this.globalHandlers=new E.t}registerHandlers(e){if(e["preview-handlers"]&&e["preview-handlers"].forEach(r=>{let n=this.handlersPerLocations.get(r.location.parent);n||(n=new Array,this.handlersPerLocations.set(r.location.parent,n)),n.push(r)}),e["global-handlers"]&&e["global-handlers"].forEach(r=>{let n=this.handlersPerLocations.get(r.location.parent);n||(n=new Array,this.handlersPerLocations.set(r.location.parent,n)),n.push(r),n=this.globalHandlersPerLocations.get(r.location.parent),n||(n=new Array,this.globalHandlersPerLocations.set(r.location.parent,n)),n.push(r),this.globalHandlers.next(r)}),e["action-handlers"])for(const r of e["action-handlers"]){let n=this.actionHandlersPerLocation.get({position:r.location.parent,context:r["action-context"]});n||(n=new Array,this.actionHandlersPerLocation.set({position:r.location.parent,context:r["action-context"]},n)),n.push(r)}}getGlobalHandlers(){return this.globalHandlersPerLocations}receiveGlobalHandlers(){return this.globalHandlers}retrieveHandlerConfig(e,r){const n=this.handlersPerLocations.get(e);let a=null,f=!1;if(n)for(const v of n)if(v.location.values)if(r){let R=r;v.location.id&&(R=r[v.location.id]),this.extractValuesAsArray(v.location.values).forEach(x=>{x!==R||(a=v)})}else f=!0;else null===a&&(a=v);else if("string"==typeof r&&e.lastIndexOf("/")>0){e.endsWith("/")&&(e=e.substring(0,e.length-1));const R={};return R[e.substring(e.lastIndexOf("/")+1)]=r,this.retrieveHandlerConfig(e.substring(0,e.lastIndexOf("/")),R)}if(null===a&&f)throw new Error("Content must be provided in order to select an handler for position "+e);return a}retrieveActionHandlers(e,r,n){return this.actionHandlersPerLocation.get({position:e,context:r})??[]}extractValuesAsArray(e){const r=new Array;return this.extractValuesToArray(e,r),r}extractValuesToArray(e,r){if(Array.isArray(e))e.forEach(n=>{"string"==typeof n?r.push(n):this.extractValuesToArray(n,r)});else for(const n in e)e.hasOwnProperty(n)&&this.extractValuesToArray(e[n],r)}}var qe=(()=>{return(c=qe||(qe={})).OnlyLowest="OnlyLowest",c.OnlyHighest="OnlyHighest",qe;var c})(),we=(()=>{return(c=we||(we={})).Count="Count",c.Sum="Sum",c.Average="Average",c.Minimum="Minimum",c.Maximum="Maximum",we;var c})(),Ze=(()=>{return(c=Ze||(Ze={})).None="None",c.Ascending="Ascending",c.Descending="Descending",Ze;var c})();class ut{constructor(e,r){this.modelMgr=e,this.providerByPosition=new Map,this.providerByType=new Map,this._default=r,this.reset()}reset(){this.providerByPosition.clear(),this.providerByType.clear()}getProvider(e){var r;if(null==e)return this._default;{let n=null;const a=null===(r=this.modelMgr.findTargetOfProperty(S.APP_ENTITIES_FROM_NODE,e))||void 0===r?void 0:r.value;return a&&(n=this.providerByType.get(a.type)),n||(n=this.providerByPosition.get(e)),n??this._default}}getProviderSafe(e){const r=this.getProvider(e);if(null==r)throw new Error("Trying to get an undefined or null provider");return r}getDefaultProvider(){return this.getProvider()}getDefaultProviderSafe(){return this.getProviderSafe()}setProvider(e,r){null==r?this._default=e:this.providerByPosition.set(r,e)}setProviderForSourceType(e,r){this.providerByType.set(r,e)}setDefaultProvider(e){this.setProvider(e)}removeProvider(e){null==e?this._default=void 0:this.providerByPosition.delete(e)}removeProviderForSourceType(e){this.providerByType.delete(e)}removeDefaultProvider(){this.removeProvider()}storeEntity(e,r){return this.getProviderSafe(e).storeEntity(e,r)}loadEntity(e,r){return this.getProviderSafe(e).loadEntity(e,r)}safeLoadEntity(e,r){return this.getProviderSafe(e).safeLoadEntity(e,r)}deleteEntity(e,r){return this.getProviderSafe(e).deleteEntity(e,r)}searchEntities(e,...r){return this.getProviderSafe(e).searchEntities(e,...r)}searchAndPrepareEntities(e,r,n,a,...f){return this.getProviderSafe(e).searchAndPrepareEntities(e,r,n,a,...f)}canStoreDocument(e){var r;return(null===(r=this.getProvider(e))||void 0===r?void 0:r.canStoreDocument(e))||!1}storeDocuments(e,r){return this.getProviderSafe(r).storeDocuments(e,r)}}var Ve=(()=>{return(c=Ve||(Ve={})).EQUALS="=",c.LESS_THAN="<",c.LESS_THAN_EQUAL="<=",Ve;var c})();class gt{constructor(e,r,n){this.name=e,this.value=r,this.operator=n||Ve.EQUALS}}class ct{constructor(e,r,n){this.by=e,this.subSort=n,this.direction=null==r?Ze.None:r}}class Ot{constructor(e,r,n){this.of=e,this.show=n,this.display=null==r?{}:r}atLeastOneGroupIsRequested(){return null!=this.display&&Object.keys(this.display).length>0}getRequiredListOfFields(){const e=new Set;if(null!=this.display)for(const r of Object.values(this.display))e.add(r.of);return e}}class mt{constructor(e,r){this.of=e,this.operation=r}}class Re{constructor(e,r,n,a,f,v){if(this.type=e,this.position=r,"/"===r)throw new Error("Root position is defined by empty string and not slash anymore");this.value=n,this.pointer=a,this.beforeKey=f,this.oldPosition=v}getSafeParentPosition(){const e=this.getParentPosition();if(null==e)throw new Error("No Parent position for root changes.");return e}getParentPosition(){var e;return null!=this.pointer?null!==(e=this.pointer.containerPosition)&&void 0!==e?e:null:he.parentPosition(this.position)}}var Q=(()=>{return(c=Q||(Q={})).ADD="ADD",c.UPDATE="UPDATE",c.DELETE="DELETE",c.MOVE="MOVE",c.RESET="RESET",Q;var c})();class me{constructor(e){this.schemaMgr=e,this.reset()}reset(){this.content=void 0}getContent(){return this.content}resetContent(e){this.content=e}static isHidden(e){return 1==e?.$hidden}static isReadonly(e){return 1==e?.$readOnly}applyChange(e){var r,n;let a=null!==(r=e.pointer)&&void 0!==r?r:this.schemaMgr.generateSchemaPointer(e.position);e.pointer=a;const v=null===(n=e.pointer)||void 0===n?void 0:n.lastElement;null!=a.containerPosition&&null!=v&&(a=this.schemaMgr.generateParentPointer(a));const R=new nt;R.isRoot=!0,R.name=a.position;let x=R,C=this.findAtPosition(a.position);if(null==C){if(e.type===Q.DELETE)return[];{C=this.findAtPosition(a.position,!0,R);let U=a.position;for(;x.subChanges.length>0;)U=U.substring(0,U.lastIndexOf("/")),x=x.subChanges[0];R.name=U}}return this.applyChangeRecursive(e,C,e.value,e.pointer,x),this.generateChanges(e,R,this.schemaMgr.generateSchemaPointer(R.name))}applyChangeRecursive(e,r,n,a,f,v){if(null==e.pointer)throw new Error("Cannot apply a change without a pointer at position "+e.position);null==v&&(v=e.oldPosition);const R=a.lastElement;if(R||0===R.length){const x=0===R.length?r:r[R];switch(e.type){case Q.ADD:case Q.UPDATE:case Q.RESET:{let C;e.type===Q.RESET&&e.position===a.position?"object"==typeof n&&this.isTheSameForParent(x,n)?C=f.createSubChange(void 0,R,null):("object"==typeof n||x!==n)&&(C=f.createSubChange(Q.RESET,R,n)):null==x?C=f.createSubChange(Q.ADD,R,n):"object"==typeof n&&this.isTheSameForParent(x,n)?C=f.createSubChange(void 0,R,null):("object"==typeof n||x!==n)&&(C=f.createSubChange(Q.UPDATE,R,n)),C&&this.compareRecursiveIfNeeded(e,x,n,a,C),R.length>0&&this.insertProperty(r,R,n,e.beforeKey)}break;case Q.DELETE:if(r[R]){const C=f.createSubChange(Q.DELETE,R,null);this.compareRecursiveIfNeeded(e,r[R],n,a,C),delete r[R]}break;case Q.MOVE:if(e.position===a.position){if(null==v)throw new Error("Cannot process MOVE change without oldPosition"+e.position);if(null==n&&(n=this.findAtPosition(v)),n){const C=f.createSubChange(Q.MOVE,R,n,v);if(e.position!==v){this.compareRecursiveIfNeeded(e,null,n,a,C,v),this.insertProperty(r,R,n,e.beforeKey);const U=he.splitPosition(v);delete this.findAtPosition(U.parent)[U.element]}else this.compareRecursiveIfNeeded(e,null,n,a,C,v),this.insertProperty(r,R,n,e.beforeKey)}}else{const C=f.createSubChange(Q.MOVE,R,null,v);this.compareRecursiveIfNeeded(e,r,n,a,C,v)}break;default:throw new Error("No support for change of type "+e.type)}}else this.compareRecursiveIfNeeded(e,r,n,a,f,v)}isTheSameForParent(e,r){if(r===e)return!0;if(null==r||null==e)return!1;if("object"==typeof e&&"object"==typeof r){const n=Object.keys(e),a=Object.keys(r);return n.length===a.length&&n.every((f,v)=>f===a[v])}return e===r}compareRecursiveIfNeeded(e,r,n,a,f,v){(null==r||"object"!=typeof r)&&(r={}),(null==n||"object"!=typeof n)&&(n={});const R=new Set;for(const x in r){const C=this.schemaMgr.generateSubSchemaPointer(a,x),U=C.position;R.add(x),n.hasOwnProperty(x)?this.applyChangeRecursive(e,r,n[x],C,f,v):this.applyChangeRecursive(new Re(Q.DELETE,U,null,C),r,null,C,f,v)}for(const x in n)if(e.type===Q.MOVE){const C=this.schemaMgr.generateSubSchemaPointer(a,x);this.applyChangeRecursive(e,r,n[x],C,f,v+"/"+x)}else if(!R.has(x)){const C=this.schemaMgr.generateSubSchemaPointer(a,x);this.applyChangeRecursive(new Re(Q.ADD,C.position,n[x],C),r,n[x],C,f)}}generateChanges(e,r,n,a){if(null==a&&(a=new Array),null==e.pointer)throw new Error("Cannot generate changes without the pointer");if(null==n&&(n=e.pointer),null!=r.type)if(r.type===Q.MOVE){if(null==r.oldPosition)throw new Error("A Move Change must have an oldPosition set "+n.position);r.oldPosition!==n.position&&e.position===n.position&&a.push(new Re(Q.UPDATE,he.parentPosition(r.oldPosition),r.value)),a.push(new Re(Q.MOVE,n.position,r.value,n,void 0,r.oldPosition))}else a.push(new Re(r.type,n.position,r.value,n));else for(let f=0;f<r.subChanges.length;f++){const v=r.subChanges[f];if(null!=v.type&&v.type!==Q.UPDATE&&v.name.length>0){a.push(new Re(Q.UPDATE,n.position,this.findAtPosition(n.position),n));break}}for(let f=0;f<r.subChanges.length;f++){const v=r.subChanges[f];this.generateChanges(e,v,this.schemaMgr.generateSubSchemaPointer(n,v.name),a)}return a}generateNextKeyForPosition(e,r=!1){const n=this.findAtPosition(e,r);if(null==n)throw new Error("No element at position "+e);return me.generateNextKey(n)}static generateNextKey(e){let r;r=null!=e.size?e:new Set(Object.keys(e));let n=r.size,a=!1;const f=me.POSSIBLE_CHARS_FOR_ARRAY_KEYS_LENGTH;let v;do{v="";do{const R=Math.trunc(n/f);v=me.POSSIBLE_CHARS_FOR_ARRAY_KEYS[n%f].concat(v),n=R-1}while(n>=0);a=r.has(v),n++}while(a);return v}findAtPosition(e,r,n){const a=e.split("/");if(null==this.content){if(!r)return null;this.content={}}let f=this.content,v="";return a.forEach(R=>{if(""===R||null===f)return f;if(v=0===v.length?R:v+"/"+R,!f[R]){if(!r)return f=null,null;f[R]={},n&&(n=n.createSubChange(Q.ADD,R,{}))}f=f[R]}),f}queryModelToArray(e,r){let n=this.content;return r&&(n=this.findAtPosition(r,!1)),z({path:e,json:n,resultType:"value",wrap:!1,flatten:!0})}queryModelToSingle(e,r){var n;let a=this.content;r&&(a=this.findAtPosition(r,!1));let f=z({path:e,json:a,resultType:"all",wrap:!1});if(Array.isArray(f)){if(!(f.length<=1))throw new Error("Multiple results returned by queryModelToSingle with path "+e);f=f[0]}return!(null===(n=f?.pointer)||void 0===n)&&n.startsWith("/")&&(f.pointer=f.pointer.substring(1)),null!=f&&(delete f.path,delete f.parent,delete f.parentProperty),f}findAllPossibleTargetsOfProperty(e,r,n){if(null==n){const f=this.schemaMgr.generateSchemaPointer(r);n=this.schemaMgr.locateItem(f.subPropertyPointer(e).positionInSchema,!0)}const a=n?.getTargetPath();if(n&&a){const f=a.lastIndexOf(".");return this.queryModelToArray(a.substring(0,f)+".*")}throw new Error("No Schema or no format definition for "+r+"/"+e)}findTargetOfProperty(e,r,n){const a=this.findAtPosition(r,!1);if(a&&a[e]){if(null==n){const v=this.schemaMgr.generateSchemaPointer(r);n=this.schemaMgr.locateItem(v.subPropertyPointer(e).positionInSchema,!0)}const f=n?.getTargetPath();if(n&&f){const v=f.lastIndexOf("."),R=f.substring(0,v)+"[?(@['"+f.substring(v+1)+"']===\""+a[e]+'")]';return this.queryModelToSingle(R)}throw new Error("No Schema or no format definition for "+r+"/"+e)}return null}insertProperty(e,r,n,a){if(a){const f=Object.keys(e);for(const v of f)if(v!==r){const R=e[v];delete e[v],v===a&&(void 0!==e[r]&&delete e[r],e[r]=n),e[v]=R}}else void 0!==e[r]&&delete e[r],e[r]=n}convertToChange(e){let r=this.schemaMgr.generateSchemaPointer(e.location.parent);return this.schemaMgr.locateItem(r.positionInSchema,!1).isArray()?r=r.subItemPointer(null==e.location.id||"*"===e.location.id?this.generateNextKeyForPosition(r.position,!0):e.location.id):null!=e.location.id&&(r=r.subItemPointer(e.location.id)),new Re(Q.ADD,r.position,e.update,r,e.location.after)}guessNamePropertyOfElement(e,r){if(null==r){if(null==e)throw new Error("Either position or model must be provided");if(null==(r=this.findAtPosition(e,!1)))throw new Error("Position "+e+" does not exist in model")}null!=r.fields&&Array.isArray(r.fields)&&(r=r.fields);const n={score:-1,field:null};for(const a in r)if(me.scoreFieldAsName(r[a].name,r[a].type,n))break;return n.score>0?n.field:null}static guessNamePropertyOfObject(e){const r={score:-1,field:null};for(const n in e)me.scoreFieldAsName(n,"Text",r);return r.score>0?r.field:null}static guessNamePropertyFromList(...e){const r={score:-1,field:null};for(const n of e)me.scoreFieldAsName(n,"Text",r);return r.score>0?r.field:null}static scoreFieldAsName(e,r,n){if(null==e)return!1;const a=e.toLowerCase();for(const[f,v]of this.NAME_PROPERTY_NAMES)if(a===f){const R=v??0;if(n.score<R&&(n.score=R,n.field=e,100==n.score))return!0}else if(a.includes(f)){const R=(v??0)/2;n.score<R&&(n.score=R,n.field=e)}return"Text"==r&&n.score<20&&(n.score=20,n.field=e),n.score>0}extractValue(e,r,n,a){if(null==e||(r.parsed||this.extractMetaData(e,r,n,a),r.direct))return e;if(r.array){if(!(e.length>0))return e;e=e[0]}return null!=r.subValue?e[r.subValue]:e}applyValue(e,r,n,a,f){if(null==e&&null!=r)throw new Error("Cannot apply a value to a null or undefined object");if(n.parsed||this.extractMetaData(e,n,a,f),n.direct)return r;if(n.array){if(!(e.length>0))return null!=r&&e.push(r),e;e=e[0]}return null!=n.subValue&&(null==r?delete e[n.subValue]:e[n.subValue]=r),e}extractMetaData(e,r,n,a){if(r.parsed=!0,"object"!=typeof e)null!=e?r.direct=!0:r.parsed=!1;else if(Array.isArray(e)&&(r.array=!0,console.debug("Getting an array as a value for metadata extraction",e),e.length>0?e=e[0]:r.parsed=!1),e instanceof Date)r.direct=!0;else if(void 0!==e.value)r.subValue="value";else if(void 0!==e.amount)r.subValue="amount";else{let f=null;for(const v in e)null==f&&(f=v),null!=e[v]&&"object"!=typeof e[v]&&(r.subValue=v);null==r.subValue&&(r.subValue=f),console.warn("Guessed value key of "+r.subValue+" for object.",e)}}modifyValues(e,r,n,a,f,v){if(null==e)throw new Error("Cannot modify value of null object");const R=a(this.extractValue(e,n,f,v),this.extractValue(r,n,f,v));return this.applyValue(e,R,n,f,v)}}me.POSSIBLE_CHARS_FOR_ARRAY_KEYS="abcdefghijklmnopqrstuvxyz",me.POSSIBLE_CHARS_FOR_ARRAY_KEYS_LENGTH=me.POSSIBLE_CHARS_FOR_ARRAY_KEYS.length,me.NAME_PROPERTY_NAMES=new Map([["name",100],["nom",100],["title",80],["titre",80],["lastname",80],["label",70],["libell\xe9",70]]);class ft{constructor(){this.parsed=!1,this.array=!1,this.direct=!1,this.subValue=null}}class nt{constructor(e,r,n,a){this.name="",this.subChanges=new Array,this.isRoot=!1,e&&(this.type=e),r&&(this.name=r),this.oldPosition=a,this.value=n}createSubChange(e,r,n,a){const f=new nt(e,r,n,a);return this.subChanges.push(f),f}}class Rt{}class dt{constructor(e,r){this.schemaManager=e,this.modelManager=r,this.listeners=new Map,this.listenerCachePerPosition=new Map,this.reset()}reset(){null!=this.receivedChanges&&this.receivedChanges.complete(),this.receivedChanges=new O.x,this.listeners.clear(),this.listenerCachePerPosition.clear()}isInterestedIn(e,r,n){let a=!1;if("?"===e[e.length-1]&&(a=!0,e=e.substring(0,e.length-1)),"/"===e[e.length-1]&&(e=e.substring(0,e.length-1)),null!=n.position&&n.position.startsWith(e)){let f=he.nextItemAndPosition(n.position,e.length+1);const v=f.value;return r?v===r||(f=he.nextItemAndPosition(n.position,f.pos+1),f.value===r):!a||null!=v&&(f=he.nextItemAndPosition(n.position,f.pos+1),""===f.value)}return!1}createNewListener(e,r){const n={position:e,property:r};let a=this.listeners.get(n);a||(a=new E.t(1),this.listeners.set(n,a),this.listenerCachePerPosition.clear());const f=this.cleanPosition(e),v=this.modelManager.findAtPosition(f,!1);if(null!=v){let R=new Re(Q.RESET,f,v,this.schemaManager.generateSchemaPointer(f));if(this.isInterestedIn(e,r,R))a.next(R);else if(null!=r)for(const x in v)R=new Re(Q.RESET,f+"/"+x,v[x],this.schemaManager.generateSchemaPointer(f+"/"+x)),this.isInterestedIn(e,r,R)?a.next(R):null!=r&&null!=v[x][r]&&(R=new Re(Q.RESET,f+"/"+x+"/"+r,v[x][r],this.schemaManager.generateSchemaPointer(f+"/"+x+"/"+r)),this.isInterestedIn(e,r,R)&&a.next(R))}return a}addToListenerCache(e,r){let n=this.listenerCachePerPosition.get(e);n||(n=new Array,this.listenerCachePerPosition.set(e,n)),n.push(r)}getJsonAt(e){return this.modelManager.findAtPosition(e,!1)}applyPluginConfigUpdates(e){if(null!=e)for(const r of e)this.pushChange(this.modelManager.convertToChange(r))}pushChange(e){const r=this.modelManager.applyChange(e);this.manageChangeInternally(e),r.forEach(n=>{(n.type!==e.type||n.position!==e.position)&&this.manageChangeInternally(n)})}manageChangeInternally(e){e.pointer||(e.pointer=this.calculatePointerFor(e.position)),this.receivedChanges.next(e),this.findAndNotify(e,new Map)}findAndNotify(e,r){var n;this.listenerCachePerPosition.get(e.position)||this.listeners.forEach((f,v)=>{this.isInterestedIn(v.position,v.property,e)&&this.addToListenerCache(e.position,f)});const a=this.listenerCachePerPosition.get(e.position);if(null!=a)for(const f of a){let v=!0;const R=r.get(f);if(R)for(const x of R)e.position.startsWith(x)&&(v=!1);else r.set(f,new Array);v&&(f.next(e),null===(n=r.get(f))||void 0===n||n.push(e.position))}}receiveCommands(e,r){return e?this.createNewListener(e,r):this.receivedChanges}getSchemaManager(){return this.schemaManager}calculatePointerFor(e){return this.schemaManager.generateSchemaPointer(e)}close(){this.receivedChanges.complete()}cleanPosition(e){return(e=e.endsWith("?")?e.substring(0,e.length-1):e).endsWith("/")?e.substring(0,e.length-1):e}}class ht{constructor(){console.debug("Init core"),this.schemaManager=new ot,this.pluginManager=new at,this.previewManager=new lt,this.modelManager=new me(this.schemaManager),this.changeManager=new dt(this.schemaManager,this.modelManager),this.storeManager=new ut(this.modelManager)}reset(){return this.schemaManager.reset(),this.pluginManager.reset(),this.previewManager.reset(),this.modelManager.reset(),this.changeManager.reset(),this.storeManager.reset(),this}registerPlugin(e){this.pluginManager.registerPlugin(e,this.schemaManager,this.previewManager)}initPlugins(){this.pluginManager.initPlugins(this)}getSchemaUri(){return"schemas/v1/dont-code-schema.json"}getSchemaManager(){return this.schemaManager}getPreviewManager(){return this.previewManager}getStoreManager(){return this.storeManager}getModelManager(){return this.modelManager}getChangeManager(){return this.changeManager}}self.dontCodeCore||(self.dontCodeCore=new ht);var _e=self.dontCodeCore;class Tt{constructor(e,r,n){this.type=e,this.sessionId=r,this.change=n}}var et=(()=>{return(c=et||(et={})).INIT="INIT",c.CHANGE="CHANGE",et;var c})();class At{}class It{performAction(e,r,n,a){return new Promise(()=>{this.performSynchronousAction(e,r,n,a)})}performSynchronousAction(e,r,n,a){throw new Error("Action "+n+" for "+e+" at "+r+" not implemented yet")}}class Te{static clearConfigCache(){this.specialFieldsCache.clear()}static applyFilters(e,...r){return null==r||0==r.length?e:e.filter(n=>{for(const a of r){const f=n[a.name];switch(a.operator){case Ve.EQUALS:return a.value==f;case Ve.LESS_THAN:return f<a.value;case Ve.LESS_THAN_EQUAL:return f<=a.value;default:throw new Error("Operator "+a.operator+" unknown")}}return!0})}static findSpecialFields(e,r){var n,a,f;let v=Te.specialFieldsCache.get(e);if(null!=v)return v;const R={score:-1,field:null};v=new vt;const x=r.fields;if(null!=x){let C;for(C in x)"Date"===(null===(n=x[C])||void 0===n?void 0:n.type)||"Date & Time"===(null===(a=x[C])||void 0===a?void 0:a.type)?v.addDateField(null===(f=x[C])||void 0===f?void 0:f.name):Te.scoreIdFieldFromEntityField(x[C],R)}return R.score>0&&(v.idField=R.field),Te.specialFieldsCache.set(e,v),console.debug("Found special fields for entity at position "+e,v),v}static findSpecialFieldsFromData(e,r){if(null==r.idField&&e?.length>0){const n=e[0],a={score:-1,field:null};let f;for(f in n)Te.scoreIdFieldFromProperty(f,a);if(a.score>0){const v=e.length>1?e[Math.floor((e.length+1)/2)]:null;(null==v||v[a.field]!=n[a.field])&&(r.idField=a.field)}}}static scoreIdFieldFromEntityField(e,r){return Te.scoreIdFieldFromProperty(e?.name,r)}static scoreIdFieldFromProperty(e,r){if(null==e)return!1;const n=e.toLowerCase();return"_id"===n?(r.field="_id",r.score=100,!0):("id"==n||"uniqueid"==n||"identifier"==n||"key"==n||"primaryKey"==n||"uniqueKey"==n?r.score<80&&(r.score=80,r.field=e):n.includes("unique")||n.includes("primary")?r.score<50&&(r.score=50,r.field=e):(n.includes("id")||n.includes("key"))&&r.score<30&&(r.score=30,r.field=e),!1)}static cleanUpDataBeforeSaving(e,r){null!=r?.idField&&"_id"!=r?.idField&&e.forEach(n=>{delete n._id})}static cleanUpLoadedData(e,r){null!=r&&(null==r.idField&&Te.findSpecialFieldsFromData(e,r),e.forEach(n=>{var a;null!=r.idField&&"_id"!=r.idField&&(n._id=n[r.idField]),null===(a=r.dateFields)||void 0===a||a.forEach(f=>{const v=n[f];if(null!=v){let R=Date.parse(v);if(isNaN(R)){const x=v.lastIndexOf("[");-1!=x&&(R=Date.parse(v.substring(0,x)))}isNaN(R)?delete n[f]:n[f]=new Date(R)}})}))}static multiSortArray(e,r){return e}static calculateGroupedByValues(e,r,n,a,f){var v,R;if(null!=r&&null!=r.display){let x=r.of;null!=r.show&&(x=r.show.valueOf());const C=new Map;let U,W=new Map;const Z=r.getRequiredListOfFields();for(const ge of e){if(ge[x]!=U){U=ge[x];const fe=C.get(U);null==fe?(W=new Map,C.set(U,W)):W=fe}for(const fe of Z){let V=W?.get(fe);null==V&&(V=new xt,W.set(fe,V));const q=ge[fe],re=q;if(null!=q)if("object"!=typeof q||q instanceof Date||null==n)"number"==typeof re?(null==V.sum&&(V.sum=0),V.sum=V.sum+re,(null==V.minimum||re<V.minimum)&&(V.minimum=q),(null==V.maximum||re>V.maximum)&&(V.maximum=q),V.count++):(re instanceof Date&&!isNaN(re.getTime())&&(V.sum=null,(null==V.minimum||re.valueOf()<V.minimum.valueOf())&&(V.minimum=q),(null==V.maximum||re.valueOf()>V.maximum.valueOf())&&(V.maximum=q)),V.count++);else{V.sum=null==V.sum?structuredClone(q):n.modifyValues(V.sum,q,V.metaData,(Ke,Le)=>Ke+Le,a,f);const Oe=n.extractValue(q,V.metaData,a,f);if(null==V.minimum)V.minimum=q;else{const Ke=n.extractValue(V.minimum,V.metaData,a,f);null!=Oe&&Oe<Ke&&(V.minimum=q)}if(null==V.maximum)V.maximum=q;else{const Ke=n.extractValue(V.maximum,V.metaData,a,f);null!=Oe&&Oe>Ke&&(V.maximum=q)}null!=n.extractValue(q,V.metaData,a,f)&&V.count++}}}let oe;if(C.size>0){oe=new Pt(r,new Map);for(const ge of C.keys()){const fe=C.get(ge);for(const V of Object.values(r.display)){let q;const re=fe.get(V.of);if(null!=re){switch(V.operation){case we.Count:q=re.count;break;case we.Sum:q=re.sum;break;case we.Average:q=null==re.sum||0==re.count?null:"object"!=typeof re.sum||re.sum instanceof Date||null==n?re.sum/re.count:n.applyValue(structuredClone(re.sum),n.extractValue(re.sum,re.metaData,a,f)/re.count,re.metaData,a,f);break;case we.Minimum:q=re.minimum;break;case we.Maximum:q=re.maximum}let Oe=null===(v=oe.values)||void 0===v?void 0:v.get(ge);null==Oe&&(Oe=new Array,null===(R=oe.values)||void 0===R||R.set(ge,Oe)),Oe.push(new yt(V,q))}}}return oe.values.size>0?oe:void 0}}}}Te.specialFieldsCache=new Map;class xt{constructor(){this.count=0,this.metaData=new ft}}class vt{constructor(){this.dateFields=null,this.idField=null}addDateField(e){null==this.dateFields&&(this.dateFields=new Array),this.dateFields.push(e)}}class pt{constructor(e,r,n){this.sortedData=e,this.sortInfo=r,this.groupedByEntities=n}}class Pt{constructor(e,r){this.groupInfo=e,this.values=r,null==r&&(this.values=new Map)}}class yt{constructor(e,r){this.forAggregate=e,this.value=r}}class Et{safeLoadEntity(e,r){return this.loadEntity(e,r).then(n=>n??Promise.reject("Not found"))}searchEntities(e,...r){return this.listEntities(e).pipe((0,g.U)(n=>Te.applyFilters(n,...r)))}listEntities(e){return this.searchEntities(e)}searchAndPrepareEntities(e,r,n,a,...f){return this.searchEntities(e,...f).pipe((0,g.U)(v=>null!=a?a.postLoadingTransformation(v):v),(0,g.U)(v=>{let R;return(null!=r||!0===n?.atLeastOneGroupIsRequested())&&(v=Te.multiSortArray(v,this.calculateSortHierarchy(r,n)),null!=n&&(R=Te.calculateGroupedByValues(v,n))),new pt(v,r,R)}))}calculateSortHierarchy(e,r){let n;return n=null!=r?new ct(r.of,void 0,e):e,n}}class ze{static createDeleteChange(e,r,n,a,f){return ze.createAnyChange(Q.DELETE,e,r,n,a,null,f)}static createMoveChange(e,r,n,a,f,v,R){const x=ze.createAnyChange(Q.MOVE,n,a,f,v,null,R);return x.oldPosition=e,r&&(x.beforeKey=r),x}static createTestChange(e,r,n,a,f,v){return ze.createAnyChange(Q.ADD,e,r,n,a,f,v)}static addDummyProviderFromContent(e,r){_e.getStoreManager().setProvider(new bt(r),e)}static waitUntilTrue(e,r,n,a){ze.waitUntilTrueAndEmit(e,n,a).then(f=>{f?r():r("Timeout waiting for an event")},f=>{r(f)})}static waitUntilTrueAndEmit(e,r,n){return n=n??50,(0,P.z)(function ne(c=0,e,r=G){let n=-1;return null!=e&&((0,K.K)(e)?r=e:n=e),new m.y(a=>{let f=function B(c){return c instanceof Date&&!isNaN(c)}(c)?+c-r.now():c;f<0&&(f=0);let v=0;return r.schedule(function(){a.closed||(a.next(v++),0<=n?this.schedule(void 0,n):a.complete())},f)})}(r=r??50,r).pipe((0,ue.q)(n),(0,te.h)(()=>e()),(0,g.U)(()=>!0)),{defaultValue:!1})}static createAnyChange(e,r,n,a,f,v,R){var x;const C=n?"/"+n:"",U=f?"/"+f:"";let W=a?"/"+a:"";0==r.length&&(W=a||"");let Z=R?"/"+R:"";return 0==r.length&&0==W.length&&(Z=R||""),new Re(e,r+C+W+U+Z,v,new he(r+C+W+U+Z,r+W+Z,r+C+(R?W+U:f?W:""),r+(R?W:""),null!==(x=R??f)&&void 0!==x?x:void 0,null!=R))}}class bt extends Et{constructor(e){super(),this.content=e}canStoreDocument(e){return!1}deleteEntity(e,r){return Promise.reject("Not implemented by Dummy tester")}loadEntity(e,r){return null!=this.content[r]?Promise.resolve(this.content[r]):Promise.reject("Not found")}searchEntities(e,...r){return Array.isArray(this.content)?(0,se.D)([this.content]):(0,se.D)([[this.content]])}storeDocuments(e,r){return(0,ae._)(()=>new Error("Not implemented by Dummy tester"))}storeEntity(e,r){return Promise.reject("Not implemented by Dummy tester")}}class Dt{constructor(e){this.toRet=e}getJsonAt(e){return this.toRet}receiveCommands(e,r){return new m.y}calculatePointerFor(e){return _e.getSchemaManager().generateSchemaPointer(e)}getSchemaManager(){return _e.getSchemaManager()}}class Ct{constructor(){this.name="",this.template=!1,this.description=""}}}}]);