(self.webpackChunkpreview_ui=self.webpackChunkpreview_ui||[]).push([[730],{2555:(u,P,t)=>{t.d(P,{t:()=>l});var s=t(2776),i=t(8042);class l extends s.x{constructor(f=1/0,p=1/0,h=i.l){super(),this._bufferSize=f,this._windowTime=p,this._timestampProvider=h,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=p===1/0,this._bufferSize=Math.max(1,f),this._windowTime=Math.max(1,p)}next(f){const{isStopped:p,_buffer:h,_infiniteTimeWindow:g,_timestampProvider:E,_windowTime:S}=this;p||(h.push(f),!g&&h.push(E.now()+S)),this._trimBuffer(),super.next(f)}_subscribe(f){this._throwIfClosed(),this._trimBuffer();const p=this._innerSubscribe(f),{_infiniteTimeWindow:h,_buffer:g}=this,E=g.slice();for(let S=0;S<E.length&&!f.closed;S+=h?1:2)f.next(E[S]);return this._checkFinalizedStatuses(f),p}_trimBuffer(){const{_bufferSize:f,_timestampProvider:p,_buffer:h,_infiniteTimeWindow:g}=this,E=(g?1:2)*f;if(f<1/0&&E<h.length&&h.splice(0,h.length-E),!g){const S=p.now();let y=0;for(let O=1;O<h.length&&h[O]<=S;O+=2)y=O;y&&h.splice(0,y+1)}}}},2776:(u,P,t)=>{t.d(P,{u:()=>g,x:()=>h});var s=t(4630),i=t(4813);const a=(0,t(6889).d)(E=>function(){E(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var f=t(9679),p=t(2046);let h=(()=>{class E extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(y){const O=new g(this,this);return O.operator=y,O}_throwIfClosed(){if(this.closed)throw new a}next(y){(0,p.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const O of this.currentObservers)O.next(y)}})}error(y){(0,p.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=y;const{observers:O}=this;for(;O.length;)O.shift().error(y)}})}complete(){(0,p.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:y}=this;for(;y.length;)y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var y;return(null===(y=this.observers)||void 0===y?void 0:y.length)>0}_trySubscribe(y){return this._throwIfClosed(),super._trySubscribe(y)}_subscribe(y){return this._throwIfClosed(),this._checkFinalizedStatuses(y),this._innerSubscribe(y)}_innerSubscribe(y){const{hasError:O,isStopped:x,observers:A}=this;return O||x?i.Lc:(this.currentObservers=null,A.push(y),new i.w0(()=>{this.currentObservers=null,(0,f.P)(A,y)}))}_checkFinalizedStatuses(y){const{hasError:O,thrownError:x,isStopped:A}=this;O?y.error(x):A&&y.complete()}asObservable(){const y=new s.y;return y.source=this,y}}return E.create=(S,y)=>new g(S,y),E})();class g extends h{constructor(S,y){super(),this.destination=S,this.source=y}next(S){var y,O;null===(O=null===(y=this.destination)||void 0===y?void 0:y.next)||void 0===O||O.call(y,S)}error(S){var y,O;null===(O=null===(y=this.destination)||void 0===y?void 0:y.error)||void 0===O||O.call(y,S)}complete(){var S,y;null===(y=null===(S=this.destination)||void 0===S?void 0:S.complete)||void 0===y||y.call(S)}_subscribe(S){var y,O;return null!==(O=null===(y=this.source)||void 0===y?void 0:y.subscribe(S))&&void 0!==O?O:i.Lc}}},3406:(u,P,t)=>{t.d(P,{z:()=>l});var s=t(7914),i=t(9871);function l(a,f){const p="object"==typeof f;return new Promise((h,g)=>{const E=new i.Hp({next:S=>{h(S),E.unsubscribe()},error:g,complete:()=>{p?h(f.defaultValue):g(new s.K)}});a.subscribe(E)})}},872:(u,P,t)=>{t.d(P,{E:()=>i});const i=new(t(4630).y)(f=>f.complete())},7310:(u,P,t)=>{t.d(P,{_:()=>l});var s=t(4630),i=t(4648);function l(a,f){const p=(0,i.m)(a)?a:()=>a,h=g=>g.error(p());return new s.y(f?g=>f.schedule(h,0,g):h)}},205:(u,P,t)=>{t.d(P,{h:()=>l});var s=t(2871),i=t(4593);function l(a,f){return(0,s.e)((p,h)=>{let g=0;p.subscribe((0,i.x)(h,E=>a.call(f,E,g++)&&h.next(E)))})}},5467:(u,P,t)=>{t.d(P,{q:()=>a});var s=t(872),i=t(2871),l=t(4593);function a(f){return f<=0?()=>s.E:(0,i.e)((p,h)=>{let g=0;p.subscribe((0,l.x)(h,E=>{++g<=f&&(h.next(E),f<=g&&h.complete())}))})}},8042:(u,P,t)=>{t.d(P,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},7914:(u,P,t)=>{t.d(P,{K:()=>i});const i=(0,t(6889).d)(l=>function(){l(this),this.name="EmptyError",this.message="no elements in sequence"})},2411:(u,P,t)=>{var s=t(5304),i=t(409),l=TypeError;u.exports=function(a){if(s(a))return a;throw new l(i(a)+" is not a function")}},86:(u,P,t)=>{var s=t(106),i=t(409),l=TypeError;u.exports=function(a){if(s(a))return a;throw new l(i(a)+" is not a constructor")}},9497:(u,P,t)=>{var s=t(4842),i=String,l=TypeError;u.exports=function(a){if(s(a))return a;throw new l("Can't set "+i(a)+" as a prototype")}},2196:(u,P,t)=>{var s=t(8483),i=t(635),l=t(5330).f,a=s("unscopables"),f=Array.prototype;void 0===f[a]&&l(f,a,{configurable:!0,value:i(null)}),u.exports=function(p){f[a][p]=!0}},8137:(u,P,t)=>{var s=t(587).charAt;u.exports=function(i,l,a){return l+(a?s(i,l).length:1)}},2963:(u,P,t)=>{var s=t(4345),i=TypeError;u.exports=function(l,a){if(s(a,l))return l;throw new i("Incorrect invocation")}},3392:(u,P,t)=>{var s=t(2032),i=String,l=TypeError;u.exports=function(a){if(s(a))return a;throw new l(i(a)+" is not an object")}},5572:(u,P,t)=>{var s=t(9264),i=t(5648),l=t(9834),a=function(f){return function(p,h,g){var E=s(p),S=l(E);if(0===S)return!f&&-1;var O,y=i(g,S);if(f&&h!=h){for(;S>y;)if((O=E[y++])!=O)return!0}else for(;S>y;y++)if((f||y in E)&&E[y]===h)return f||y||0;return!f&&-1}};u.exports={includes:a(!0),indexOf:a(!1)}},7918:(u,P,t)=>{var s=t(8295);u.exports=function(i,l){var a=[][i];return!!a&&s(function(){a.call(null,l||function(){return 1},1)})}},7725:(u,P,t)=>{var s=t(5406);u.exports=s([].slice)},5200:(u,P,t)=>{var s=t(7725),i=Math.floor,l=function(a,f){var p=a.length;if(p<8)for(var g,E,h=1;h<p;){for(E=h,g=a[h];E&&f(a[E-1],g)>0;)a[E]=a[--E];E!==h++&&(a[E]=g)}else for(var S=i(p/2),y=l(s(a,0,S),f),O=l(s(a,S),f),x=y.length,A=O.length,I=0,C=0;I<x||C<A;)a[I+C]=I<x&&C<A?f(y[I],O[C])<=0?y[I++]:O[C++]:I<x?y[I++]:O[C++];return a};u.exports=l},5710:(u,P,t)=>{var i=t(8483)("iterator"),l=!1;try{var a=0,f={next:function(){return{done:!!a++}},return:function(){l=!0}};f[i]=function(){return this},Array.from(f,function(){throw 2})}catch{}u.exports=function(p,h){try{if(!h&&!l)return!1}catch{return!1}var g=!1;try{var E={};E[i]=function(){return{next:function(){return{done:g=!0}}}},p(E)}catch{}return g}},9214:(u,P,t)=>{var s=t(5406),i=s({}.toString),l=s("".slice);u.exports=function(a){return l(i(a),8,-1)}},9034:(u,P,t)=>{var s=t(8899),i=t(5304),l=t(9214),f=t(8483)("toStringTag"),p=Object,h="Arguments"===l(function(){return arguments}());u.exports=s?l:function(E){var S,y,O;return void 0===E?"Undefined":null===E?"Null":"string"==typeof(y=function(E,S){try{return E[S]}catch{}}(S=p(E),f))?y:h?l(S):"Object"===(O=l(S))&&i(S.callee)?"Arguments":O}},5705:(u,P,t)=>{var s=t(9368),i=t(1842),l=t(4634),a=t(5330);u.exports=function(f,p,h){for(var g=i(p),E=a.f,S=l.f,y=0;y<g.length;y++){var O=g[y];!s(f,O)&&(!h||!s(h,O))&&E(f,O,S(p,O))}}},4765:(u,P,t)=>{var i=t(8483)("match");u.exports=function(l){var a=/./;try{"/./"[l](a)}catch{try{return a[i]=!1,"/./"[l](a)}catch{}}return!1}},5104:(u,P,t)=>{var s=t(8295);u.exports=!s(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},1494:u=>{u.exports=function(P,t){return{value:P,done:t}}},2950:(u,P,t)=>{var s=t(2252),i=t(5330),l=t(9319);u.exports=s?function(a,f,p){return i.f(a,f,l(1,p))}:function(a,f,p){return a[f]=p,a}},9319:u=>{u.exports=function(P,t){return{enumerable:!(1&P),configurable:!(2&P),writable:!(4&P),value:t}}},6362:(u,P,t)=>{var s=t(5704),i=t(5330);u.exports=function(l,a,f){return f.get&&s(f.get,a,{getter:!0}),f.set&&s(f.set,a,{setter:!0}),i.f(l,a,f)}},5612:(u,P,t)=>{var s=t(5304),i=t(5330),l=t(5704),a=t(8566);u.exports=function(f,p,h,g){g||(g={});var E=g.enumerable,S=void 0!==g.name?g.name:p;if(s(h)&&l(h,S,g),g.global)E?f[p]=h:a(p,h);else{try{g.unsafe?f[p]&&(E=!0):delete f[p]}catch{}E?f[p]=h:i.f(f,p,{value:h,enumerable:!1,configurable:!g.nonConfigurable,writable:!g.nonWritable})}return f}},8566:(u,P,t)=>{var s=t(11),i=Object.defineProperty;u.exports=function(l,a){try{i(s,l,{value:a,configurable:!0,writable:!0})}catch{s[l]=a}return a}},8590:(u,P,t)=>{var s=t(409),i=TypeError;u.exports=function(l,a){if(!delete l[a])throw new i("Cannot delete property "+s(a)+" of "+s(l))}},2252:(u,P,t)=>{var s=t(8295);u.exports=!s(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},3369:(u,P,t)=>{var s=t(11),i=t(2032),l=s.document,a=i(l)&&i(l.createElement);u.exports=function(f){return a?l.createElement(f):{}}},1460:u=>{u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},6553:(u,P,t)=>{var i=t(3369)("span").classList,l=i&&i.constructor&&i.constructor.prototype;u.exports=l===Object.prototype?void 0:l},5444:(u,P,t)=>{var i=t(1170).match(/firefox\/(\d+)/i);u.exports=!!i&&+i[1]},6262:(u,P,t)=>{var s=t(6908),i=t(9061);u.exports=!s&&!i&&"object"==typeof window&&"object"==typeof document},6908:u=>{u.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},4973:(u,P,t)=>{var s=t(1170);u.exports=/MSIE|Trident/.test(s)},7960:(u,P,t)=>{var s=t(1170);u.exports=/ipad|iphone|ipod/i.test(s)&&typeof Pebble<"u"},6456:(u,P,t)=>{var s=t(1170);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},9061:(u,P,t)=>{var s=t(11),i=t(9214);u.exports="process"===i(s.process)},4884:(u,P,t)=>{var s=t(1170);u.exports=/web0s(?!.*chrome)/i.test(s)},1170:u=>{u.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},1737:(u,P,t)=>{var h,g,s=t(11),i=t(1170),l=s.process,a=s.Deno,f=l&&l.versions||a&&a.version,p=f&&f.v8;p&&(g=(h=p.split("."))[0]>0&&h[0]<4?1:+(h[0]+h[1])),!g&&i&&(!(h=i.match(/Edge\/(\d+)/))||h[1]>=74)&&(h=i.match(/Chrome\/(\d+)/))&&(g=+h[1]),u.exports=g},8760:(u,P,t)=>{var i=t(1170).match(/AppleWebKit\/(\d+)\./);u.exports=!!i&&+i[1]},5523:u=>{u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2340:(u,P,t)=>{var s=t(11),i=t(4634).f,l=t(2950),a=t(5612),f=t(8566),p=t(5705),h=t(2040);u.exports=function(g,E){var A,I,C,G,M,S=g.target,y=g.global,O=g.stat;if(A=y?s:O?s[S]||f(S,{}):s[S]&&s[S].prototype)for(I in E){if(G=E[I],C=g.dontCallGetSet?(M=i(A,I))&&M.value:A[I],!h(y?I:S+(O?".":"#")+I,g.forced)&&void 0!==C){if(typeof G==typeof C)continue;p(G,C)}(g.sham||C&&C.sham)&&l(G,"sham",!0),a(A,I,G,g)}}},8295:u=>{u.exports=function(P){try{return!!P()}catch{return!0}}},559:(u,P,t)=>{t(7436);var s=t(3656),i=t(5612),l=t(6936),a=t(8295),f=t(8483),p=t(2950),h=f("species"),g=RegExp.prototype;u.exports=function(E,S,y,O){var x=f(E),A=!a(function(){var M={};return M[x]=function(){return 7},7!==""[E](M)}),I=A&&!a(function(){var M=!1,b=/a/;return"split"===E&&((b={}).constructor={},b.constructor[h]=function(){return b},b.flags="",b[x]=/./[x]),b.exec=function(){return M=!0,null},b[x](""),!M});if(!A||!I||y){var C=/./[x],G=S(x,""[E],function(M,b,w,F,j){var K=b.exec;return K===l||K===g.exec?A&&!j?{done:!0,value:s(C,b,w,F)}:{done:!0,value:s(M,w,b,F)}:{done:!1}});i(String.prototype,E,G[0]),i(g,x,G[1])}O&&p(g[x],"sham",!0)}},8326:(u,P,t)=>{var s=t(9165),i=Function.prototype,l=i.apply,a=i.call;u.exports="object"==typeof Reflect&&Reflect.apply||(s?a.bind(l):function(){return a.apply(l,arguments)})},2602:(u,P,t)=>{var s=t(6767),i=t(2411),l=t(9165),a=s(s.bind);u.exports=function(f,p){return i(f),void 0===p?f:l?a(f,p):function(){return f.apply(p,arguments)}}},9165:(u,P,t)=>{var s=t(8295);u.exports=!s(function(){var i=function(){}.bind();return"function"!=typeof i||i.hasOwnProperty("prototype")})},3656:(u,P,t)=>{var s=t(9165),i=Function.prototype.call;u.exports=s?i.bind(i):function(){return i.apply(i,arguments)}},5466:(u,P,t)=>{var s=t(2252),i=t(9368),l=Function.prototype,a=s&&Object.getOwnPropertyDescriptor,f=i(l,"name"),p=f&&"something"===function(){}.name,h=f&&(!s||s&&a(l,"name").configurable);u.exports={EXISTS:f,PROPER:p,CONFIGURABLE:h}},4997:(u,P,t)=>{var s=t(5406),i=t(2411);u.exports=function(l,a,f){try{return s(i(Object.getOwnPropertyDescriptor(l,a)[f]))}catch{}}},6767:(u,P,t)=>{var s=t(9214),i=t(5406);u.exports=function(l){if("Function"===s(l))return i(l)}},5406:(u,P,t)=>{var s=t(9165),i=Function.prototype,l=i.call,a=s&&i.bind.bind(l,l);u.exports=s?a:function(f){return function(){return l.apply(f,arguments)}}},3028:(u,P,t)=>{var s=t(11),i=t(5304),l=function(a){return i(a)?a:void 0};u.exports=function(a,f){return arguments.length<2?l(s[a]):s[a]&&s[a][f]}},3372:(u,P,t)=>{var s=t(9034),i=t(2390),l=t(5546),a=t(8629),p=t(8483)("iterator");u.exports=function(h){if(!l(h))return i(h,p)||i(h,"@@iterator")||a[s(h)]}},2538:(u,P,t)=>{var s=t(3656),i=t(2411),l=t(3392),a=t(409),f=t(3372),p=TypeError;u.exports=function(h,g){var E=arguments.length<2?f(h):g;if(i(E))return l(s(E,h));throw new p(a(h)+" is not iterable")}},2390:(u,P,t)=>{var s=t(2411),i=t(5546);u.exports=function(l,a){var f=l[a];return i(f)?void 0:s(f)}},6190:(u,P,t)=>{var s=t(5406),i=t(1222),l=Math.floor,a=s("".charAt),f=s("".replace),p=s("".slice),h=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,g=/\$([$&'`]|\d{1,2})/g;u.exports=function(E,S,y,O,x,A){var I=y+E.length,C=O.length,G=g;return void 0!==x&&(x=i(x),G=h),f(A,G,function(M,b){var w;switch(a(b,0)){case"$":return"$";case"&":return E;case"`":return p(S,0,y);case"'":return p(S,I);case"<":w=x[p(b,1,-1)];break;default:var F=+b;if(0===F)return M;if(F>C){var j=l(F/10);return 0===j?M:j<=C?void 0===O[j-1]?a(b,1):O[j-1]+a(b,1):M}w=O[F-1]}return void 0===w?"":w})}},11:function(u){var P=function(t){return t&&t.Math===Math&&t};u.exports=P("object"==typeof globalThis&&globalThis)||P("object"==typeof window&&window)||P("object"==typeof self&&self)||P("object"==typeof global&&global)||P("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9368:(u,P,t)=>{var s=t(5406),i=t(1222),l=s({}.hasOwnProperty);u.exports=Object.hasOwn||function(f,p){return l(i(f),p)}},4108:u=>{u.exports={}},3917:u=>{u.exports=function(P,t){try{1===arguments.length?console.error(P):console.error(P,t)}catch{}}},3436:(u,P,t)=>{var s=t(3028);u.exports=s("document","documentElement")},8212:(u,P,t)=>{var s=t(2252),i=t(8295),l=t(3369);u.exports=!s&&!i(function(){return 7!==Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a})},8939:(u,P,t)=>{var s=t(5406),i=t(8295),l=t(9214),a=Object,f=s("".split);u.exports=i(function(){return!a("z").propertyIsEnumerable(0)})?function(p){return"String"===l(p)?f(p,""):a(p)}:a},3591:(u,P,t)=>{var s=t(5406),i=t(5304),l=t(3681),a=s(Function.toString);i(l.inspectSource)||(l.inspectSource=function(f){return a(f)}),u.exports=l.inspectSource},7447:(u,P,t)=>{var O,x,A,s=t(8106),i=t(11),l=t(2032),a=t(2950),f=t(9368),p=t(3681),h=t(5697),g=t(4108),E="Object already initialized",S=i.TypeError;if(s||p.state){var G=p.state||(p.state=new(0,i.WeakMap));G.get=G.get,G.has=G.has,G.set=G.set,O=function(b,w){if(G.has(b))throw new S(E);return w.facade=b,G.set(b,w),w},x=function(b){return G.get(b)||{}},A=function(b){return G.has(b)}}else{var M=h("state");g[M]=!0,O=function(b,w){if(f(b,M))throw new S(E);return w.facade=b,a(b,M,w),w},x=function(b){return f(b,M)?b[M]:{}},A=function(b){return f(b,M)}}u.exports={set:O,get:x,has:A,enforce:function(b){return A(b)?x(b):O(b,{})},getterFor:function(b){return function(w){var F;if(!l(w)||(F=x(w)).type!==b)throw new S("Incompatible receiver, "+b+" required");return F}}}},6077:(u,P,t)=>{var s=t(8483),i=t(8629),l=s("iterator"),a=Array.prototype;u.exports=function(f){return void 0!==f&&(i.Array===f||a[l]===f)}},5304:u=>{var P="object"==typeof document&&document.all;u.exports=typeof P>"u"&&void 0!==P?function(t){return"function"==typeof t||t===P}:function(t){return"function"==typeof t}},106:(u,P,t)=>{var s=t(5406),i=t(8295),l=t(5304),a=t(9034),f=t(3028),p=t(3591),h=function(){},g=f("Reflect","construct"),E=/^\s*(?:class|function)\b/,S=s(E.exec),y=!E.test(h),O=function(I){if(!l(I))return!1;try{return g(h,[],I),!0}catch{return!1}},x=function(I){if(!l(I))return!1;switch(a(I)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return y||!!S(E,p(I))}catch{return!0}};x.sham=!0,u.exports=!g||i(function(){var A;return O(O.call)||!O(Object)||!O(function(){A=!0})||A})?x:O},2040:(u,P,t)=>{var s=t(8295),i=t(5304),l=/#|\.prototype\./,a=function(E,S){var y=p[f(E)];return y===g||y!==h&&(i(S)?s(S):!!S)},f=a.normalize=function(E){return String(E).replace(l,".").toLowerCase()},p=a.data={},h=a.NATIVE="N",g=a.POLYFILL="P";u.exports=a},5546:u=>{u.exports=function(P){return null==P}},2032:(u,P,t)=>{var s=t(5304);u.exports=function(i){return"object"==typeof i?null!==i:s(i)}},4842:(u,P,t)=>{var s=t(2032);u.exports=function(i){return s(i)||null===i}},6554:u=>{u.exports=!1},538:(u,P,t)=>{var s=t(2032),i=t(9214),a=t(8483)("match");u.exports=function(f){var p;return s(f)&&(void 0!==(p=f[a])?!!p:"RegExp"===i(f))}},3709:(u,P,t)=>{var s=t(3028),i=t(5304),l=t(4345),a=t(5272),f=Object;u.exports=a?function(p){return"symbol"==typeof p}:function(p){var h=s("Symbol");return i(h)&&l(h.prototype,f(p))}},6391:(u,P,t)=>{var s=t(2602),i=t(3656),l=t(3392),a=t(409),f=t(6077),p=t(9834),h=t(4345),g=t(2538),E=t(3372),S=t(4042),y=TypeError,O=function(A,I){this.stopped=A,this.result=I},x=O.prototype;u.exports=function(A,I,C){var K,B,J,W,k,Z,ie,M=!(!C||!C.AS_ENTRIES),b=!(!C||!C.IS_RECORD),w=!(!C||!C.IS_ITERATOR),F=!(!C||!C.INTERRUPTED),j=s(I,C&&C.that),Q=function(Y){return K&&S(K,"normal",Y),new O(!0,Y)},$=function(Y){return M?(l(Y),F?j(Y[0],Y[1],Q):j(Y[0],Y[1])):F?j(Y,Q):j(Y)};if(b)K=A.iterator;else if(w)K=A;else{if(!(B=E(A)))throw new y(a(A)+" is not iterable");if(f(B)){for(J=0,W=p(A);W>J;J++)if((k=$(A[J]))&&h(x,k))return k;return new O(!1)}K=g(A,B)}for(Z=b?A.next:K.next;!(ie=i(Z,K)).done;){try{k=$(ie.value)}catch(Y){S(K,"throw",Y)}if("object"==typeof k&&k&&h(x,k))return k}return new O(!1)}},4042:(u,P,t)=>{var s=t(3656),i=t(3392),l=t(2390);u.exports=function(a,f,p){var h,g;i(a);try{if(!(h=l(a,"return"))){if("throw"===f)throw p;return p}h=s(h,a)}catch(E){g=!0,h=E}if("throw"===f)throw p;if(g)throw h;return i(h),p}},4081:(u,P,t)=>{var s=t(9598).IteratorPrototype,i=t(635),l=t(9319),a=t(2420),f=t(8629),p=function(){return this};u.exports=function(h,g,E,S){var y=g+" Iterator";return h.prototype=i(s,{next:l(+!S,E)}),a(h,y,!1,!0),f[y]=p,h}},1273:(u,P,t)=>{var s=t(2340),i=t(3656),l=t(6554),a=t(5466),f=t(5304),p=t(4081),h=t(1721),g=t(8163),E=t(2420),S=t(2950),y=t(5612),O=t(8483),x=t(8629),A=t(9598),I=a.PROPER,C=a.CONFIGURABLE,G=A.IteratorPrototype,M=A.BUGGY_SAFARI_ITERATORS,b=O("iterator"),w="keys",F="values",j="entries",K=function(){return this};u.exports=function(B,J,W,k,Z,ie,Q){p(W,J,k);var ue,Ee,de,$=function(ge){if(ge===Z&&se)return se;if(!M&&ge&&ge in X)return X[ge];switch(ge){case w:case F:case j:return function(){return new W(this,ge)}}return function(){return new W(this)}},Y=J+" Iterator",Se=!1,X=B.prototype,oe=X[b]||X["@@iterator"]||Z&&X[Z],se=!M&&oe||$(Z),ce="Array"===J&&X.entries||oe;if(ce&&(ue=h(ce.call(new B)))!==Object.prototype&&ue.next&&(!l&&h(ue)!==G&&(g?g(ue,G):f(ue[b])||y(ue,b,K)),E(ue,Y,!0,!0),l&&(x[Y]=K)),I&&Z===F&&oe&&oe.name!==F&&(!l&&C?S(X,"name",F):(Se=!0,se=function(){return i(oe,this)})),Z)if(Ee={values:$(F),keys:ie?se:$(w),entries:$(j)},Q)for(de in Ee)(M||Se||!(de in X))&&y(X,de,Ee[de]);else s({target:J,proto:!0,forced:M||Se},Ee);return(!l||Q)&&X[b]!==se&&y(X,b,se,{name:Z}),x[J]=se,Ee}},9598:(u,P,t)=>{var y,O,x,s=t(8295),i=t(5304),l=t(2032),a=t(635),f=t(1721),p=t(5612),h=t(8483),g=t(6554),E=h("iterator"),S=!1;[].keys&&("next"in(x=[].keys())?(O=f(f(x)))!==Object.prototype&&(y=O):S=!0),!l(y)||s(function(){var I={};return y[E].call(I)!==I})?y={}:g&&(y=a(y)),i(y[E])||p(y,E,function(){return this}),u.exports={IteratorPrototype:y,BUGGY_SAFARI_ITERATORS:S}},8629:u=>{u.exports={}},9834:(u,P,t)=>{var s=t(3624);u.exports=function(i){return s(i.length)}},5704:(u,P,t)=>{var s=t(5406),i=t(8295),l=t(5304),a=t(9368),f=t(2252),p=t(5466).CONFIGURABLE,h=t(3591),g=t(7447),E=g.enforce,S=g.get,y=String,O=Object.defineProperty,x=s("".slice),A=s("".replace),I=s([].join),C=f&&!i(function(){return 8!==O(function(){},"length",{value:8}).length}),G=String(String).split("String"),M=u.exports=function(b,w,F){"Symbol("===x(y(w),0,7)&&(w="["+A(y(w),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),F&&F.getter&&(w="get "+w),F&&F.setter&&(w="set "+w),(!a(b,"name")||p&&b.name!==w)&&(f?O(b,"name",{value:w,configurable:!0}):b.name=w),C&&F&&a(F,"arity")&&b.length!==F.arity&&O(b,"length",{value:F.arity});try{F&&a(F,"constructor")&&F.constructor?f&&O(b,"prototype",{writable:!1}):b.prototype&&(b.prototype=void 0)}catch{}var j=E(b);return a(j,"source")||(j.source=I(G,"string"==typeof w?w:"")),b};Function.prototype.toString=M(function(){return l(this)&&S(this).source||h(this)},"toString")},712:u=>{var P=Math.ceil,t=Math.floor;u.exports=Math.trunc||function(i){var l=+i;return(l>0?t:P)(l)}},3281:(u,P,t)=>{var I,C,G,M,b,s=t(11),i=t(7797),l=t(2602),a=t(8834).set,f=t(15),p=t(6456),h=t(7960),g=t(4884),E=t(9061),S=s.MutationObserver||s.WebKitMutationObserver,y=s.document,O=s.process,x=s.Promise,A=i("queueMicrotask");if(!A){var w=new f,F=function(){var j,K;for(E&&(j=O.domain)&&j.exit();K=w.get();)try{K()}catch(B){throw w.head&&I(),B}j&&j.enter()};p||E||g||!S||!y?!h&&x&&x.resolve?((M=x.resolve(void 0)).constructor=x,b=l(M.then,M),I=function(){b(F)}):E?I=function(){O.nextTick(F)}:(a=l(a,s),I=function(){a(F)}):(C=!0,G=y.createTextNode(""),new S(F).observe(G,{characterData:!0}),I=function(){G.data=C=!C}),A=function(j){w.head||I(),w.add(j)}}u.exports=A},2361:(u,P,t)=>{var s=t(2411),i=TypeError,l=function(a){var f,p;this.promise=new a(function(h,g){if(void 0!==f||void 0!==p)throw new i("Bad Promise constructor");f=h,p=g}),this.resolve=s(f),this.reject=s(p)};u.exports.f=function(a){return new l(a)}},632:(u,P,t)=>{var s=t(538),i=TypeError;u.exports=function(l){if(s(l))throw new i("The method doesn't accept regular expressions");return l}},635:(u,P,t)=>{var G,s=t(3392),i=t(6480),l=t(5523),a=t(4108),f=t(3436),p=t(3369),h=t(5697),S="prototype",y="script",O=h("IE_PROTO"),x=function(){},A=function(b){return"<"+y+">"+b+"</"+y+">"},I=function(b){b.write(A("")),b.close();var w=b.parentWindow.Object;return b=null,w},M=function(){try{G=new ActiveXObject("htmlfile")}catch{}M=typeof document<"u"?document.domain&&G?I(G):function(){var F,b=p("iframe"),w="java"+y+":";return b.style.display="none",f.appendChild(b),b.src=String(w),(F=b.contentWindow.document).open(),F.write(A("document.F=Object")),F.close(),F.F}():I(G);for(var b=l.length;b--;)delete M[S][l[b]];return M()};a[O]=!0,u.exports=Object.create||function(w,F){var j;return null!==w?(x[S]=s(w),j=new x,x[S]=null,j[O]=w):j=M(),void 0===F?j:i.f(j,F)}},6480:(u,P,t)=>{var s=t(2252),i=t(6263),l=t(5330),a=t(3392),f=t(9264),p=t(9042);P.f=s&&!i?Object.defineProperties:function(g,E){a(g);for(var A,S=f(E),y=p(E),O=y.length,x=0;O>x;)l.f(g,A=y[x++],S[A]);return g}},5330:(u,P,t)=>{var s=t(2252),i=t(8212),l=t(6263),a=t(3392),f=t(1420),p=TypeError,h=Object.defineProperty,g=Object.getOwnPropertyDescriptor,E="enumerable",S="configurable",y="writable";P.f=s?l?function(x,A,I){if(a(x),A=f(A),a(I),"function"==typeof x&&"prototype"===A&&"value"in I&&y in I&&!I[y]){var C=g(x,A);C&&C[y]&&(x[A]=I.value,I={configurable:S in I?I[S]:C[S],enumerable:E in I?I[E]:C[E],writable:!1})}return h(x,A,I)}:h:function(x,A,I){if(a(x),A=f(A),a(I),i)try{return h(x,A,I)}catch{}if("get"in I||"set"in I)throw new p("Accessors not supported");return"value"in I&&(x[A]=I.value),x}},4634:(u,P,t)=>{var s=t(2252),i=t(3656),l=t(5691),a=t(9319),f=t(9264),p=t(1420),h=t(9368),g=t(8212),E=Object.getOwnPropertyDescriptor;P.f=s?E:function(y,O){if(y=f(y),O=p(O),g)try{return E(y,O)}catch{}if(h(y,O))return a(!i(l.f,y,O),y[O])}},8901:(u,P,t)=>{var s=t(8138),l=t(5523).concat("length","prototype");P.f=Object.getOwnPropertyNames||function(f){return s(f,l)}},7133:(u,P)=>{P.f=Object.getOwnPropertySymbols},1721:(u,P,t)=>{var s=t(9368),i=t(5304),l=t(1222),a=t(5697),f=t(5104),p=a("IE_PROTO"),h=Object,g=h.prototype;u.exports=f?h.getPrototypeOf:function(E){var S=l(E);if(s(S,p))return S[p];var y=S.constructor;return i(y)&&S instanceof y?y.prototype:S instanceof h?g:null}},4345:(u,P,t)=>{var s=t(5406);u.exports=s({}.isPrototypeOf)},8138:(u,P,t)=>{var s=t(5406),i=t(9368),l=t(9264),a=t(5572).indexOf,f=t(4108),p=s([].push);u.exports=function(h,g){var O,E=l(h),S=0,y=[];for(O in E)!i(f,O)&&i(E,O)&&p(y,O);for(;g.length>S;)i(E,O=g[S++])&&(~a(y,O)||p(y,O));return y}},9042:(u,P,t)=>{var s=t(8138),i=t(5523);u.exports=Object.keys||function(a){return s(a,i)}},5691:(u,P)=>{var t={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,i=s&&!t.call({1:2},1);P.f=i?function(a){var f=s(this,a);return!!f&&f.enumerable}:t},8163:(u,P,t)=>{var s=t(4997),i=t(2032),l=t(3729),a=t(9497);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var h,f=!1,p={};try{(h=s(Object.prototype,"__proto__","set"))(p,[]),f=p instanceof Array}catch{}return function(E,S){return l(E),a(S),i(E)&&(f?h(E,S):E.__proto__=S),E}}():void 0)},576:(u,P,t)=>{var s=t(3656),i=t(5304),l=t(2032),a=TypeError;u.exports=function(f,p){var h,g;if("string"===p&&i(h=f.toString)&&!l(g=s(h,f))||i(h=f.valueOf)&&!l(g=s(h,f))||"string"!==p&&i(h=f.toString)&&!l(g=s(h,f)))return g;throw new a("Can't convert object to primitive value")}},1842:(u,P,t)=>{var s=t(3028),i=t(5406),l=t(8901),a=t(7133),f=t(3392),p=i([].concat);u.exports=s("Reflect","ownKeys")||function(g){var E=l.f(f(g)),S=a.f;return S?p(E,S(g)):E}},9581:u=>{u.exports=function(P){try{return{error:!1,value:P()}}catch(t){return{error:!0,value:t}}}},628:(u,P,t)=>{var s=t(11),i=t(9523),l=t(5304),a=t(2040),f=t(3591),p=t(8483),h=t(6262),g=t(6908),E=t(6554),S=t(1737),y=i&&i.prototype,O=p("species"),x=!1,A=l(s.PromiseRejectionEvent),I=a("Promise",function(){var C=f(i),G=C!==String(i);if(!G&&66===S||E&&(!y.catch||!y.finally))return!0;if(!S||S<51||!/native code/.test(C)){var M=new i(function(F){F(1)}),b=function(F){F(function(){},function(){})};if((M.constructor={})[O]=b,!(x=M.then(function(){})instanceof b))return!0}return!G&&(h||g)&&!A});u.exports={CONSTRUCTOR:I,REJECTION_EVENT:A,SUBCLASSING:x}},9523:(u,P,t)=>{var s=t(11);u.exports=s.Promise},3957:(u,P,t)=>{var s=t(3392),i=t(2032),l=t(2361);u.exports=function(a,f){if(s(a),i(f)&&f.constructor===a)return f;var p=l.f(a);return(0,p.resolve)(f),p.promise}},8491:(u,P,t)=>{var s=t(9523),i=t(5710),l=t(628).CONSTRUCTOR;u.exports=l||!i(function(a){s.all(a).then(void 0,function(){})})},15:u=>{var P=function(){this.head=null,this.tail=null};P.prototype={add:function(t){var s={item:t,next:null},i=this.tail;i?i.next=s:this.head=s,this.tail=s},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},u.exports=P},2215:(u,P,t)=>{var s=t(3656),i=t(3392),l=t(5304),a=t(9214),f=t(6936),p=TypeError;u.exports=function(h,g){var E=h.exec;if(l(E)){var S=s(E,h,g);return null!==S&&i(S),S}if("RegExp"===a(h))return s(f,h,g);throw new p("RegExp#exec called on incompatible receiver")}},6936:(u,P,t)=>{var j,K,s=t(3656),i=t(5406),l=t(5155),a=t(1933),f=t(4102),p=t(5386),h=t(635),g=t(7447).get,E=t(398),S=t(4922),y=p("native-string-replace",String.prototype.replace),O=RegExp.prototype.exec,x=O,A=i("".charAt),I=i("".indexOf),C=i("".replace),G=i("".slice),M=(K=/b*/g,s(O,j=/a/,"a"),s(O,K,"a"),0!==j.lastIndex||0!==K.lastIndex),b=f.BROKEN_CARET,w=void 0!==/()??/.exec("")[1];(M||w||b||E||S)&&(x=function(K){var Z,ie,Q,$,Y,Se,X,B=this,J=g(B),W=l(K),k=J.raw;if(k)return k.lastIndex=B.lastIndex,Z=s(x,k,W),B.lastIndex=k.lastIndex,Z;var oe=J.groups,se=b&&B.sticky,ce=s(a,B),ue=B.source,Ee=0,de=W;if(se&&(ce=C(ce,"y",""),-1===I(ce,"g")&&(ce+="g"),de=G(W,B.lastIndex),B.lastIndex>0&&(!B.multiline||B.multiline&&"\n"!==A(W,B.lastIndex-1))&&(ue="(?: "+ue+")",de=" "+de,Ee++),ie=new RegExp("^(?:"+ue+")",ce)),w&&(ie=new RegExp("^"+ue+"$(?!\\s)",ce)),M&&(Q=B.lastIndex),$=s(O,se?ie:B,de),se?$?($.input=G($.input,Ee),$[0]=G($[0],Ee),$.index=B.lastIndex,B.lastIndex+=$[0].length):B.lastIndex=0:M&&$&&(B.lastIndex=B.global?$.index+$[0].length:Q),w&&$&&$.length>1&&s(y,$[0],ie,function(){for(Y=1;Y<arguments.length-2;Y++)void 0===arguments[Y]&&($[Y]=void 0)}),$&&oe)for($.groups=Se=h(null),Y=0;Y<oe.length;Y++)Se[(X=oe[Y])[0]]=$[X[1]];return $}),u.exports=x},1933:(u,P,t)=>{var s=t(3392);u.exports=function(){var i=s(this),l="";return i.hasIndices&&(l+="d"),i.global&&(l+="g"),i.ignoreCase&&(l+="i"),i.multiline&&(l+="m"),i.dotAll&&(l+="s"),i.unicode&&(l+="u"),i.unicodeSets&&(l+="v"),i.sticky&&(l+="y"),l}},4102:(u,P,t)=>{var s=t(8295),l=t(11).RegExp,a=s(function(){var h=l("a","y");return h.lastIndex=2,null!==h.exec("abcd")}),f=a||s(function(){return!l("a","y").sticky}),p=a||s(function(){var h=l("^r","gy");return h.lastIndex=2,null!==h.exec("str")});u.exports={BROKEN_CARET:p,MISSED_STICKY:f,UNSUPPORTED_Y:a}},398:(u,P,t)=>{var s=t(8295),l=t(11).RegExp;u.exports=s(function(){var a=l(".","s");return!(a.dotAll&&a.test("\n")&&"s"===a.flags)})},4922:(u,P,t)=>{var s=t(8295),l=t(11).RegExp;u.exports=s(function(){var a=l("(?<a>b)","g");return"b"!==a.exec("b").groups.a||"bc"!=="b".replace(a,"$<a>c")})},3729:(u,P,t)=>{var s=t(5546),i=TypeError;u.exports=function(l){if(s(l))throw new i("Can't call method on "+l);return l}},7797:(u,P,t)=>{var s=t(11),i=t(2252),l=Object.getOwnPropertyDescriptor;u.exports=function(a){if(!i)return s[a];var f=l(s,a);return f&&f.value}},2195:(u,P,t)=>{var s=t(3028),i=t(6362),l=t(8483),a=t(2252),f=l("species");u.exports=function(p){var h=s(p);a&&h&&!h[f]&&i(h,f,{configurable:!0,get:function(){return this}})}},2420:(u,P,t)=>{var s=t(5330).f,i=t(9368),a=t(8483)("toStringTag");u.exports=function(f,p,h){f&&!h&&(f=f.prototype),f&&!i(f,a)&&s(f,a,{configurable:!0,value:p})}},5697:(u,P,t)=>{var s=t(5386),i=t(5554),l=s("keys");u.exports=function(a){return l[a]||(l[a]=i(a))}},3681:(u,P,t)=>{var s=t(6554),i=t(11),l=t(8566),a="__core-js_shared__",f=u.exports=i[a]||l(a,{});(f.versions||(f.versions=[])).push({version:"3.37.0",mode:s?"pure":"global",copyright:"\xa9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5386:(u,P,t)=>{var s=t(3681);u.exports=function(i,l){return s[i]||(s[i]=l||{})}},7385:(u,P,t)=>{var s=t(3392),i=t(86),l=t(5546),f=t(8483)("species");u.exports=function(p,h){var E,g=s(p).constructor;return void 0===g||l(E=s(g)[f])?h:i(E)}},587:(u,P,t)=>{var s=t(5406),i=t(6929),l=t(5155),a=t(3729),f=s("".charAt),p=s("".charCodeAt),h=s("".slice),g=function(E){return function(S,y){var I,C,O=l(a(S)),x=i(y),A=O.length;return x<0||x>=A?E?"":void 0:(I=p(O,x))<55296||I>56319||x+1===A||(C=p(O,x+1))<56320||C>57343?E?f(O,x):I:E?h(O,x,x+2):C-56320+(I-55296<<10)+65536}};u.exports={codeAt:g(!1),charAt:g(!0)}},3272:(u,P,t)=>{var s=t(1737),i=t(8295),a=t(11).String;u.exports=!!Object.getOwnPropertySymbols&&!i(function(){var f=Symbol("symbol detection");return!a(f)||!(Object(f)instanceof Symbol)||!Symbol.sham&&s&&s<41})},8834:(u,P,t)=>{var K,B,J,W,s=t(11),i=t(8326),l=t(2602),a=t(5304),f=t(9368),p=t(8295),h=t(3436),g=t(7725),E=t(3369),S=t(4764),y=t(6456),O=t(9061),x=s.setImmediate,A=s.clearImmediate,I=s.process,C=s.Dispatch,G=s.Function,M=s.MessageChannel,b=s.String,w=0,F={},j="onreadystatechange";p(function(){K=s.location});var k=function($){if(f(F,$)){var Y=F[$];delete F[$],Y()}},Z=function($){return function(){k($)}},ie=function($){k($.data)},Q=function($){s.postMessage(b($),K.protocol+"//"+K.host)};(!x||!A)&&(x=function(Y){S(arguments.length,1);var Se=a(Y)?Y:G(Y),X=g(arguments,1);return F[++w]=function(){i(Se,void 0,X)},B(w),w},A=function(Y){delete F[Y]},O?B=function($){I.nextTick(Z($))}:C&&C.now?B=function($){C.now(Z($))}:M&&!y?(W=(J=new M).port2,J.port1.onmessage=ie,B=l(W.postMessage,W)):s.addEventListener&&a(s.postMessage)&&!s.importScripts&&K&&"file:"!==K.protocol&&!p(Q)?(B=Q,s.addEventListener("message",ie,!1)):B=j in E("script")?function($){h.appendChild(E("script"))[j]=function(){h.removeChild(this),k($)}}:function($){setTimeout(Z($),0)}),u.exports={set:x,clear:A}},5648:(u,P,t)=>{var s=t(6929),i=Math.max,l=Math.min;u.exports=function(a,f){var p=s(a);return p<0?i(p+f,0):l(p,f)}},9264:(u,P,t)=>{var s=t(8939),i=t(3729);u.exports=function(l){return s(i(l))}},6929:(u,P,t)=>{var s=t(712);u.exports=function(i){var l=+i;return l!=l||0===l?0:s(l)}},3624:(u,P,t)=>{var s=t(6929),i=Math.min;u.exports=function(l){var a=s(l);return a>0?i(a,9007199254740991):0}},1222:(u,P,t)=>{var s=t(3729),i=Object;u.exports=function(l){return i(s(l))}},4478:(u,P,t)=>{var s=t(3656),i=t(2032),l=t(3709),a=t(2390),f=t(576),p=t(8483),h=TypeError,g=p("toPrimitive");u.exports=function(E,S){if(!i(E)||l(E))return E;var O,y=a(E,g);if(y){if(void 0===S&&(S="default"),O=s(y,E,S),!i(O)||l(O))return O;throw new h("Can't convert object to primitive value")}return void 0===S&&(S="number"),f(E,S)}},1420:(u,P,t)=>{var s=t(4478),i=t(3709);u.exports=function(l){var a=s(l,"string");return i(a)?a:a+""}},8899:(u,P,t)=>{var l={};l[t(8483)("toStringTag")]="z",u.exports="[object z]"===String(l)},5155:(u,P,t)=>{var s=t(9034),i=String;u.exports=function(l){if("Symbol"===s(l))throw new TypeError("Cannot convert a Symbol value to a string");return i(l)}},409:u=>{var P=String;u.exports=function(t){try{return P(t)}catch{return"Object"}}},5554:(u,P,t)=>{var s=t(5406),i=0,l=Math.random(),a=s(1..toString);u.exports=function(f){return"Symbol("+(void 0===f?"":f)+")_"+a(++i+l,36)}},5272:(u,P,t)=>{var s=t(3272);u.exports=s&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6263:(u,P,t)=>{var s=t(2252),i=t(8295);u.exports=s&&i(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},4764:u=>{var P=TypeError;u.exports=function(t,s){if(t<s)throw new P("Not enough arguments");return t}},8106:(u,P,t)=>{var s=t(11),i=t(5304),l=s.WeakMap;u.exports=i(l)&&/native code/.test(String(l))},8483:(u,P,t)=>{var s=t(11),i=t(5386),l=t(9368),a=t(5554),f=t(3272),p=t(5272),h=s.Symbol,g=i("wks"),E=p?h.for||h:h&&h.withoutSetter||a;u.exports=function(S){return l(g,S)||(g[S]=f&&l(h,S)?h[S]:E("Symbol."+S)),g[S]}},5872:(u,P,t)=>{var s=t(2340),i=t(5572).includes,l=t(8295),a=t(2196);s({target:"Array",proto:!0,forced:l(function(){return!Array(1).includes()})},{includes:function(h){return i(this,h,arguments.length>1?arguments[1]:void 0)}}),a("includes")},5628:(u,P,t)=>{var s=t(9264),i=t(2196),l=t(8629),a=t(7447),f=t(5330).f,p=t(1273),h=t(1494),g=t(6554),E=t(2252),S="Array Iterator",y=a.set,O=a.getterFor(S);u.exports=p(Array,"Array",function(A,I){y(this,{type:S,target:s(A),index:0,kind:I})},function(){var A=O(this),I=A.target,C=A.index++;if(!I||C>=I.length)return A.target=void 0,h(void 0,!0);switch(A.kind){case"keys":return h(C,!1);case"values":return h(I[C],!1)}return h([C,I[C]],!1)},"values");var x=l.Arguments=l.Array;if(i("keys"),i("values"),i("entries"),!g&&E&&"values"!==x.name)try{f(x,"name",{value:"values"})}catch{}},9832:(u,P,t)=>{var s=t(2340),i=t(5406),l=t(2411),a=t(1222),f=t(9834),p=t(8590),h=t(5155),g=t(8295),E=t(5200),S=t(7918),y=t(5444),O=t(4973),x=t(1737),A=t(8760),I=[],C=i(I.sort),G=i(I.push),M=g(function(){I.sort(void 0)}),b=g(function(){I.sort(null)}),w=S("sort"),F=!g(function(){if(x)return x<70;if(!(y&&y>3)){if(O)return!0;if(A)return A<603;var J,W,k,Z,B="";for(J=65;J<76;J++){switch(W=String.fromCharCode(J),J){case 66:case 69:case 70:case 72:k=3;break;case 68:case 71:k=4;break;default:k=2}for(Z=0;Z<47;Z++)I.push({k:W+Z,v:k})}for(I.sort(function(ie,Q){return Q.v-ie.v}),Z=0;Z<I.length;Z++)W=I[Z].k.charAt(0),B.charAt(B.length-1)!==W&&(B+=W);return"DGBEFHACIJK"!==B}});s({target:"Array",proto:!0,forced:M||!b||!w||!F},{sort:function(J){void 0!==J&&l(J);var W=a(this);if(F)return void 0===J?C(W):C(W,J);var ie,Q,k=[],Z=f(W);for(Q=0;Q<Z;Q++)Q in W&&G(k,W[Q]);for(E(k,function(B){return function(J,W){return void 0===W?-1:void 0===J?1:void 0!==B?+B(J,W)||0:h(J)>h(W)?1:-1}}(J)),ie=f(k),Q=0;Q<ie;)W[Q]=k[Q++];for(;Q<Z;)p(W,Q++);return W}})},5413:(u,P,t)=>{var s=t(2340),i=t(3656),l=t(2411),a=t(2361),f=t(9581),p=t(6391);s({target:"Promise",stat:!0,forced:t(8491)},{all:function(E){var S=this,y=a.f(S),O=y.resolve,x=y.reject,A=f(function(){var I=l(S.resolve),C=[],G=0,M=1;p(E,function(b){var w=G++,F=!1;M++,i(I,S,b).then(function(j){F||(F=!0,C[w]=j,--M||O(C))},x)}),--M||O(C)});return A.error&&x(A.value),y.promise}})},9076:(u,P,t)=>{var s=t(2340),i=t(6554),l=t(628).CONSTRUCTOR,a=t(9523),f=t(3028),p=t(5304),h=t(5612),g=a&&a.prototype;if(s({target:"Promise",proto:!0,forced:l,real:!0},{catch:function(S){return this.then(void 0,S)}}),!i&&p(a)){var E=f("Promise").prototype.catch;g.catch!==E&&h(g,"catch",E,{unsafe:!0})}},5349:(u,P,t)=>{var Ie,Ge,De,s=t(2340),i=t(6554),l=t(9061),a=t(11),f=t(3656),p=t(5612),h=t(8163),g=t(2420),E=t(2195),S=t(2411),y=t(5304),O=t(2032),x=t(2963),A=t(7385),I=t(8834).set,C=t(3281),G=t(3917),M=t(9581),b=t(15),w=t(7447),F=t(9523),j=t(628),K=t(2361),B="Promise",J=j.CONSTRUCTOR,W=j.REJECTION_EVENT,k=j.SUBCLASSING,Z=w.getterFor(B),ie=w.set,Q=F&&F.prototype,$=F,Y=Q,Se=a.TypeError,X=a.document,oe=a.process,se=K.f,ce=se,ue=!!(X&&X.createEvent&&a.dispatchEvent),Ee="unhandledrejection",xe=function(L){var z;return!(!O(L)||!y(z=L.then))&&z},je=function(L,z){var Fe,Xe,Ze,q=z.value,te=1===z.state,re=te?L.ok:L.fail,Me=L.resolve,Ye=L.reject,be=L.domain;try{re?(te||(2===z.rejection&&ot(z),z.rejection=1),!0===re?Fe=q:(be&&be.enter(),Fe=re(q),be&&(be.exit(),Ze=!0)),Fe===L.promise?Ye(new Se("Promise-chain cycle")):(Xe=xe(Fe))?f(Xe,Fe,Me,Ye):Me(Fe)):Ye(q)}catch(m){be&&!Ze&&be.exit(),Ye(m)}},Be=function(L,z){L.notified||(L.notified=!0,C(function(){for(var te,q=L.reactions;te=q.get();)je(te,L);L.notified=!1,z&&!L.rejection&&we(L)}))},ve=function(L,z,q){var te,re;ue?((te=X.createEvent("Event")).promise=z,te.reason=q,te.initEvent(L,!1,!0),a.dispatchEvent(te)):te={promise:z,reason:q},!W&&(re=a["on"+L])?re(te):L===Ee&&G("Unhandled promise rejection",q)},we=function(L){f(I,a,function(){var re,z=L.facade,q=L.value;if(We(L)&&(re=M(function(){l?oe.emit("unhandledRejection",q,z):ve(Ee,z,q)}),L.rejection=l||We(L)?2:1,re.error))throw re.value})},We=function(L){return 1!==L.rejection&&!L.parent},ot=function(L){f(I,a,function(){var z=L.facade;l?oe.emit("rejectionHandled",z):ve("rejectionhandled",z,L.value)})},_=function(L,z,q){return function(te){L(z,te,q)}},$e=function(L,z,q){L.done||(L.done=!0,q&&(L=q),L.value=z,L.state=2,Be(L,!0))},Qe=function(L,z,q){if(!L.done){L.done=!0,q&&(L=q);try{if(L.facade===z)throw new Se("Promise can't be resolved itself");var te=xe(z);te?C(function(){var re={done:!1};try{f(te,z,_(Qe,re,L),_($e,re,L))}catch(Me){$e(re,Me,L)}}):(L.value=z,L.state=1,Be(L,!1))}catch(re){$e({done:!1},re,L)}}};if(J&&($=function(z){x(this,Y),S(z),f(Ie,this);var q=Z(this);try{z(_(Qe,q),_($e,q))}catch(te){$e(q,te)}},(Ie=function(z){ie(this,{type:B,done:!1,notified:!1,parent:!1,reactions:new b,rejection:!1,state:0,value:void 0})}).prototype=p(Y=$.prototype,"then",function(z,q){var te=Z(this),re=se(A(this,$));return te.parent=!0,re.ok=!y(z)||z,re.fail=y(q)&&q,re.domain=l?oe.domain:void 0,0===te.state?te.reactions.add(re):C(function(){je(re,te)}),re.promise}),Ge=function(){var L=new Ie,z=Z(L);this.promise=L,this.resolve=_(Qe,z),this.reject=_($e,z)},K.f=se=function(L){return L===$||void 0===L?new Ge(L):ce(L)},!i&&y(F)&&Q!==Object.prototype)){De=Q.then,k||p(Q,"then",function(z,q){var te=this;return new $(function(re,Me){f(De,te,re,Me)}).then(z,q)},{unsafe:!0});try{delete Q.constructor}catch{}h&&h(Q,Y)}s({global:!0,constructor:!0,wrap:!0,forced:J},{Promise:$}),g($,B,!1,!0),E(B)},9858:(u,P,t)=>{t(5349),t(5413),t(9076),t(956),t(8869),t(2948)},956:(u,P,t)=>{var s=t(2340),i=t(3656),l=t(2411),a=t(2361),f=t(9581),p=t(6391);s({target:"Promise",stat:!0,forced:t(8491)},{race:function(E){var S=this,y=a.f(S),O=y.reject,x=f(function(){var A=l(S.resolve);p(E,function(I){i(A,S,I).then(y.resolve,O)})});return x.error&&O(x.value),y.promise}})},8869:(u,P,t)=>{var s=t(2340),i=t(2361);s({target:"Promise",stat:!0,forced:t(628).CONSTRUCTOR},{reject:function(f){var p=i.f(this);return(0,p.reject)(f),p.promise}})},2948:(u,P,t)=>{var s=t(2340),i=t(3028),l=t(6554),a=t(9523),f=t(628).CONSTRUCTOR,p=t(3957),h=i("Promise"),g=l&&!f;s({target:"Promise",stat:!0,forced:l||f},{resolve:function(S){return p(g&&this===h?a:this,S)}})},7436:(u,P,t)=>{var s=t(2340),i=t(6936);s({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},6795:(u,P,t)=>{var A,s=t(2340),i=t(6767),l=t(4634).f,a=t(3624),f=t(5155),p=t(632),h=t(3729),g=t(4765),E=t(6554),S=i("".slice),y=Math.min,O=g("endsWith");s({target:"String",proto:!0,forced:!(!E&&!O&&(A=l(String.prototype,"endsWith"),A&&!A.writable)||O)},{endsWith:function(I){var C=f(h(this));p(I);var G=arguments.length>1?arguments[1]:void 0,M=C.length,b=void 0===G?M:y(a(G),M),w=f(I);return S(C,b-w.length,b)===w}})},7075:(u,P,t)=>{var s=t(2340),i=t(5406),l=t(632),a=t(3729),f=t(5155),p=t(4765),h=i("".indexOf);s({target:"String",proto:!0,forced:!p("includes")},{includes:function(E){return!!~h(f(a(this)),f(l(E)),arguments.length>1?arguments[1]:void 0)}})},250:(u,P,t)=>{var s=t(8326),i=t(3656),l=t(5406),a=t(559),f=t(8295),p=t(3392),h=t(5304),g=t(5546),E=t(6929),S=t(3624),y=t(5155),O=t(3729),x=t(8137),A=t(2390),I=t(6190),C=t(2215),M=t(8483)("replace"),b=Math.max,w=Math.min,F=l([].concat),j=l([].push),K=l("".indexOf),B=l("".slice),J=function(ie){return void 0===ie?ie:String(ie)},W="$0"==="a".replace(/./,"$0"),k=!!/./[M]&&""===/./[M]("a","$0");a("replace",function(ie,Q,$){var Y=k?"$":"$0";return[function(X,oe){var se=O(this),ce=g(X)?void 0:A(X,M);return ce?i(ce,X,se,oe):i(Q,y(se),X,oe)},function(Se,X){var oe=p(this),se=y(Se);if("string"==typeof X&&-1===K(X,Y)&&-1===K(X,"$<")){var ce=$(Q,oe,se,X);if(ce.done)return ce.value}var ue=h(X);ue||(X=y(X));var de,Ee=oe.global;Ee&&(de=oe.unicode,oe.lastIndex=0);for(var he,ge=[];null!==(he=C(oe,se))&&(j(ge,he),Ee);)""===y(he[0])&&(oe.lastIndex=x(se,S(oe.lastIndex),de));for(var Ue="",Ce=0,Ie=0;Ie<ge.length;Ie++){for(var xe,Ge=y((he=ge[Ie])[0]),Ne=b(w(E(he.index),se.length),0),De=[],je=1;je<he.length;je++)j(De,J(he[je]));var Be=he.groups;if(ue){var ve=F([Ge],De,Ne,se);void 0!==Be&&j(ve,Be),xe=y(s(X,void 0,ve))}else xe=I(Ge,se,Ne,De,Be,X);Ne>=Ce&&(Ue+=B(se,Ce,Ne)+xe,Ce=Ne+Ge.length)}return Ue+B(se,Ce)}]},!!f(function(){var ie=/./;return ie.exec=function(){var Q=[];return Q.groups={a:"7"},Q},"7"!=="".replace(ie,"$<a>")})||!W||k)},2272:(u,P,t)=>{var A,s=t(2340),i=t(6767),l=t(4634).f,a=t(3624),f=t(5155),p=t(632),h=t(3729),g=t(4765),E=t(6554),S=i("".slice),y=Math.min,O=g("startsWith");s({target:"String",proto:!0,forced:!(!E&&!O&&(A=l(String.prototype,"startsWith"),A&&!A.writable)||O)},{startsWith:function(I){var C=f(h(this));p(I);var G=a(y(arguments.length>1?arguments[1]:void 0,C.length)),M=f(I);return S(C,G,G+M.length)===M}})},2650:(u,P,t)=>{var s=t(2340),i=t(2252),l=t(11),a=t(5406),f=t(9368),p=t(5304),h=t(4345),g=t(5155),E=t(6362),S=t(5705),y=l.Symbol,O=y&&y.prototype;if(i&&p(y)&&(!("description"in O)||void 0!==y().description)){var x={},A=function(){var j=arguments.length<1||void 0===arguments[0]?void 0:g(arguments[0]),K=h(O,this)?new y(j):void 0===j?y():y(j);return""===j&&(x[K]=!0),K};S(A,y),A.prototype=O,O.constructor=A;var I="Symbol(description detection)"===String(y("description detection")),C=a(O.valueOf),G=a(O.toString),M=/^Symbol\((.*)\)[^)]+$/,b=a("".replace),w=a("".slice);E(O,"description",{configurable:!0,get:function(){var j=C(this);if(f(x,j))return"";var K=G(j),B=I?w(K,7,-1):b(K,M,"$1");return""===B?void 0:B}}),s({global:!0,constructor:!0,forced:!0},{Symbol:A})}},8210:(u,P,t)=>{var s=t(11),i=t(1460),l=t(6553),a=t(5628),f=t(2950),p=t(2420),g=t(8483)("iterator"),E=a.values,S=function(O,x){if(O){if(O[g]!==E)try{f(O,g,E)}catch{O[g]=E}if(p(O,x,!0),i[x])for(var A in a)if(O[A]!==a[A])try{f(O,A,a[A])}catch{O[A]=a[A]}}};for(var y in i)S(s[y]&&s[y].prototype,y);S(l,"DOMTokenList")},8730:(u,P,t)=>{t.r(P),t.d(P,{AbstractActionHandler:()=>Nt,AbstractDontCodeStoreProvider:()=>mt,AbstractSchemaItem:()=>q,Action:()=>at,ActionContextType:()=>tt,ActionType:()=>rt,Change:()=>me,ChangeType:()=>H,DataTransformationInfo:()=>lt,DontCodeChangeManager:()=>Pt,DontCodeCore:()=>yt,DontCodeGroupOperationType:()=>Le,DontCodeModel:()=>m,DontCodeModelManager:()=>Re,DontCodeModelPointer:()=>pe,DontCodePluginManager:()=>dt,DontCodePreviewManager:()=>ht,DontCodeProject:()=>Ft,DontCodeReportGroupShowType:()=>et,DontCodeSchema:()=>_e,DontCodeSchemaEnum:()=>Ye,DontCodeSchemaEnumValue:()=>be,DontCodeSchemaManager:()=>ft,DontCodeSchemaObject:()=>re,DontCodeSchemaProperty:()=>Ze,DontCodeSchemaRef:()=>Xe,DontCodeSchemaRoot:()=>Me,DontCodeSchemaValue:()=>Fe,DontCodeSortDirectionType:()=>ke,DontCodeStoreAggregate:()=>It,DontCodeStoreCriteria:()=>Tt,DontCodeStoreCriteriaOperator:()=>Ve,DontCodeStoreGroupby:()=>At,DontCodeStoreGroupedByEntities:()=>St,DontCodeStoreGroupedByValues:()=>Ot,DontCodeStoreManager:()=>vt,DontCodeStorePreparedEntities:()=>gt,DontCodeStoreSort:()=>pt,DontCodeTestManager:()=>He,Message:()=>bt,MessageType:()=>st,ModelQuerySingleResult:()=>xt,MoneyAmount:()=>Ct,SpecialFields:()=>Et,StoreProviderHelper:()=>Ae,TestProviderInterface:()=>Mt,concatIterable:()=>te,dtcde:()=>nt}),t(5628),t(8210),t(7436),t(250),t(2272),t(6795);var h=t(2555),g=t(2776),E=t(7310),S=t(5846),y=t(3406),O=t(4630),x=t(4813);class A extends x.w0{constructor(e,r){super()}schedule(e,r=0){return this}}const I={setInterval(c,e,...r){const{delegate:n}=I;return n?.setInterval?n.setInterval(c,e,...r):setInterval(c,e,...r)},clearInterval(c){const{delegate:e}=I;return(e?.clearInterval||clearInterval)(c)},delegate:void 0};var C=t(9679),M=t(8042);class b{constructor(e,r=b.now){this.schedulerActionCtor=e,this.now=r}schedule(e,r=0,n){return new this.schedulerActionCtor(this,e).schedule(n,r)}}b.now=M.l.now;const j=new class w extends b{constructor(e,r=b.now){super(e,r),this.actions=[],this._active=!1}flush(e){const{actions:r}=this;if(this._active)return void r.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=r.shift());if(this._active=!1,n){for(;e=r.shift();)e.unsubscribe();throw n}}}(class G extends A{constructor(e,r){super(e,r),this.scheduler=e,this.work=r,this.pending=!1}schedule(e,r=0){var n;if(this.closed)return this;this.state=e;const o=this.id,d=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(d,o,r)),this.pending=!0,this.delay=r,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(d,this.id,r),this}requestAsyncId(e,r,n=0){return I.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,r,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return r;null!=r&&I.clearInterval(r)}execute(e,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,r);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,r){let o,n=!1;try{this.work(e)}catch(d){n=!0,o=d||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,(0,C.P)(n,this),null!=e&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null,super.unsubscribe()}}});var K=t(5942);var W=t(5467),k=t(205),Z=t(2582);function Y(c){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(c)}function Se(c,e){if(!(c instanceof e))throw new TypeError("Cannot call a class as a function")}function X(c,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(c,n.key,n)}}function oe(c,e,r){return e&&X(c.prototype,e),r&&X(c,r),Object.defineProperty(c,"prototype",{writable:!1}),c}function ce(c){return(ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)})(c)}function ue(c,e){return(ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n})(c,e)}function Ee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function de(c,e,r){return(de=Ee()?Reflect.construct.bind():function(o,d,v){var R=[null];R.push.apply(R,d);var N=new(Function.bind.apply(o,R));return v&&ue(N,v.prototype),N}).apply(null,arguments)}function he(c){var e="function"==typeof Map?new Map:void 0;return he=function(n){if(null===n||!function ge(c){return-1!==Function.toString.call(c).indexOf("[native code]")}(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,o)}function o(){return de(n,arguments,ce(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),ue(o,n)},he(c)}function De(c,e){if(c){if("string"==typeof c)return xe(c,e);var r=Object.prototype.toString.call(c).slice(8,-1);if("Object"===r&&c.constructor&&(r=c.constructor.name),"Map"===r||"Set"===r)return Array.from(c);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xe(c,e)}}function xe(c,e){(null==e||e>c.length)&&(e=c.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=c[r];return n}t(5872),t(9832),t(7075);var ve=Object.prototype.hasOwnProperty;function we(c,e){return(c=c.slice()).push(e),c}function We(c,e){return(e=e.slice()).unshift(c),e}var ot=function(c){!function se(c,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),e&&ue(c,e)}(r,c);var e=function Ce(c){var e=Ee();return function(){var o,n=ce(c);if(e){var d=ce(this).constructor;o=Reflect.construct(n,arguments,d)}else o=n.apply(this,arguments);return function Ue(c,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function Je(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(c)}(this,o)}}(r);function r(n){var o;return Se(this,r),(o=e.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,o.value=n,o.name="NewError",o}return oe(r)}(he(Error));function _(c,e,r,n,o){if(!(this instanceof _))try{return new _(c,e,r,n,o)}catch(T){if(!T.avoidNew)throw T;return T.value}"string"==typeof c&&(o=n,n=r,r=e,e=c,c=null);var d=c&&"object"===Y(c);if(this.json=(c=c||{}).json||r,this.path=c.path||e,this.resultType=c.resultType||"value",this.flatten=c.flatten||!1,this.wrap=!ve.call(c,"wrap")||c.wrap,this.sandbox=c.sandbox||{},this.preventEval=c.preventEval||!1,this.parent=c.parent||null,this.parentProperty=c.parentProperty||null,this.callback=c.callback||n||null,this.otherTypeCallback=c.otherTypeCallback||o||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==c.autostart){var v={path:d?c.path:e};d?"json"in c&&(v.json=c.json):v.json=r;var R=this.evaluate(v);if(!R||"object"!==Y(R))throw new ot(R);return R}}_.prototype.evaluate=function(c,e,r,n){var o=this,d=this.parent,v=this.parentProperty,R=this.flatten,T=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,r=r||this.callback,this.currOtherTypeCallback=n||this.otherTypeCallback,e=e||this.json,(c=c||this.path)&&"object"===Y(c)&&!Array.isArray(c)){if(!c.path&&""!==c.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!ve.call(c,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');e=c.json,R=ve.call(c,"flatten")?c.flatten:R,this.currResultType=ve.call(c,"resultType")?c.resultType:this.currResultType,this.currSandbox=ve.call(c,"sandbox")?c.sandbox:this.currSandbox,T=ve.call(c,"wrap")?c.wrap:T,this.currPreventEval=ve.call(c,"preventEval")?c.preventEval:this.currPreventEval,r=ve.call(c,"callback")?c.callback:r,this.currOtherTypeCallback=ve.call(c,"otherTypeCallback")?c.otherTypeCallback:this.currOtherTypeCallback,d=ve.call(c,"parent")?c.parent:d,v=ve.call(c,"parentProperty")?c.parentProperty:v,c=c.path}if(d=d||null,v=v||null,Array.isArray(c)&&(c=_.toPathString(c)),(c||""===c)&&e){var D=_.toPathArray(c);"$"===D[0]&&D.length>1&&D.shift(),this._hasParentSelector=null;var U=this._trace(D,e,["$"],d,v,r).filter(function(ee){return ee&&!ee.isParentSelector});return U.length?T||1!==U.length||U[0].hasArrExpr?U.reduce(function(ee,le){var Oe=o._getPreferredOutput(le);return R&&Array.isArray(Oe)?ee=ee.concat(Oe):ee.push(Oe),ee},[]):this._getPreferredOutput(U[0]):T?[]:void 0}},_.prototype._getPreferredOutput=function(c){var e=this.currResultType;switch(e){case"all":var r=Array.isArray(c.path)?c.path:_.toPathArray(c.path);return c.pointer=_.toPointer(r),c.path="string"==typeof c.path?c.path:_.toPathString(c.path),c;case"value":case"parent":case"parentProperty":return c[e];case"path":return _.toPathString(c[e]);case"pointer":return _.toPointer(c.path);default:throw new TypeError("Unknown result type")}},_.prototype._handleCallback=function(c,e,r){if(e){var n=this._getPreferredOutput(c);c.path="string"==typeof c.path?c.path:_.toPathString(c.path),e(n,r,c)}},_.prototype._trace=function(c,e,r,n,o,d,v,R){var N,T=this;if(!c.length)return this._handleCallback(N={path:r,value:e,parent:n,parentProperty:o,hasArrExpr:v},d,"value"),N;var D=c[0],U=c.slice(1),ee=[];function le(Pe){Array.isArray(Pe)?Pe.forEach(function(Ut){ee.push(Ut)}):ee.push(Pe)}if(("string"!=typeof D||R)&&e&&ve.call(e,D))le(this._trace(U,e[D],we(r,D),e,D,d,v));else if("*"===D)this._walk(e,function(Pe){le(T._trace(U,e[Pe],we(r,Pe),e,Pe,d,!0,!0))});else if(".."===D)le(this._trace(U,e,r,n,o,d,v)),this._walk(e,function(Pe){"object"===Y(e[Pe])&&le(T._trace(c.slice(),e[Pe],we(r,Pe),e,Pe,d,!0))});else{if("^"===D)return this._hasParentSelector=!0,{path:r.slice(0,-1),expr:U,isParentSelector:!0};if("~"===D)return N={path:we(r,D),value:o,parent:n,parentProperty:null},this._handleCallback(N,d,"property"),N;if("$"===D)le(this._trace(U,e,r,null,null,d,v));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(D))le(this._slice(D,U,e,r,n,o,d));else if(0===D.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");var Oe=D.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1");this._walk(e,function(Pe){T._eval(Oe,e[Pe],Pe,r,n,o)&&le(T._trace(U,e[Pe],we(r,Pe),e,Pe,d,!0))})}else if("("===D[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");le(this._trace(We(this._eval(D,e,r[r.length-1],r.slice(0,-1),n,o),U),e,r,n,o,d,v))}else if("@"===D[0]){var fe=!1,V=D.slice(1,-2);switch(V){case"scalar":(!e||!["object","function"].includes(Y(e)))&&(fe=!0);break;case"boolean":case"string":case"undefined":case"function":Y(e)===V&&(fe=!0);break;case"integer":Number.isFinite(e)&&!(e%1)&&(fe=!0);break;case"number":Number.isFinite(e)&&(fe=!0);break;case"nonFinite":"number"==typeof e&&!Number.isFinite(e)&&(fe=!0);break;case"object":e&&Y(e)===V&&(fe=!0);break;case"array":Array.isArray(e)&&(fe=!0);break;case"other":fe=this.currOtherTypeCallback(e,r,n,o);break;case"null":null===e&&(fe=!0);break;default:throw new TypeError("Unknown value type "+V)}if(fe)return this._handleCallback(N={path:r,value:e,parent:n,parentProperty:o},d,"value"),N}else if("`"===D[0]&&e&&ve.call(e,D.slice(1))){var ne=D.slice(1);le(this._trace(U,e[ne],we(r,ne),e,ne,d,v,!0))}else if(D.includes(",")){var Te,ye=function Be(c,e){var r=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(!r){if(Array.isArray(c)||(r=De(c))||e&&c&&"number"==typeof c.length){r&&(c=r);var n=0,o=function(){};return{s:o,n:function(){return n>=c.length?{done:!0}:{done:!1,value:c[n++]}},e:function(T){throw T},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var R,d=!0,v=!1;return{s:function(){r=r.call(c)},n:function(){var T=r.next();return d=T.done,T},e:function(T){v=!0,R=T},f:function(){try{!d&&null!=r.return&&r.return()}finally{if(v)throw R}}}}(D.split(","));try{for(ye.s();!(Te=ye.n()).done;)le(this._trace(We(Te.value,U),e,r,n,o,d,!0))}catch(Pe){ye.e(Pe)}finally{ye.f()}}else!R&&e&&ve.call(e,D)&&le(this._trace(U,e[D],we(r,D),e,D,d,v,!0))}if(this._hasParentSelector)for(var Ke=0;Ke<ee.length;Ke++){var it=ee[Ke];if(it&&it.isParentSelector){var qe=this._trace(it.expr,e,it.path,n,o,d,v);if(Array.isArray(qe)){ee[Ke]=qe[0];for(var Lt=qe.length,ct=1;ct<Lt;ct++)Ke++,ee.splice(Ke,0,qe[ct])}else ee[Ke]=qe}}return ee},_.prototype._walk=function(c,e){if(Array.isArray(c))for(var r=c.length,n=0;n<r;n++)e(n);else c&&"object"===Y(c)&&Object.keys(c).forEach(function(o){e(o)})},_.prototype._slice=function(c,e,r,n,o,d,v){if(Array.isArray(r)){var R=r.length,T=c.split(":"),N=T[2]&&Number.parseInt(T[2])||1,D=T[0]&&Number.parseInt(T[0])||0,U=T[1]&&Number.parseInt(T[1])||R;D=D<0?Math.max(0,D+R):Math.min(R,D),U=U<0?Math.max(0,U+R):Math.min(R,U);for(var ee=[],le=D;le<U;le+=N)this._trace(We(le,e),r,n,o,d,v,!0).forEach(function(fe){ee.push(fe)});return ee}},_.prototype._eval=function(c,e,r,n,o,d){this.currSandbox._$_parentProperty=d,this.currSandbox._$_parent=o,this.currSandbox._$_property=r,this.currSandbox._$_root=this.json,this.currSandbox._$_v=e;var v=c.includes("@path");v&&(this.currSandbox._$_path=_.toPathString(n.concat([r])));var R="script:"+c;if(!_.cache[R]){var T=c.replace(/@parentProperty/g,"_$_parentProperty").replace(/@parent/g,"_$_parent").replace(/@property/g,"_$_property").replace(/@root/g,"_$_root").replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1");v&&(T=T.replace(/@path/g,"_$_path")),_.cache[R]=new this.vm.Script(T)}try{return _.cache[R].runInNewContext(this.currSandbox)}catch(N){throw new Error("jsonPath: "+N.message+": "+c)}},_.cache={},_.toPathString=function(c){for(var e=c,r=e.length,n="$",o=1;o<r;o++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(e[o])||(n+=/^[\*0-9]+$/.test(e[o])?"["+e[o]+"]":"['"+e[o]+"']");return n},_.toPointer=function(c){for(var e=c,r=e.length,n="",o=1;o<r;o++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(e[o])||(n+="/"+e[o].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return n},_.toPathArray=function(c){var e=_.cache;if(e[c])return e[c].concat();var r=[],o=c.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,function(d,v){return"[#"+(r.push(v)-1)+"]"}).replace(/\[["']((?:(?!['\]])[\s\S])*)["']\]/g,function(d,v){return"['"+v.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/["']?\.["']?(?!(?:(?!\[)[\s\S])*\])|\[["']?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(d,v){return";"+v.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map(function(d){var v=d.match(/#([0-9]+)/);return v&&v[1]?r[v[1]]:d});return e[c]=o,e[c].concat()},_.prototype.vm={Script:function(){function c(e){Se(this,c),this.code=e}return oe(c,[{key:"runInNewContext",value:function(r){var n=this.code,o=Object.keys(r),d=[];!function(e,r,n){for(var o=e.length,d=0;d<o;d++)n(e[d])&&r.push(e.splice(d--,1)[0])}(o,d,function(D){return"function"==typeof r[D]});var v=o.map(function(D,U){return r[D]}),R=d.reduce(function(D,U){var ee=r[U].toString();return/function/.test(ee)||(ee="function "+ee),"var "+U+"="+ee+";"+D},"");!/(["'])use strict\1/.test(n=R+n)&&!o.includes("arguments")&&(n="var arguments = undefined;"+n);var T=(n=n.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),N=T>-1?n.slice(0,T+1)+" return "+n.slice(T+1):" return "+n;return de(Function,o.concat([N])).apply(void 0,function Ie(c){return function Ge(c){if(Array.isArray(c))return xe(c)}(c)||function Ne(c){if(typeof Symbol<"u"&&null!=c[Symbol.iterator]||null!=c["@@iterator"])return Array.from(c)}(c)||De(c)||function je(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(v))}}]),c}()},t(9858),t(2650);class q{constructor(e,r){this.array=!1,this.readOnly=!1,this.hidden=!1,this.parent=e,this.relativeId=r}isArray(){return this.array}setArray(e){this.array=e}isEnum(){return!1}isObject(){return!1}isReference(){return!1}isValue(){return!1}isRoot(){return!1}isHidden(){return this.hidden}setHidden(e){this.hidden=e}isReadonly(){return this.readOnly}setReadonly(e){this.readOnly=e}static generateItem(e,r,n){let d,o=Array.isArray(e);if(o)return console.error("arrays are not supported",e),e;if(o=!1,e.type)switch(e.type){case"object":d=new re(e,r,n);break;case"array":d=this.generateItem(e.items,r,n),o=!0;break;default:d=new Fe(e,r,n)}else if(e.enum)d=new Ye(e,r,n);else{if(!e.$ref)return e;d=new Xe(e,r,n)}return!0===e.readOnly&&d.setReadonly(!0),!0===e.writeOnly&&d.setHidden(!0),d.setArray(o),d}static isObject(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}static goto(e,r){let n=e;return r.split("/").forEach(o=>{"#"!==o&&""!=o&&(n=n?.getChild(o)),n||console.error("Cannot find "+o+" of "+r+" in the following item ",e)}),n}upsertWith(e){return!1}getParent(){return this.parent}getChild(e){}getChildren(){return(new Map).entries()}updateWith(e){}allProperties(){return[].values()}getProperties(e){}hasProperties(e){return!1}getRelativeId(){return this.relativeId}setRelativeId(e){this.relativeId=e}getTargetPath(){return this.targetPath}setTargetPath(e){this.targetPath=e}isPossibleDynamicProperty(e){const r=this.getChildren();for(const n of r){const o=n[1].allProperties();for(const d of o)if(d[1].getChild(e))return d[1]}}getAllPossibleDynamicProperties(){const e=this.getChildren(),r=new Map;for(const n of e){const o=n[1].allProperties();for(const d of o)for(const v of d[1].getChildren())r.has(v[0])&&console.warn("Dynamic Property "+v[0]+" is being defined by multiple children."),r.set(v[0],v[1])}return r.entries()}getChildrenAndPossibleProperties(){return te(this.getChildren(),this.getAllPossibleDynamicProperties())}}function*te(...c){for(let e of c){let r;for(e=e[Symbol.iterator]();r=e.next(),!r.done;)yield r.value}}class re extends q{constructor(e,r,n){super(n,r),this.children=new Map,e&&this.readJson(e)}readJson(e){const r=e.properties;if(r)for(const n in r)this.children.set(n,q.generateItem(r[n],n,this))}isEnum(){return!1}isObject(){return!0}isReference(){return!1}isValue(){return!1}isRoot(){return!1}upsertWith(e){const r=this.getChild(e.location.id);if(r)r.updateWith(e);else if(null!=e.location.id){const n=q.generateItem(e.update,e.location.id,this);if(e.location.after){const o=new Map;this.children.forEach((d,v)=>{o.set(v,d),v===e.location.after&&null!=e.location.id&&o.set(e.location.id,n)}),this.children=o}else this.children.set(e.location.id,n);n.updateWith(e)}return!0}updateWith(e){super.updateWith(e)}getChild(e){if(e)return this.children.get(e)}getChildren(){return this.children.entries()}}class Me extends re{constructor(e){super(e,void 0)}readJson(e){super.readJson(e);const r=e.$defs;r&&this.children.set("$defs",new re({properties:r},"$defs",this))}isEnum(){return!1}isObject(){return!0}isReference(){return!1}isValue(){return!1}isRoot(){return!0}}class Ye extends q{constructor(e,r,n){super(n,r),this.values=new Array,this.properties=new Map,this.updateValues(e.enum,this.values),this.targetPath=e.format}isEnum(){return!0}isObject(){return!1}isReference(){return!1}isValue(){return!1}isRoot(){return!1}getValues(){return this.values}updateWith(e){super.updateWith(e),this.updateValues(e.update.enum,this.values,e)}updateValues(e,r,n){e.forEach(o=>{if("string"==typeof o){if(r.find(d=>d.getValue()===o)||r.push(new be(o)),n?.props){const d=new Ze(n,this.relativeId+"="+o,this);d.isEmpty()||this.properties.set(o,d)}}else for(const d in o)if(o.hasOwnProperty(d)){let v=r.find(R=>R.getValue()===o);v||(v=new be(d),r.push(v)),v.getChildren()||v.setChildren([]),this.updateValues(o[d].enum,v.getChildren(),n)}})}allProperties(){return this.properties.entries()}getProperties(e){return this.properties.get(e)}hasProperties(e){return this.properties.has(e)}}class be{constructor(e,r){this._children=new Array,this._value=e,this._label=r||e}getLabel(){return this._label?this._label:this._value}setLabel(e){this._label=e}getValue(){return this._value}setValue(e){this._value=e}getChildren(){return this._children}setChildren(e){this._children=e}}class Fe extends q{constructor(e,r,n){super(n,r),this.type=e.type,this.targetPath=e.format}isValue(){return!0}getType(){return this.type}}class Xe extends q{constructor(e,r,n){super(n,r),this.resolvedRef=new Map,this.ref=e.$ref}isReference(){return!0}getReference(){return this.ref}resolveReference(e){this.resolvedRef.set("",e)}getChildren(){return this.resolvedRef.entries()}}class Ze extends re{constructor(e,r,n){super({type:"object",properties:e.props},r,n),this.replace=!!e.replace&&e.replace,this.posAfter=e.location.after}isEmpty(){return 0==this.children.size}isReplace(){return this.replace}getPosAfter(){return this.posAfter}}class m{}m.ROOT="creation",m.APP_NAME_NODE="name",m.APP_TYPE_NODE="type",m.APP_TYPE=m.ROOT+"/"+m.APP_TYPE_NODE,m.APP_NAME=m.ROOT+"/"+m.APP_NAME_NODE,m.APP_ENTITIES_NODE="entities",m.APP_ENTITIES=m.ROOT+"/"+m.APP_ENTITIES_NODE,m.APP_ENTITIES_FROM_NODE="from",m.APP_ENTITIES_FROM=m.APP_ENTITIES+"/"+m.APP_ENTITIES_FROM_NODE,m.APP_ENTITIES_NAME_NODE="name",m.APP_ENTITIES_NAME=m.APP_ENTITIES+"/"+m.APP_ENTITIES_NAME_NODE,m.APP_FIELDS_NODE="fields",m.APP_FIELDS=m.APP_ENTITIES+"/"+m.APP_FIELDS_NODE,m.APP_FIELDS_NAME_NODE="name",m.APP_FIELDS_NAME=m.APP_FIELDS+"/"+m.APP_FIELDS_NAME_NODE,m.APP_FIELDS_TYPE_NODE="type",m.APP_FIELDS_TYPE=m.APP_FIELDS+"/"+m.APP_FIELDS_TYPE_NODE,m.APP_SHARING_NODE="sharing",m.APP_SHARING=m.ROOT+"/"+m.APP_SHARING_NODE,m.APP_SHARING_WITH_NODE="with",m.APP_SHARING_WITH=m.APP_SHARING+"/"+m.APP_SHARING_WITH_NODE,m.APP_REPORTS_NODE="reports",m.APP_REPORTS=m.ROOT+"/"+m.APP_REPORTS_NODE,m.APP_REPORTS_TITLE_NODE="title",m.APP_REPORTS_TITLE=m.APP_REPORTS+"/"+m.APP_REPORTS_TITLE_NODE,m.APP_REPORTS_FOR_NODE="for",m.APP_REPORTS_FOR=m.APP_REPORTS+"/"+m.APP_REPORTS_FOR_NODE,m.APP_REPORTS_GROUP_NODE="groupedBy",m.APP_REPORTS_GROUP=m.APP_REPORTS+"/"+m.APP_REPORTS_GROUP_NODE,m.APP_REPORTS_SORT_NODE="sortedBy",m.APP_REPORTS_SORT=m.APP_REPORTS+"/"+m.APP_REPORTS_SORT_NODE,m.APP_REPORTS_DISPLAY_NODE="as",m.APP_REPORTS_DISPLAY=m.APP_REPORTS+"/"+m.APP_REPORTS_DISPLAY_NODE,m.APP_REPORTS_GROUP_LABEL_NODE="label",m.APP_REPORTS_GROUP_LABEL=m.APP_REPORTS_GROUP+"/"+m.APP_REPORTS_GROUP_LABEL_NODE,m.APP_REPORTS_GROUP_OF_NODE="of",m.APP_REPORTS_GROUP_OF=m.APP_REPORTS_GROUP+"/"+m.APP_REPORTS_GROUP_OF_NODE,m.APP_REPORTS_GROUP_SHOW_NODE="show",m.APP_REPORTS_GROUP_SHOW=m.APP_REPORTS_GROUP+"/"+m.APP_REPORTS_GROUP_SHOW_NODE,m.APP_REPORTS_GROUP_AGGREGATE_NODE="display",m.APP_REPORTS_GROUP_AGGREGATE=m.APP_REPORTS_GROUP+"/"+m.APP_REPORTS_GROUP_AGGREGATE_NODE,m.APP_REPORTS_GROUP_AGGREGATE_LABEL_NODE="label",m.APP_REPORTS_GROUP_AGGREGATE_LABEL=m.APP_REPORTS_GROUP_AGGREGATE+"/"+m.APP_REPORTS_GROUP_AGGREGATE_LABEL_NODE,m.APP_REPORTS_GROUP_AGGREGATE_OPERATION_NODE="operation",m.APP_REPORTS_GROUP_AGGREGATE_OPERATION=m.APP_REPORTS_GROUP_AGGREGATE+"/"+m.APP_REPORTS_GROUP_AGGREGATE_OPERATION_NODE,m.APP_REPORTS_GROUP_AGGREGATE_OF_NODE="of",m.APP_REPORTS_GROUP_AGGREGATE_OF=m.APP_REPORTS_GROUP_AGGREGATE+"/"+m.APP_REPORTS_GROUP_AGGREGATE_OF_NODE,m.APP_REPORTS_SORT_BY_NODE="by",m.APP_REPORTS_SORT_BY=m.APP_REPORTS_SORT+"/"+m.APP_REPORTS_SORT_BY_NODE,m.APP_REPORTS_SORT_DIRECTION_NODE="direction",m.APP_REPORTS_SORT_DIRECTION=m.APP_REPORTS_SORT+"/"+m.APP_REPORTS_SORT_DIRECTION_NODE,m.APP_REPORTS_DISPLAY_TITLE_NODE="title",m.APP_REPORTS_DISPLAY_TITLE=m.APP_REPORTS_DISPLAY+"/"+m.APP_REPORTS_DISPLAY_TITLE_NODE,m.APP_REPORTS_DISPLAY_TYPE_NODE="type",m.APP_REPORTS_DISPLAY_TYPE=m.APP_REPORTS_DISPLAY+"/"+m.APP_REPORTS_DISPLAY_TYPE_NODE,m.APP_REPORTS_DISPLAY_OF_NODE="of",m.APP_REPORTS_DISPLAY_OF=m.APP_REPORTS_DISPLAY+"/"+m.APP_REPORTS_DISPLAY_OF_NODE,m.APP_REPORTS_DISPLAY_BY_NODE="by",m.APP_REPORTS_DISPLAY_BY=m.APP_REPORTS_DISPLAY+"/"+m.APP_REPORTS_DISPLAY_BY_NODE,m.APP_SOURCES_NODE="sources",m.APP_SOURCES=m.ROOT+"/"+m.APP_SOURCES_NODE,m.APP_SOURCES_NAME_NODE="name",m.APP_SOURCES_NAME=m.ROOT+"/"+m.APP_SOURCES_NODE+"/"+m.APP_SOURCES_NAME_NODE,m.APP_SOURCES_TYPE_NODE="type",m.APP_SOURCES_TYPE=m.ROOT+"/"+m.APP_SOURCES_NODE+"/"+m.APP_SOURCES_TYPE_NODE,m.APP_SOURCES_URL_NODE="url",m.APP_SOURCES_URL=m.ROOT+"/"+m.APP_SOURCES_NODE+"/"+m.APP_SOURCES_URL_NODE,m.APP_SCREENS_NODE="screens",m.APP_SCREENS=m.ROOT+"/"+m.APP_SCREENS_NODE,m.APP_SCREENS_NAME_NODE="name",m.APP_SCREENS_NAME=m.APP_SCREENS+"/"+m.APP_SCREENS_NAME_NODE,m.APP_SCREENS_LAYOUT_NODE="layout",m.APP_SCREENS_LAYOUT=m.APP_SCREENS+"/"+m.APP_SCREENS_LAYOUT_NODE,m.APP_COMPONENTS_NODE="components",m.APP_COMPONENTS=m.APP_SCREENS+"/"+m.APP_COMPONENTS_NODE,m.APP_COMPONENTS_TYPE_NODE="type",m.APP_COMPONENTS_TYPE=m.APP_COMPONENTS+"/"+m.APP_COMPONENTS_TYPE_NODE,m.APP_COMPONENTS_ENTITY_NODE="entity",m.APP_COMPONENTS_ENTITY=m.APP_COMPONENTS+"/"+m.APP_COMPONENTS_ENTITY_NODE;class _e{}_e.ROOT="/properties/"+m.ROOT,_e.defaultv1={$id:"https://dont-code.net/v1/dont-code-schema.json",$schema:"https://json-schema.org/draft/2020-12/schema",description:"JSON Schema v1 for dont-code",type:"object",required:["creation"],properties:{creation:{type:"object",properties:{type:{enum:["Application"]},name:{type:"string"},entities:{type:"array",items:{$ref:"#/$defs/entity"}},sharing:{$ref:"#/$defs/sharing"},reports:{type:"array",items:{$ref:"#/$defs/report"}},sources:{type:"array",items:{$ref:"#/$defs/source"}},screens:{type:"array",items:{$ref:"#/$defs/screen"}}},additionalProperties:!1}},$defs:{entity:{type:"object",properties:{from:{type:"string",format:"$.creation.sources.name"},name:{type:"string"},fields:{type:"array",items:{$ref:"#/$defs/field"}}},additionalProperties:!1},field:{type:"object",properties:{name:{type:"string"},type:{enum:["Text","Number","Boolean",{Time:{enum:["Date","Date & Time","Time"]}},{Money:{enum:["Dollar","Euro","Other currency"]},Web:{enum:["Website (url)","Image"]}},{Special:{enum:["Reference"]}}]}},additionalProperties:!1},sharing:{type:"object",properties:{with:{enum:["No-one"]}},additionalProperties:!1},source:{type:"object",properties:{name:{type:"string"},type:{enum:["Unknown"]}}},report:{type:"object",properties:{title:{type:"string"},for:{type:"string",format:"$.creation.entities.name"},groupedBy:{type:"array",items:{$ref:"#/$defs/report-group"}},sortedBy:{type:"array",items:{$ref:"#/$defs/report-sort"}},as:{type:"array",items:{$ref:"#/$defs/report-display"}}},additionalProperties:!1},"report-group":{type:"object",properties:{of:{type:"string",format:".fields.name"},label:{type:"string"},show:{enum:["OnlyLowest","OnlyHighest"]},display:{type:"array",items:{$ref:"#/$defs/report-group-aggregate"}}},additionalProperties:!1},"report-group-aggregate":{type:"object",properties:{operation:{enum:["Count","Sum","Average","Minimum","Maximum"]},of:{type:"string",format:".@parent.fields.name"},label:{type:"string"}},additionalProperties:!1},"report-sort":{type:"object",properties:{by:{type:"string",format:".fields.name"},direction:{enum:["None","Ascending","Descending"]}},additionalProperties:!1},"report-display":{type:"object",properties:{type:{enum:["Table","Bar","Line","Pie"]},of:{type:"string",format:".@parent.fields.name"},by:{type:"string",format:".@parent.fields.name"},title:{type:"string"}},additionalProperties:!1},screen:{type:"object",properties:{name:{type:"string"},layout:{enum:["Flow","Grid"]},components:{type:"array",items:{$ref:"#/$defs/component"}}},additionalProperties:!1},component:{type:"object",properties:{type:{enum:["List","Edit","View"]},entity:{type:"string",format:"$.creation.entities.name"}},additionalProperties:!1}}};class pe{constructor(e,r,n,o,d,v){this.position=e,this.positionInSchema=r,this.containerPosition=n,this.containerPositionInSchema=o,this.lastElement=d||"",this.isProperty=v,this.fillMissingElements()}fillMissingElements(e){var r,n,o;if(null==this.position||null==this.positionInSchema)throw new Error("Cannot fill Elements for an empty position");null==this.containerPosition&&(this.containerPosition=null!==(r=pe.parentPosition(this.position))&&void 0!==r?r:void 0),null==this.containerPositionInSchema&&(this.containerPositionInSchema=null!==(n=pe.parentPosition(this.positionInSchema))&&void 0!==n?n:void 0),(null==this.lastElement||0==this.lastElement.length)&&(this.lastElement=null!==(o=pe.lastElementOf(this.position))&&void 0!==o?o:this.position),null==this.isProperty&&e&&(this.isProperty=!this.containerPositionInSchema||null!=e.locateItem(this.containerPositionInSchema,!0).getChild(this.lastElement))}static lastElementOf(e){return null==e?e:e.substring(e.lastIndexOf("/")+1)}static nextItemAndPosition(e,r){let n=e.indexOf("/",r);n===r&&(n=e.indexOf("/",r+=1)),-1!==n?n-=1:n=n===r?-1:e.length-1;let o=null;return-1!==n&&(o=e.substring(r,n+1)),{pos:n,value:o}}calculateKeyOrContainer(){var e;return!0===this.isProperty?this.lastElement:null!==(e=pe.lastElementOf(this.containerPosition))&&void 0!==e?e:""}calculateItemIdOrContainer(){var e;return!1===this.isProperty?this.lastElement:null!==(e=pe.lastElementOf(this.containerPosition))&&void 0!==e?e:""}isSubItemOf(e){return e.position===this.containerPosition?this.lastElement:null}isUnderSubItemOf(e){if(this.positionInSchema.startsWith(e.positionInSchema)){const r=this.positionInSchema.indexOf("/",e.positionInSchema.length+1);return-1==r?this.positionInSchema.substring(e.positionInSchema.length+1):this.positionInSchema.substring(e.positionInSchema.length+1,r)}return null}subItemOrPropertyPointer(e,r){return r?this.subPropertyPointer(e):this.subItemPointer(e)}subPropertyPointer(e){return new pe(""===this.position?e:this.position+"/"+e,""===this.positionInSchema?e:this.positionInSchema+"/"+e,this.position,this.positionInSchema,e,!0)}subItemPointer(e){return new pe(""===this.position?e:this.position+"/"+e,this.positionInSchema,this.position,this.containerPositionInSchema,e,!1)}safeParentPointer(e){const r=this.parentPointer(e);if(void 0===r)throw new Error("No parent position for pointer "+this.position);return r}parentPointer(e){if(null==this.containerPosition||null==this.containerPositionInSchema)return;const r=new pe(this.containerPosition,this.containerPositionInSchema);return null!=e&&r.fillMissingElements(e),r}isParentOf(e,r){if(!0===r){const n=pe.parentPosition(e);return null!=n&&this.position==n}return e.startsWith(this.position)}static parentPosition(e){if(null==e||0===e.length)return null;const r=e.lastIndexOf("/");return-1==r?"":e.substring(0,r)}static splitPosition(e){if(null==e||0===e.length)return null;const r=e.lastIndexOf("/");return-1==r?{parent:"",element:e}:{parent:e.substring(0,r),element:e.substring(r+1)}}}class ft{constructor(){this.reset()}getSchema(){return this.currentSchema}convertSchemaToMap(e){return new Me(e)}registerChanges(e){if(e["schema-updates"]){const r=e["schema-updates"];for(const n of r){const o=n.changes;for(const d of o)if(d.location.id){const v=this.locateItem(d.location.parent);if(!v)throw"Cannot find parent element: "+d.location.parent;v.upsertWith(d)}}}}locateItem(e,r){const n=e.split("/");let o=this.currentSchema;for(const d of n){if(!o)throw console.error("Could not find subItem "+d+" of "+e),new Error("Could not find subItem "+d+" of "+e);if(d&&d.length>0&&"#"!==d){if(o.isReference()&&(o=this.resolveReference(o)),!o)throw console.error("Could not find reference "+o?.getReference()+" of "+e),new Error("Could not find reference "+o?.getReference()+" of "+e);o=o.getChild(d)}}if(r&&o?.isReference()&&(o=this.resolveReference(o)),null!=o)return o;throw new Error("Could not find item at schema position "+e)}resolveReference(e){return this.locateItem(e.getReference())}generateParentPointer(e){if(null!=e.containerPosition)return this.generateSchemaPointer(e.containerPosition)}generateSchemaPointer(e){var r;let n;const o=e,d=o.split("/");if(0===d.length||0===d[0].length)return n=new pe(e,e),n;n=new pe(e,"");let v=this.currentSchema,R=!1;for(const T of d)if(R)n.isProperty=!1,R=!1;else{let N=null!==(r=v.getChild(T))&&void 0!==r?r:v.isPossibleDynamicProperty(T);if(!N)throw new Error("Cannot parse '"+o+"' from the schema as "+T+" is not a child of "+v.getRelativeId());if(n.isProperty=!0,n.containerPositionInSchema=n.positionInSchema,n.positionInSchema=null!==n.positionInSchema&&n.positionInSchema.length>0?n.positionInSchema+"/"+T:T,R=!!N.isArray(),N.isReference()&&(N=this.resolveReference(N)),null==N)throw new Error("Cannot parse '"+o+"' from the schema as "+N+" is reference an unknown element");v=N}return n.containerPositionInSchema=n.positionInSchema.substring(0,n.positionInSchema.lastIndexOf("/")),n.containerPosition=n.position.substring(0,n.position.lastIndexOf("/")),n.lastElement=d[d.length-1],n}generateSubSchemaPointer(e,r){return this.locateItem(e.positionInSchema,!0).getChild(r)?e.subPropertyPointer(r):e.subItemPointer(r)}reset(){this.readSchema=_e.defaultv1,this.currentSchema=this.convertSchemaToMap(this.readSchema)}}class dt{constructor(){this.plugins=new Map}registerPlugin(e,r,n){const o=e.getConfiguration(),d=o.plugin.id+"-v"+o.plugin.version;null==this.plugins.get(d)&&(r.registerChanges(o),n.registerHandlers(o),this.plugins.set(d,new Rt(e)))}initPlugins(e){this.plugins.forEach(r=>{var n;if(!1===r.initCalled)try{const o=null===(n=r.plugin.getConfiguration())||void 0===n?void 0:n["definition-updates"];e.getChangeManager().applyPluginConfigUpdates(o),r.plugin.pluginInit(e),r.initCalled=!0}catch(o){console.error("Error calling "+r.plugin+" init method:",o)}})}reset(){this.plugins.clear()}}class Rt{constructor(e,r){this.plugin=e,this.initCalled=null!=r&&r}}class ht{constructor(){this.reset()}reset(){this.handlersPerLocations=new Map,this.globalHandlersPerLocations=new Map,this.actionHandlersPerLocation=new Map,this.globalHandlers=new h.t}registerHandlers(e){if(e["preview-handlers"]&&e["preview-handlers"].forEach(r=>{let n=this.handlersPerLocations.get(r.location.parent);n||(n=new Array,this.handlersPerLocations.set(r.location.parent,n)),n.push(r)}),e["global-handlers"]&&e["global-handlers"].forEach(r=>{let n=this.handlersPerLocations.get(r.location.parent);n||(n=new Array,this.handlersPerLocations.set(r.location.parent,n)),n.push(r),n=this.globalHandlersPerLocations.get(r.location.parent),n||(n=new Array,this.globalHandlersPerLocations.set(r.location.parent,n)),n.push(r),this.globalHandlers.next(r)}),e["action-handlers"])for(const r of e["action-handlers"]){let n=this.actionHandlersPerLocation.get({position:r.location.parent,context:r["action-context"]});n||(n=new Array,this.actionHandlersPerLocation.set({position:r.location.parent,context:r["action-context"]},n)),n.push(r)}}getGlobalHandlers(){return this.globalHandlersPerLocations}receiveGlobalHandlers(){return this.globalHandlers}retrieveHandlerConfig(e,r){const n=this.handlersPerLocations.get(e);let o=null,d=!1;if(n)for(const v of n)if(v.location.values)if(r){let R=r;v.location.id&&(R=r[v.location.id]),this.extractValuesAsArray(v.location.values).forEach(T=>{T!==R||(o=v)})}else d=!0;else null===o&&(o=v);else if("string"==typeof r&&e.lastIndexOf("/")>0){e.endsWith("/")&&(e=e.substring(0,e.length-1));const R={};return R[e.substring(e.lastIndexOf("/")+1)]=r,this.retrieveHandlerConfig(e.substring(0,e.lastIndexOf("/")),R)}if(null===o&&d)throw new Error("Content must be provided in order to select an handler for position "+e);return o}retrieveActionHandlers(e,r,n){return this.actionHandlersPerLocation.get({position:e,context:r})??[]}extractValuesAsArray(e){const r=new Array;return this.extractValuesToArray(e,r),r}extractValuesToArray(e,r){if(Array.isArray(e))e.forEach(n=>{"string"==typeof n?r.push(n):this.extractValuesToArray(n,r)});else for(const n in e)e.hasOwnProperty(n)&&this.extractValuesToArray(e[n],r)}}var et=(()=>{return(c=et||(et={})).OnlyLowest="OnlyLowest",c.OnlyHighest="OnlyHighest",et;var c})(),Le=(()=>{return(c=Le||(Le={})).Count="Count",c.Sum="Sum",c.Average="Average",c.Minimum="Minimum",c.Maximum="Maximum",Le;var c})(),ke=(()=>{return(c=ke||(ke={})).None="None",c.Ascending="Ascending",c.Descending="Descending",ke;var c})(),tt=(()=>{return(c=tt||(tt={})).LIST="list",c.EDIT="edit",c.VIEW="view",tt;var c})(),rt=(()=>{return(c=rt||(rt={})).EXTRACT="extract",c.UPDATE="update",c.CALCULATE="calculate",rt;var c})();class vt{constructor(e,r){this.modelMgr=e,this.providerByPosition=new Map,this.providerByType=new Map,this._default=r,this.reset()}reset(){this.providerByPosition.clear(),this.providerByType.clear()}getProvider(e){var r;if(null==e)return this._default;{let n=null;const o=null===(r=this.modelMgr.findTargetOfProperty(m.APP_ENTITIES_FROM_NODE,e))||void 0===r?void 0:r.value;return o&&(n=this.providerByType.get(o.type)),n||(n=this.providerByPosition.get(e)),n??this._default}}getProviderSafe(e){const r=this.getProvider(e);if(null==r)throw new Error("Trying to get an undefined or null provider");return r}getDefaultProvider(){return this.getProvider()}getDefaultProviderSafe(){return this.getProviderSafe()}setProvider(e,r){null==r?this._default=e:this.providerByPosition.set(r,e)}setProviderForSourceType(e,r){this.providerByType.set(r,e)}setDefaultProvider(e){this.setProvider(e)}removeProvider(e){null==e?this._default=void 0:this.providerByPosition.delete(e)}removeProviderForSourceType(e){this.providerByType.delete(e)}removeDefaultProvider(){this.removeProvider()}storeEntity(e,r){return this.getProviderSafe(e).storeEntity(e,r)}loadEntity(e,r){return this.getProviderSafe(e).loadEntity(e,r)}safeLoadEntity(e,r){return this.getProviderSafe(e).safeLoadEntity(e,r)}deleteEntity(e,r){return this.getProviderSafe(e).deleteEntity(e,r)}searchEntities(e,...r){return this.getProviderSafe(e).searchEntities(e,...r)}searchAndPrepareEntities(e,r,n,o,...d){return this.getProviderSafe(e).searchAndPrepareEntities(e,r,n,o,...d)}canStoreDocument(e){var r;return(null===(r=this.getProvider(e))||void 0===r?void 0:r.canStoreDocument(e))||!1}storeDocuments(e,r){return this.getProviderSafe(r).storeDocuments(e,r)}}var Ve=(()=>{return(c=Ve||(Ve={})).EQUALS="=",c.LESS_THAN="<",c.LESS_THAN_EQUAL="<=",Ve;var c})();class Tt{constructor(e,r,n){this.name=e,this.value=r,this.operator=n||Ve.EQUALS}}class pt{constructor(e,r,n){this.by=e,this.subSort=n,this.direction=null==r?ke.None:r}}class At{constructor(e,r,n){this.of=e,this.show=n,this.display=null==r?{}:r}atLeastOneGroupIsRequested(){return null!=this.display&&Object.keys(this.display).length>0}getRequiredListOfFields(){const e=new Set;if(null!=this.display)for(const r of Object.values(this.display))e.add(r.of);return e}}class It{constructor(e,r){this.of=e,this.operation=r}}class me{constructor(e,r,n,o,d,v){if(this.type=e,this.position=r,"/"===r)throw new Error("Root position is defined by empty string and not slash anymore");this.value=n,this.pointer=o,this.beforeKey=d,this.oldPosition=v}getSafeParentPosition(){const e=this.getParentPosition();if(null==e)throw new Error("No Parent position for root changes.");return e}getParentPosition(){var e;return null!=this.pointer?null!==(e=this.pointer.containerPosition)&&void 0!==e?e:null:pe.parentPosition(this.position)}}var H=(()=>{return(c=H||(H={})).ADD="ADD",c.UPDATE="UPDATE",c.DELETE="DELETE",c.MOVE="MOVE",c.RESET="RESET",c.ACTION="ACTION",H;var c})();class at extends me{constructor(e,r,n,o,d,v,R){super(R??H.ACTION,e,r,d),this.running=new g.x,this.context=n,this.actionType=o,null!=v&&(this.running=v)}}class Re{constructor(e){this.schemaMgr=e,this.reset()}reset(){this.content=void 0}getContent(){return this.content}resetContent(e){this.content=e}static isHidden(e){return 1==e?.$hidden}static isReadonly(e){return 1==e?.$readOnly}applyChange(e){var r,n;let o=null!==(r=e.pointer)&&void 0!==r?r:this.schemaMgr.generateSchemaPointer(e.position);e.pointer=o;const v=null===(n=e.pointer)||void 0===n?void 0:n.lastElement;null!=o.containerPosition&&null!=v&&(o=this.schemaMgr.generateParentPointer(o));const R=new ut;R.isRoot=!0,R.name=o.position;let T=R,N=this.findAtPosition(o.position);if(null==N){if(e.type===H.DELETE)return[];{N=this.findAtPosition(o.position,!0,R);let U=o.position;for(;T.subChanges.length>0;)U=U.substring(0,U.lastIndexOf("/")),T=T.subChanges[0];R.name=U}}e.type===H.ACTION&&(T.type=H.ACTION);const D=this.applyChangeRecursive(e,N,e.value,e.pointer,T);return this.generateChanges(e,R,D,this.schemaMgr.generateSchemaPointer(R.name))}applyChangeRecursive(e,r,n,o,d,v){if(null==e.pointer)throw new Error("Cannot apply a change without a pointer at position "+e.position);let R=!0;null==v&&(v=e.oldPosition);const T=o.lastElement;if(T||0===T.length){const N=0===T.length?r:r[T];switch(e.type){case H.ACTION:{const D=d.createSubChange(H.ACTION,T,d.value);this.compareRecursiveIfNeeded(e,N,null,o,D);break}case H.ADD:case H.UPDATE:case H.RESET:{let D;if(e.type===H.RESET&&e.position===o.position)"object"==typeof n&&this.isTheSameForParent(N,n)?D=d.createSubChange(void 0,T,null):("object"==typeof n||N!==n)&&(D=d.createSubChange(H.RESET,T,n));else if(null==N)D=d.createSubChange(H.ADD,T,n);else if("object"==typeof n&&this.isTheSameForParent(N,n))D=d.createSubChange(void 0,T,null);else if("object"==typeof n||N!==n){if("object"==typeof N&&e.type==H.ADD){R=!1;for(const U of Object.getOwnPropertyNames(n))if(null!=N[U]){R=!0;break}}D=d.createSubChange(H.UPDATE,T,n)}D&&this.compareRecursiveIfNeeded(e,N,n,o,D),T.length>0&&R&&this.insertProperty(r,T,n,e.beforeKey)}break;case H.DELETE:if(r[T]){const D=d.createSubChange(H.DELETE,T,null);this.compareRecursiveIfNeeded(e,r[T],n,o,D),delete r[T]}break;case H.MOVE:if(e.position===o.position){if(null==v)throw new Error("Cannot process MOVE change without oldPosition"+e.position);if(null==n&&(n=this.findAtPosition(v)),n){const D=d.createSubChange(H.MOVE,T,n,v);if(e.position!==v){this.compareRecursiveIfNeeded(e,null,n,o,D,v),this.insertProperty(r,T,n,e.beforeKey);const U=pe.splitPosition(v);delete this.findAtPosition(U.parent)[U.element]}else this.compareRecursiveIfNeeded(e,null,n,o,D,v),this.insertProperty(r,T,n,e.beforeKey)}}else{const D=d.createSubChange(H.MOVE,T,null,v);this.compareRecursiveIfNeeded(e,r,n,o,D,v)}break;default:throw new Error("No support for change of type "+e.type)}}else this.compareRecursiveIfNeeded(e,r,n,o,d,v);return R}isTheSameForParent(e,r){if(r===e)return!0;if(null==r||null==e)return!1;if("object"==typeof e&&"object"==typeof r){const n=Object.keys(e),o=Object.keys(r);return n.length===o.length&&n.every((d,v)=>d===o[v])}return e===r}compareRecursiveIfNeeded(e,r,n,o,d,v){(null==r||"object"!=typeof r)&&(r={}),(null==n||"object"!=typeof n)&&(n={});const R=new Set;for(const T in r){const N=this.schemaMgr.generateSubSchemaPointer(o,T),D=N.position;R.add(T),n.hasOwnProperty(T)?this.applyChangeRecursive(e,r,n[T],N,d,v):e.type==H.ACTION?this.applyChangeRecursive(new at(D,e.value,e.context,e.actionType,N,e.running),r,null,N,d):e.type!=H.ADD&&this.applyChangeRecursive(new me(H.DELETE,D,null,N),r,null,N,d,v)}for(const T in n)if(e.type===H.MOVE){const N=this.schemaMgr.generateSubSchemaPointer(o,T);this.applyChangeRecursive(e,r,n[T],N,d,v+"/"+T)}else if(!R.has(T)){const N=this.schemaMgr.generateSubSchemaPointer(o,T);this.applyChangeRecursive(new me(H.ADD,N.position,n[T],N),r,n[T],N,d)}}generateChanges(e,r,n,o,d){if(null==d&&(d=new Array),null==e.pointer)throw new Error("Cannot generate changes without the pointer");if(null==o&&(o=e.pointer),null!=r.type)if(r.type===H.MOVE){if(null==r.oldPosition)throw new Error("A Move Change must have an oldPosition set "+o.position);r.oldPosition!==o.position&&e.position===o.position&&d.push(new me(H.UPDATE,pe.parentPosition(r.oldPosition),r.value)),d.push(new me(H.MOVE,o.position,r.value,o,void 0,r.oldPosition))}else d.push(r.type===H.ACTION?new at(o.position,e.value,e.context,e.actionType,o,e.running):new me(r.type,o.position,r.value,o));else for(let v=0;v<r.subChanges.length;v++){const R=r.subChanges[v];if(null!=R.type&&R.type!==H.UPDATE&&R.name.length>0){1==n&&d.push(new me(H.UPDATE,o.position,this.findAtPosition(o.position),o));break}}for(let v=0;v<r.subChanges.length;v++){const R=r.subChanges[v];this.generateChanges(e,R,!0,this.schemaMgr.generateSubSchemaPointer(o,R.name),d)}return d}generateNextKeyForPosition(e,r=!1){const n=this.findAtPosition(e,r);if(null==n)throw new Error("No element at position "+e);return Re.generateNextKey(n)}static generateNextKey(e){let r;r=null!=e.size?e:new Set(Object.keys(e));let n=r.size,o=!1;const d=Re.POSSIBLE_CHARS_FOR_ARRAY_KEYS_LENGTH;let v;do{v="";do{const R=Math.trunc(n/d);v=Re.POSSIBLE_CHARS_FOR_ARRAY_KEYS[n%d].concat(v),n=R-1}while(n>=0);o=r.has(v),n++}while(o);return v}findAtPosition(e,r,n){const o=e.split("/");if(null==this.content){if(!r)return null;this.content={}}let d=this.content,v="";return o.forEach(R=>{if(""===R||null===d)return d;if(v=0===v.length?R:v+"/"+R,!d[R]){if(!r)return d=null,null;d[R]={},n&&(n=n.createSubChange(H.ADD,R,{}))}d=d[R]}),d}queryModelToArray(e,r){let n=this.content;return r&&(n=this.findAtPosition(r,!1)),_({path:e,json:n,resultType:"value",wrap:!1,flatten:!0})}queryModelToSingle(e,r){var n;let o=this.content;r&&(o=this.findAtPosition(r,!1));let d=_({path:e,json:o,resultType:"all",wrap:!1});if(Array.isArray(d)){if(!(d.length<=1))throw new Error("Multiple results returned by queryModelToSingle with path "+e);d=d[0]}return!(null===(n=d?.pointer)||void 0===n)&&n.startsWith("/")&&(d.pointer=d.pointer.substring(1)),null!=d&&(delete d.path,delete d.parent,delete d.parentProperty),d}findAllPossibleTargetsOfProperty(e,r,n){if(null==n){const d=this.schemaMgr.generateSchemaPointer(r);n=this.schemaMgr.locateItem(d.subPropertyPointer(e).positionInSchema,!0)}const o=n?.getTargetPath();if(n&&o){const d=o.lastIndexOf(".");return this.queryModelToArray(o.substring(0,d)+".*")}throw new Error("No Schema or no format definition for "+r+"/"+e)}findTargetOfProperty(e,r,n){const o=this.findAtPosition(r,!1);if(o&&o[e]){if(null==n){const v=this.schemaMgr.generateSchemaPointer(r);n=this.schemaMgr.locateItem(v.subPropertyPointer(e).positionInSchema,!0)}const d=n?.getTargetPath();if(n&&d){const v=d.lastIndexOf("."),R=d.substring(0,v)+"[?(@['"+d.substring(v+1)+"']===\""+o[e]+'")]';return this.queryModelToSingle(R)}throw new Error("No Schema or no format definition for "+r+"/"+e)}return null}insertProperty(e,r,n,o){if(o){const d=Object.keys(e);for(const v of d)if(v!==r){const R=e[v];delete e[v],v===o&&(void 0!==e[r]&&delete e[r],e[r]=n),e[v]=R}}else void 0!==e[r]&&delete e[r],e[r]=n}convertToChange(e){let r=this.schemaMgr.generateSchemaPointer(e.location.parent);return this.schemaMgr.locateItem(r.positionInSchema,!1).isArray()?r=r.subItemPointer(null==e.location.id||"*"===e.location.id?this.generateNextKeyForPosition(r.position,!0):e.location.id):null!=e.location.id&&(r=r.subItemPointer(e.location.id)),new me(H.ADD,r.position,e.update,r,e.location.after)}guessNamePropertyOfElement(e,r){if(null==r){if(null==e)throw new Error("Either position or model must be provided");if(null==(r=this.findAtPosition(e,!1)))throw new Error("Position "+e+" does not exist in model")}null!=r.fields&&Array.isArray(r.fields)&&(r=r.fields);const n={score:-1,field:null};for(const o in r)if(Re.scoreFieldAsName(r[o].name,r[o].type,n))break;return n.score>0?n.field:null}static guessNamePropertyOfObject(e){const r={score:-1,field:null};for(const n in e)Re.scoreFieldAsName(n,"Text",r);return r.score>0?r.field:null}static guessNamePropertyFromList(...e){const r={score:-1,field:null};for(const n of e)Re.scoreFieldAsName(n,"Text",r);return r.score>0?r.field:null}static scoreFieldAsName(e,r,n){if(null==e)return!1;const o=e.toLowerCase();for(const[d,v]of this.NAME_PROPERTY_NAMES)if(o===d){const R=v??0;if(n.score<R&&(n.score=R,n.field=e,100==n.score))return!0}else if(o.includes(d)){const R=(v??0)/2;n.score<R&&(n.score=R,n.field=e)}return"Text"==r&&n.score<20&&(n.score=20,n.field=e),n.score>0}extractValue(e,r,n,o){if(null==e||(r.parsed||this.extractMetaData(e,r,n,o),r.direct))return e;if(r.array){if(!(e.length>0))return e;e=e[0]}if(null!=r.subValue)return e[r.subValue];if(null!=r.subValues){for(let d=0;d<r.subValues.length&&null!=(e=e[r.subValues[d]]);d++);return e}}applyValue(e,r,n,o,d,v){if(null==e||(n.parsed||this.extractMetaData(e,n,d,v),n.direct))return r;if(n.array){if(!(e.length>0))return null!=r&&e.push(r),e;e=e[0]}if(null!=n.subValue)void 0===r?delete e[n.subValue]:e[n.subValue]=r;else if(null!=n.subValues){let R=e;if(void 0===r){for(let T=0;T<n.subValues.length-1&&(R=R[n.subValues[T]],null!=R);T++);null!=R&&null!=R[n.subValues[n.subValues.length-1]]&&delete R[n.subValues[n.subValues.length-1]]}else{for(let T=0;T<n.subValues.length-1;T++)null==R[n.subValues[T]]&&(R[n.subValues[T]]={}),R=R[n.subValues[T]];if(null==R[n.subValues[n.subValues.length-1]]&&null!=o){let T=o;for(let N=0;N<n.subValues.length-1;N++){if(null==T[n.subValues[N]]){T=null;break}T=T[n.subValues[N]]}if(null!=T)for(const N in T)null==R[N]&&null!=T[N]&&(R[N]=structuredClone(T[N]))}R[n.subValues[n.subValues.length-1]]=r}}return e}sortValues(e,r=1,n,o,d,v){const R=o??new lt;if(!R.parsed)for(const T of e)if(this.extractMetaData(this.extractField(T,n),R,d,v),R.parsed)break;R.parsed?e.sort((T,N)=>{const D=this.extractValue(this.extractField(T,n),R,d,v),U=this.extractValue(this.extractField(N,n),R,d,v);return null==D?null==U?0:-r:null==U?r:"string"==typeof D&&"string"==typeof U?r*D.localeCompare(U):D<U?-r:D>U?r:0}):console.warn("Cannot sort array of unknown values")}extractMetaData(e,r,n,o){if(null!=e)if(r.parsed=!0,r.subValue=null,r.subValues=null,"object"!=typeof e)null!=e?r.direct=!0:r.parsed=!1;else if(Array.isArray(e)&&(r.array=!0,console.debug("Getting an array as a value for metadata extraction",e),e.length>0?e=e[0]:r.parsed=!1),e instanceof Date)r.direct=!0;else if(void 0!==e.value)r.subValue="value";else if(void 0!==e.amount)r.subValue="amount";else if(void 0!==e.cost)r.subValues=["cost","amount"];else{let d=null;for(const v in e)null==d&&(d=v),null!=e[v]&&"object"!=typeof e[v]&&(r.subValue=v);null==r.subValue&&null==r.subValues&&("object"!=typeof e||e instanceof Date?(r.subValue=d,console.warn("Guessed value key of "+r.subValue+" for object:",e)):(console.warn("Cannot guess value for object: ",e),r.parsed=!1,r.subValue=null,r.subValues=null,r.direct=!1,r.array=!1))}}modifyValues(e,r,n,o,d,v){if(null==e)throw new Error("Cannot modify value of null object");const N=o(this.extractValue(e,n,d,v),this.extractValue(r,n,d,v));return this.applyValue(e,N,n,r,d,v)}extractField(e,r){return null!=r&&null!=e?e[r]:e}}Re.POSSIBLE_CHARS_FOR_ARRAY_KEYS="abcdefghijklmnopqrstuvxyz",Re.POSSIBLE_CHARS_FOR_ARRAY_KEYS_LENGTH=Re.POSSIBLE_CHARS_FOR_ARRAY_KEYS.length,Re.NAME_PROPERTY_NAMES=new Map([["name",100],["nom",100],["title",80],["titre",80],["lastname",80],["label",70],["libell\xe9",70]]);class lt{constructor(){this.parsed=!1,this.array=!1,this.direct=!1,this.subValue=null,this.subValues=null}}class ut{constructor(e,r,n,o){this.name="",this.subChanges=new Array,this.isRoot=!1,e&&(this.type=e),r&&(this.name=r),this.oldPosition=o,this.value=n}createSubChange(e,r,n,o){const d=new ut(e,r,n,o);return this.subChanges.push(d),d}}class xt{}class Pt{constructor(e,r){this.schemaManager=e,this.modelManager=r,this.listeners=new Map,this.listenerCachePerPosition=new Map,this.reset()}reset(){null!=this.receivedChanges&&this.receivedChanges.complete(),this.receivedChanges=new g.x,this.listeners.clear(),this.listenerCachePerPosition.clear()}isInterestedIn(e,r,n){let o=!1;if("?"===e[e.length-1]&&(o=!0,e=e.substring(0,e.length-1)),"/"===e[e.length-1]&&(e=e.substring(0,e.length-1)),null!=n.position&&n.position.startsWith(e)){let d=pe.nextItemAndPosition(n.position,e.length+1);const v=d.value;return r?v===r||(d=pe.nextItemAndPosition(n.position,d.pos+1),d.value===r):!o||null!=v&&(d=pe.nextItemAndPosition(n.position,d.pos+1),""===d.value)}return!1}createNewListener(e,r){const n={position:e,property:r};this.clearEmptyListeners();let o=this.listeners.get(n);if(null==o&&(o=new h.t(1),this.listeners.set(n,o),this.listenerCachePerPosition.clear()),1==o.observed)return(0,E._)(()=>new Error("Several components listen to the same position {"+e+", "+r));const d=this.cleanPosition(e),v=this.modelManager.findAtPosition(d,!1);if(null!=v){let R=new me(H.RESET,d,v,this.schemaManager.generateSchemaPointer(d));if(this.isInterestedIn(e,r,R))o.next(R);else if(null!=r)for(const T in v)R=new me(H.RESET,d+"/"+T,v[T],this.schemaManager.generateSchemaPointer(d+"/"+T)),this.isInterestedIn(e,r,R)?o.next(R):null!=r&&null!=v[T][r]&&(R=new me(H.RESET,d+"/"+T+"/"+r,v[T][r],this.schemaManager.generateSchemaPointer(d+"/"+T+"/"+r)),this.isInterestedIn(e,r,R)&&o.next(R))}return o}addToListenerCache(e,r){let n=this.listenerCachePerPosition.get(e);n||(n=new Array,this.listenerCachePerPosition.set(e,n)),n.push(r)}getJsonAt(e){return this.modelManager.findAtPosition(e,!1)}applyPluginConfigUpdates(e){if(null!=e)for(const r of e)this.pushChange(this.modelManager.convertToChange(r))}pushChange(e){let r=!1;const n=this.modelManager.applyChange(e);r=this.manageChangeInternally(e);for(const o of n)if(o.type!==e.type||o.position!==e.position){const d=this.manageChangeInternally(o);r=r||d}return r}manageChangeInternally(e){return e.pointer||(e.pointer=this.calculatePointerFor(e.position)),this.receivedChanges.next(e),this.findAndNotify(e,new Map)}findAndNotify(e,r){var n;let o=!1;this.listenerCachePerPosition.get(e.position)||this.listeners.forEach((v,R)=>{this.isInterestedIn(R.position,R.property,e)&&this.addToListenerCache(e.position,v)});const d=this.listenerCachePerPosition.get(e.position);if(null!=d)for(const v of d){let R=!0;const T=r.get(v);if(T)for(const N of T)e.position.startsWith(N)&&(R=!1);else r.set(v,new Array);R&&(o=!0,v.next(e),null===(n=r.get(v))||void 0===n||n.push(e.position))}return o}receiveCommands(e,r){return e?this.createNewListener(e,r):this.receivedChanges}getSchemaManager(){return this.schemaManager}calculatePointerFor(e){return this.schemaManager.generateSchemaPointer(e)}close(){this.receivedChanges.complete()}cleanPosition(e){return(e=e.endsWith("?")?e.substring(0,e.length-1):e).endsWith("/")?e.substring(0,e.length-1):e}clearEmptyListeners(){const e=new Array;for(const r of this.listeners)r[1].observed||e.push(r[0]);for(const r of e)this.listeners.delete(r)}}class yt{constructor(){console.debug("Init core"),this.schemaManager=new ft,this.pluginManager=new dt,this.previewManager=new ht,this.modelManager=new Re(this.schemaManager),this.changeManager=new Pt(this.schemaManager,this.modelManager),this.storeManager=new vt(this.modelManager)}reset(){return this.schemaManager.reset(),this.pluginManager.reset(),this.previewManager.reset(),this.modelManager.reset(),this.changeManager.reset(),this.storeManager.reset(),this}registerPlugin(e){this.pluginManager.registerPlugin(e,this.schemaManager,this.previewManager)}initPlugins(){this.pluginManager.initPlugins(this)}getSchemaUri(){return"schemas/v1/dont-code-schema.json"}getSchemaManager(){return this.schemaManager}getPreviewManager(){return this.previewManager}getStoreManager(){return this.storeManager}getModelManager(){return this.modelManager}getChangeManager(){return this.changeManager}}self.dontCodeCore||(self.dontCodeCore=new yt);var nt=self.dontCodeCore;class bt{constructor(e,r,n){this.type=e,this.sessionId=r,this.change=n}}var st=(()=>{return(c=st||(st={})).INIT="INIT",c.CHANGE="CHANGE",st;var c})();class Ct{}class Nt{performAction(e){return new Promise(()=>{this.performSynchronousAction(e)})}performSynchronousAction(e){throw new Error("Action "+e+" for "+e.context.valueOf()+" at "+e.position+" not implemented yet")}}class Ae{static clearConfigCache(){this.specialFieldsCache.clear()}static applyFilters(e,...r){return null==r||0==r.length?e:e.filter(n=>{for(const o of r){const d=n[o.name];switch(o.operator){case Ve.EQUALS:return o.value==d;case Ve.LESS_THAN:return d<o.value;case Ve.LESS_THAN_EQUAL:return d<=o.value;default:throw new Error("Operator "+o.operator+" unknown")}}return!0})}static findSpecialFields(e,r){var n,o,d;let v=Ae.specialFieldsCache.get(e);if(null!=v)return v;const R={score:-1,field:null};v=new Et;const T=r.fields;if(null!=T){let N;for(N in T)"Date"===(null===(n=T[N])||void 0===n?void 0:n.type)||"Date & Time"===(null===(o=T[N])||void 0===o?void 0:o.type)?v.addDateField(null===(d=T[N])||void 0===d?void 0:d.name):Ae.scoreIdFieldFromEntityField(T[N],R)}return R.score>0&&(v.idField=R.field),Ae.specialFieldsCache.set(e,v),console.debug("Found special fields for entity at position "+e,v),v}static findSpecialFieldsFromData(e,r){if(null==r.idField&&e?.length>0){const n=e[0],o={score:-1,field:null};let d;for(d in n)Ae.scoreIdFieldFromProperty(d,o);if(o.score>0){const v=e.length>1?e[Math.floor((e.length+1)/2)]:null;(null==v||v[o.field]!=n[o.field])&&(r.idField=o.field)}}}static scoreIdFieldFromEntityField(e,r){return Ae.scoreIdFieldFromProperty(e?.name,r)}static scoreIdFieldFromProperty(e,r){if(null==e)return!1;const n=e.toLowerCase();return"_id"===n?(r.field="_id",r.score=100,!0):("id"==n||"uniqueid"==n||"identifier"==n||"key"==n||"primaryKey"==n||"uniqueKey"==n?r.score<80&&(r.score=80,r.field=e):n.includes("unique")||n.includes("primary")?r.score<50&&(r.score=50,r.field=e):(n.includes("id")||n.includes("key"))&&r.score<30&&(r.score=30,r.field=e),!1)}static cleanUpDataBeforeSaving(e,r){null!=r?.idField&&"_id"!=r?.idField&&e.forEach(n=>{delete n._id})}static cleanUpLoadedData(e,r){null!=r&&(null==r.idField&&Ae.findSpecialFieldsFromData(e,r),e.forEach(n=>{var o;null!=r.idField&&"_id"!=r.idField&&(n._id=n[r.idField]),null===(o=r.dateFields)||void 0===o||o.forEach(d=>{const v=n[d];if(null!=v){let R=Date.parse(v);if(isNaN(R)){const T=v.lastIndexOf("[");-1!=T&&(R=Date.parse(v.substring(0,T)))}isNaN(R)?delete n[d]:n[d]=new Date(R)}})}))}static multiSortArray(e,r){return e}static calculateGroupedByValues(e,r,n,o,d){var v,R;if(null!=r&&null!=r.display){let T=r.of;null!=r.show&&(T=r.show.valueOf());const N=new Map;let D,U=new Map;const ee=r.getRequiredListOfFields();for(const Oe of e){if(Oe[T]!=D){D=Oe[T];const fe=N.get(D);null==fe?(U=new Map,N.set(D,U)):U=fe}for(const fe of ee){let V=U?.get(fe);null==V&&(V=new Dt,U.set(fe,V));const ne=Oe[fe],ae=ne;if(null!=ne)if("object"!=typeof ne||ne instanceof Date||null==n)"number"==typeof ae?(null==V.sum&&(V.sum=0),V.sum=V.sum+ae,(null==V.minimum||ae<V.minimum)&&(V.minimum=ne,V.minAsValue=ne),(null==V.maximum||ae>V.maximum)&&(V.maximum=ne,V.maxAsValue=ne),V.count++):(ae instanceof Date&&!isNaN(ae.getTime())&&(V.sum=null,(null==V.minimum||ae.valueOf()<V.minimum.valueOf())&&(V.minimum=ne),(null==V.maximum||ae.valueOf()>V.maximum.valueOf())&&(V.maximum=ne)),V.count++);else{V.sum=null==V.sum?structuredClone(ne):n.modifyValues(V.sum,ne,V.metaData,(Te,ze)=>null!=Te&&null!=ze?Te+ze:null==Te?ze:null==ze?Te:void 0,o,d);const ye=n.extractValue(ne,V.metaData,o,d);if(null==V.minimum)V.minimum=ne,V.minAsValue=ye;else{const Te=V.minAsValue;null!=ye&&(null==Te||ye<Te)&&(V.minimum=ne,V.minAsValue=ye)}if(null==V.maximum)V.maximum=ne,V.maxAsValue=ye;else{const Te=V.maxAsValue;null!=ye&&(null==Te||ye>Te)&&(V.maximum=ne,V.maxAsValue=ye)}null!=ye&&V.count++}}}let le;if(N.size>0){le=new St(r,new Map);for(const Oe of N.keys()){const fe=N.get(Oe);for(const V of Object.values(r.display)){let ne;const ae=fe.get(V.of);if(null!=ae){switch(V.operation){case Le.Count:ne=ae.count;break;case Le.Sum:ne=ae.sum;break;case Le.Average:ne=null==ae.sum||0==ae.count?null:"object"!=typeof ae.sum||ae.sum instanceof Date||null==n?ae.sum/ae.count:n.applyValue(structuredClone(ae.sum),n.extractValue(ae.sum,ae.metaData,o,d)/ae.count,ae.metaData,void 0,o,d);break;case Le.Minimum:ne=ae.minimum;break;case Le.Maximum:ne=ae.maximum}let ye=null===(v=le.values)||void 0===v?void 0:v.get(Oe);null==ye&&(ye=new Array,null===(R=le.values)||void 0===R||R.set(Oe,ye)),ye.push(new Ot(V,ne))}}}return le.values.size>0?le:void 0}}}}Ae.specialFieldsCache=new Map;class Dt{constructor(){this.count=0,this.minAsValue=null,this.maxAsValue=null,this.metaData=new lt}}class Et{constructor(){this.dateFields=null,this.idField=null}addDateField(e){null==this.dateFields&&(this.dateFields=new Array),this.dateFields.push(e)}}class gt{constructor(e,r,n){this.sortedData=e,this.sortInfo=r,this.groupedByEntities=n}}class St{constructor(e,r){this.groupInfo=e,this.values=r,null==r&&(this.values=new Map)}}class Ot{constructor(e,r){this.forAggregate=e,this.value=r}}class mt{constructor(e){this.modelMgr=e}safeLoadEntity(e,r){return this.loadEntity(e,r).then(n=>n??Promise.reject("Not found"))}searchEntities(e,...r){return this.listEntities(e).pipe((0,S.U)(n=>Ae.applyFilters(n,...r)))}listEntities(e){return this.searchEntities(e)}searchAndPrepareEntities(e,r,n,o,...d){return this.searchEntities(e,...d).pipe((0,S.U)(v=>null!=o?o.postLoadingTransformation(v):v),(0,S.U)(v=>{let R;return(null!=r||!0===n?.atLeastOneGroupIsRequested())&&(v=Ae.multiSortArray(v,this.calculateSortHierarchy(r,n)),null!=n&&(R=Ae.calculateGroupedByValues(v,n,this.modelMgr))),new gt(v,r,R)}))}calculateSortHierarchy(e,r){let n;return n=null!=r?new pt(r.of,void 0,e):e,n}}class He{static createDeleteChange(e,r,n,o,d){return He.createAnyChange(H.DELETE,e,r,n,o,null,d)}static createMoveChange(e,r,n,o,d,v,R){const T=He.createAnyChange(H.MOVE,n,o,d,v,null,R);return T.oldPosition=e,r&&(T.beforeKey=r),T}static createTestChange(e,r,n,o,d,v){return He.createAnyChange(H.ADD,e,r,n,o,d,v)}static addDummyProviderFromContent(e,r,n){nt.getStoreManager().setProvider(new wt(r,n),e)}static waitUntilTrue(e,r,n,o){He.waitUntilTrueAndEmit(e,n,o).then(d=>{d?r():r("Timeout waiting for an event")},d=>{r(d)})}static waitUntilTrueAndEmit(e,r,n){return n=n??50,(0,y.z)(function J(c=0,e,r=j){let n=-1;return null!=e&&((0,K.K)(e)?r=e:n=e),new O.y(o=>{let d=function B(c){return c instanceof Date&&!isNaN(c)}(c)?+c-r.now():c;d<0&&(d=0);let v=0;return r.schedule(function(){o.closed||(o.next(v++),0<=n?this.schedule(void 0,n):o.complete())},d)})}(r=r??50,r).pipe((0,W.q)(n),(0,k.h)(()=>e()),(0,S.U)(()=>!0)),{defaultValue:!1})}static createAnyChange(e,r,n,o,d,v,R){var T;const N=n?"/"+n:"",D=d?"/"+d:"";let U=o?"/"+o:"";0==r.length&&(U=o||"");let ee=R?"/"+R:"";return 0==r.length&&0==U.length&&(ee=R||""),new me(e,r+N+U+D+ee,v,new pe(r+N+U+D+ee,r+U+ee,r+N+(R?U+D:d?U:""),r+(R?U:""),null!==(T=R??d)&&void 0!==T?T:void 0,null!=R))}}class wt extends mt{constructor(e,r){super(r),this.content=e}canStoreDocument(e){return!1}deleteEntity(e,r){return Promise.reject("Not implemented by Dummy tester")}loadEntity(e,r){return null!=this.content[r]?Promise.resolve(this.content[r]):Promise.reject("Not found")}searchEntities(e,...r){return Array.isArray(this.content)?(0,Z.D)([this.content]):(0,Z.D)([[this.content]])}storeDocuments(e,r){return(0,E._)(()=>new Error("Not implemented by Dummy tester"))}storeEntity(e,r){return Promise.reject("Not implemented by Dummy tester")}}class Mt{constructor(e){this.toRet=e}getJsonAt(e){return this.toRet}receiveCommands(e,r){return new O.y}calculatePointerFor(e){return nt.getSchemaManager().generateSchemaPointer(e)}getSchemaManager(){return nt.getSchemaManager()}sendCommand(e){return Promise.resolve(void 0)}}class Ft{constructor(){this.name="",this.template=!1,this.description=""}}}}]);